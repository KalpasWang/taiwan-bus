(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function i(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=i(s);fetch(s.href,l)}})();function Nl(t,e){const i=Object.create(null),o=t.split(",");for(let s=0;s<o.length;s++)i[o[s]]=!0;return e?s=>!!i[s.toLowerCase()]:s=>!!i[s]}function Bl(t){if(bt(t)){const e={};for(let i=0;i<t.length;i++){const o=t[i],s=de(o)?Jm(o):Bl(o);if(s)for(const l in s)e[l]=s[l]}return e}else{if(de(t))return t;if(Xt(t))return t}}const Km=/;(?![^(]*\))/g,Ym=/:([^]+)/,Gm=/\/\*.*?\*\//gs;function Jm(t){const e={};return t.replace(Gm,"").split(Km).forEach(i=>{if(i){const o=i.split(Ym);o.length>1&&(e[o[0].trim()]=o[1].trim())}}),e}function Te(t){let e="";if(de(t))e=t;else if(bt(t))for(let i=0;i<t.length;i++){const o=Te(t[i]);o&&(e+=o+" ")}else if(Xt(t))for(const i in t)t[i]&&(e+=i+" ");return e.trim()}const Xm="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Qm=Nl(Xm);function dd(t){return!!t||t===""}function t_(t,e){if(t.length!==e.length)return!1;let i=!0;for(let o=0;i&&o<t.length;o++)i=Ss(t[o],e[o]);return i}function Ss(t,e){if(t===e)return!0;let i=Pc(t),o=Pc(e);if(i||o)return i&&o?t.getTime()===e.getTime():!1;if(i=Yr(t),o=Yr(e),i||o)return t===e;if(i=bt(t),o=bt(e),i||o)return i&&o?t_(t,e):!1;if(i=Xt(t),o=Xt(e),i||o){if(!i||!o)return!1;const s=Object.keys(t).length,l=Object.keys(e).length;if(s!==l)return!1;for(const u in t){const f=t.hasOwnProperty(u),d=e.hasOwnProperty(u);if(f&&!d||!f&&d||!Ss(t[u],e[u]))return!1}}return String(t)===String(e)}function e_(t,e){return t.findIndex(i=>Ss(i,e))}const wt=t=>de(t)?t:t==null?"":bt(t)||Xt(t)&&(t.toString===pd||!Et(t.toString))?JSON.stringify(t,hd,2):String(t),hd=(t,e)=>e&&e.__v_isRef?hd(t,e.value):Ki(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((i,[o,s])=>(i[`${o} =>`]=s,i),{})}:Ts(e)?{[`Set(${e.size})`]:[...e.values()]}:Xt(e)&&!bt(e)&&!md(e)?String(e):e,ee={},Vi=[],rn=()=>{},n_=()=>!1,i_=/^on[^a-z]/,Ps=t=>i_.test(t),Dl=t=>t.startsWith("onUpdate:"),Oe=Object.assign,$l=(t,e)=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)},r_=Object.prototype.hasOwnProperty,Ft=(t,e)=>r_.call(t,e),bt=Array.isArray,Ki=t=>ao(t)==="[object Map]",Ts=t=>ao(t)==="[object Set]",Pc=t=>ao(t)==="[object Date]",Et=t=>typeof t=="function",de=t=>typeof t=="string",Yr=t=>typeof t=="symbol",Xt=t=>t!==null&&typeof t=="object",zl=t=>Xt(t)&&Et(t.then)&&Et(t.catch),pd=Object.prototype.toString,ao=t=>pd.call(t),o_=t=>ao(t).slice(8,-1),md=t=>ao(t)==="[object Object]",Fl=t=>de(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Vo=Nl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Es=t=>{const e=Object.create(null);return i=>e[i]||(e[i]=t(i))},s_=/-(\w)/g,yn=Es(t=>t.replace(s_,(e,i)=>i?i.toUpperCase():"")),a_=/\B([A-Z])/g,Mi=Es(t=>t.replace(a_,"-$1").toLowerCase()),Ls=Es(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ko=Es(t=>t?`on${Ls(t)}`:""),Gr=(t,e)=>!Object.is(t,e),Yi=(t,e)=>{for(let i=0;i<t.length;i++)t[i](e)},os=(t,e,i)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:i})},Ti=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Tc;const l_=()=>Tc||(Tc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let pn;class u_{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=pn,!e&&pn&&(this.index=(pn.scopes||(pn.scopes=[])).push(this)-1)}run(e){if(this.active){const i=pn;try{return pn=this,e()}finally{pn=i}}}on(){pn=this}off(){pn=this.parent}stop(e){if(this.active){let i,o;for(i=0,o=this.effects.length;i<o;i++)this.effects[i].stop();for(i=0,o=this.cleanups.length;i<o;i++)this.cleanups[i]();if(this.scopes)for(i=0,o=this.scopes.length;i<o;i++)this.scopes[i].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this.active=!1}}}function c_(t,e=pn){e&&e.active&&e.effects.push(t)}const Ul=t=>{const e=new Set(t);return e.w=0,e.n=0,e},_d=t=>(t.w&Xn)>0,vd=t=>(t.n&Xn)>0,f_=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Xn},d_=t=>{const{deps:e}=t;if(e.length){let i=0;for(let o=0;o<e.length;o++){const s=e[o];_d(s)&&!vd(s)?s.delete(t):e[i++]=s,s.w&=~Xn,s.n&=~Xn}e.length=i}},il=new WeakMap;let Br=0,Xn=1;const rl=30;let nn;const Si=Symbol(""),ol=Symbol("");class Zl{constructor(e,i=null,o){this.fn=e,this.scheduler=i,this.active=!0,this.deps=[],this.parent=void 0,c_(this,o)}run(){if(!this.active)return this.fn();let e=nn,i=Yn;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=nn,nn=this,Yn=!0,Xn=1<<++Br,Br<=rl?f_(this):Ec(this),this.fn()}finally{Br<=rl&&d_(this),Xn=1<<--Br,nn=this.parent,Yn=i,this.parent=void 0,this.deferStop&&this.stop()}}stop(){nn===this?this.deferStop=!0:this.active&&(Ec(this),this.onStop&&this.onStop(),this.active=!1)}}function Ec(t){const{deps:e}=t;if(e.length){for(let i=0;i<e.length;i++)e[i].delete(t);e.length=0}}let Yn=!0;const gd=[];function dr(){gd.push(Yn),Yn=!1}function hr(){const t=gd.pop();Yn=t===void 0?!0:t}function Ue(t,e,i){if(Yn&&nn){let o=il.get(t);o||il.set(t,o=new Map);let s=o.get(i);s||o.set(i,s=Ul()),yd(s)}}function yd(t,e){let i=!1;Br<=rl?vd(t)||(t.n|=Xn,i=!_d(t)):i=!t.has(nn),i&&(t.add(nn),nn.deps.push(t))}function On(t,e,i,o,s,l){const u=il.get(t);if(!u)return;let f=[];if(e==="clear")f=[...u.values()];else if(i==="length"&&bt(t)){const d=Ti(o);u.forEach((h,m)=>{(m==="length"||m>=d)&&f.push(h)})}else switch(i!==void 0&&f.push(u.get(i)),e){case"add":bt(t)?Fl(i)&&f.push(u.get("length")):(f.push(u.get(Si)),Ki(t)&&f.push(u.get(ol)));break;case"delete":bt(t)||(f.push(u.get(Si)),Ki(t)&&f.push(u.get(ol)));break;case"set":Ki(t)&&f.push(u.get(Si));break}if(f.length===1)f[0]&&sl(f[0]);else{const d=[];for(const h of f)h&&d.push(...h);sl(Ul(d))}}function sl(t,e){const i=bt(t)?t:[...t];for(const o of i)o.computed&&Lc(o);for(const o of i)o.computed||Lc(o)}function Lc(t,e){(t!==nn||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const h_=Nl("__proto__,__v_isRef,__isVue"),wd=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Yr)),p_=Hl(),m_=Hl(!1,!0),__=Hl(!0),kc=v_();function v_(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...i){const o=Wt(this);for(let l=0,u=this.length;l<u;l++)Ue(o,"get",l+"");const s=o[e](...i);return s===-1||s===!1?o[e](...i.map(Wt)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...i){dr();const o=Wt(this)[e].apply(this,i);return hr(),o}}),t}function Hl(t=!1,e=!1){return function(o,s,l){if(s==="__v_isReactive")return!t;if(s==="__v_isReadonly")return t;if(s==="__v_isShallow")return e;if(s==="__v_raw"&&l===(t?e?I_:Pd:e?Sd:Cd).get(o))return o;const u=bt(o);if(!t&&u&&Ft(kc,s))return Reflect.get(kc,s,l);const f=Reflect.get(o,s,l);return(Yr(s)?wd.has(s):h_(s))||(t||Ue(o,"get",s),e)?f:Ee(f)?u&&Fl(s)?f:f.value:Xt(f)?t?Td(f):ti(f):f}}const g_=bd(),y_=bd(!0);function bd(t=!1){return function(i,o,s,l){let u=i[o];if(ir(u)&&Ee(u)&&!Ee(s))return!1;if(!t&&(!ss(s)&&!ir(s)&&(u=Wt(u),s=Wt(s)),!bt(i)&&Ee(u)&&!Ee(s)))return u.value=s,!0;const f=bt(i)&&Fl(o)?Number(o)<i.length:Ft(i,o),d=Reflect.set(i,o,s,l);return i===Wt(l)&&(f?Gr(s,u)&&On(i,"set",o,s):On(i,"add",o,s)),d}}function w_(t,e){const i=Ft(t,e);t[e];const o=Reflect.deleteProperty(t,e);return o&&i&&On(t,"delete",e,void 0),o}function b_(t,e){const i=Reflect.has(t,e);return(!Yr(e)||!wd.has(e))&&Ue(t,"has",e),i}function x_(t){return Ue(t,"iterate",bt(t)?"length":Si),Reflect.ownKeys(t)}const xd={get:p_,set:g_,deleteProperty:w_,has:b_,ownKeys:x_},C_={get:__,set(t,e){return!0},deleteProperty(t,e){return!0}},S_=Oe({},xd,{get:m_,set:y_}),Wl=t=>t,ks=t=>Reflect.getPrototypeOf(t);function Io(t,e,i=!1,o=!1){t=t.__v_raw;const s=Wt(t),l=Wt(e);i||(e!==l&&Ue(s,"get",e),Ue(s,"get",l));const{has:u}=ks(s),f=o?Wl:i?Vl:Jr;if(u.call(s,e))return f(t.get(e));if(u.call(s,l))return f(t.get(l));t!==s&&t.get(e)}function Ro(t,e=!1){const i=this.__v_raw,o=Wt(i),s=Wt(t);return e||(t!==s&&Ue(o,"has",t),Ue(o,"has",s)),t===s?i.has(t):i.has(t)||i.has(s)}function No(t,e=!1){return t=t.__v_raw,!e&&Ue(Wt(t),"iterate",Si),Reflect.get(t,"size",t)}function Oc(t){t=Wt(t);const e=Wt(this);return ks(e).has.call(e,t)||(e.add(t),On(e,"add",t,t)),this}function Mc(t,e){e=Wt(e);const i=Wt(this),{has:o,get:s}=ks(i);let l=o.call(i,t);l||(t=Wt(t),l=o.call(i,t));const u=s.call(i,t);return i.set(t,e),l?Gr(e,u)&&On(i,"set",t,e):On(i,"add",t,e),this}function Ac(t){const e=Wt(this),{has:i,get:o}=ks(e);let s=i.call(e,t);s||(t=Wt(t),s=i.call(e,t)),o&&o.call(e,t);const l=e.delete(t);return s&&On(e,"delete",t,void 0),l}function Ic(){const t=Wt(this),e=t.size!==0,i=t.clear();return e&&On(t,"clear",void 0,void 0),i}function Bo(t,e){return function(o,s){const l=this,u=l.__v_raw,f=Wt(u),d=e?Wl:t?Vl:Jr;return!t&&Ue(f,"iterate",Si),u.forEach((h,m)=>o.call(s,d(h),d(m),l))}}function Do(t,e,i){return function(...o){const s=this.__v_raw,l=Wt(s),u=Ki(l),f=t==="entries"||t===Symbol.iterator&&u,d=t==="keys"&&u,h=s[t](...o),m=i?Wl:e?Vl:Jr;return!e&&Ue(l,"iterate",d?ol:Si),{next(){const{value:_,done:w}=h.next();return w?{value:_,done:w}:{value:f?[m(_[0]),m(_[1])]:m(_),done:w}},[Symbol.iterator](){return this}}}}function zn(t){return function(...e){return t==="delete"?!1:this}}function P_(){const t={get(l){return Io(this,l)},get size(){return No(this)},has:Ro,add:Oc,set:Mc,delete:Ac,clear:Ic,forEach:Bo(!1,!1)},e={get(l){return Io(this,l,!1,!0)},get size(){return No(this)},has:Ro,add:Oc,set:Mc,delete:Ac,clear:Ic,forEach:Bo(!1,!0)},i={get(l){return Io(this,l,!0)},get size(){return No(this,!0)},has(l){return Ro.call(this,l,!0)},add:zn("add"),set:zn("set"),delete:zn("delete"),clear:zn("clear"),forEach:Bo(!0,!1)},o={get(l){return Io(this,l,!0,!0)},get size(){return No(this,!0)},has(l){return Ro.call(this,l,!0)},add:zn("add"),set:zn("set"),delete:zn("delete"),clear:zn("clear"),forEach:Bo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{t[l]=Do(l,!1,!1),i[l]=Do(l,!0,!1),e[l]=Do(l,!1,!0),o[l]=Do(l,!0,!0)}),[t,i,e,o]}const[T_,E_,L_,k_]=P_();function jl(t,e){const i=e?t?k_:L_:t?E_:T_;return(o,s,l)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?o:Reflect.get(Ft(i,s)&&s in o?i:o,s,l)}const O_={get:jl(!1,!1)},M_={get:jl(!1,!0)},A_={get:jl(!0,!1)},Cd=new WeakMap,Sd=new WeakMap,Pd=new WeakMap,I_=new WeakMap;function R_(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function N_(t){return t.__v_skip||!Object.isExtensible(t)?0:R_(o_(t))}function ti(t){return ir(t)?t:ql(t,!1,xd,O_,Cd)}function al(t){return ql(t,!1,S_,M_,Sd)}function Td(t){return ql(t,!0,C_,A_,Pd)}function ql(t,e,i,o,s){if(!Xt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const l=s.get(t);if(l)return l;const u=N_(t);if(u===0)return t;const f=new Proxy(t,u===2?o:i);return s.set(t,f),f}function Gi(t){return ir(t)?Gi(t.__v_raw):!!(t&&t.__v_isReactive)}function ir(t){return!!(t&&t.__v_isReadonly)}function ss(t){return!!(t&&t.__v_isShallow)}function Ed(t){return Gi(t)||ir(t)}function Wt(t){const e=t&&t.__v_raw;return e?Wt(e):t}function Ld(t){return os(t,"__v_skip",!0),t}const Jr=t=>Xt(t)?ti(t):t,Vl=t=>Xt(t)?Td(t):t;function kd(t){Yn&&nn&&(t=Wt(t),yd(t.dep||(t.dep=Ul())))}function Od(t,e){t=Wt(t),t.dep&&sl(t.dep)}function Ee(t){return!!(t&&t.__v_isRef===!0)}function st(t){return Md(t,!1)}function B_(t){return Md(t,!0)}function Md(t,e){return Ee(t)?t:new D_(t,e)}class D_{constructor(e,i){this.__v_isShallow=i,this.dep=void 0,this.__v_isRef=!0,this._rawValue=i?e:Wt(e),this._value=i?e:Jr(e)}get value(){return kd(this),this._value}set value(e){const i=this.__v_isShallow||ss(e)||ir(e);e=i?e:Wt(e),Gr(e,this._rawValue)&&(this._rawValue=e,this._value=i?e:Jr(e),Od(this))}}function W(t){return Ee(t)?t.value:t}const $_={get:(t,e,i)=>W(Reflect.get(t,e,i)),set:(t,e,i,o)=>{const s=t[e];return Ee(s)&&!Ee(i)?(s.value=i,!0):Reflect.set(t,e,i,o)}};function Ad(t){return Gi(t)?t:new Proxy(t,$_)}var Id;class z_{constructor(e,i,o,s){this._setter=i,this.dep=void 0,this.__v_isRef=!0,this[Id]=!1,this._dirty=!0,this.effect=new Zl(e,()=>{this._dirty||(this._dirty=!0,Od(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=o}get value(){const e=Wt(this);return kd(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}Id="__v_isReadonly";function F_(t,e,i=!1){let o,s;const l=Et(t);return l?(o=t,s=rn):(o=t.get,s=t.set),new z_(o,s,l||!s,i)}function Gn(t,e,i,o){let s;try{s=o?t(...o):t()}catch(l){lo(l,e,i)}return s}function Ge(t,e,i,o){if(Et(t)){const l=Gn(t,e,i,o);return l&&zl(l)&&l.catch(u=>{lo(u,e,i)}),l}const s=[];for(let l=0;l<t.length;l++)s.push(Ge(t[l],e,i,o));return s}function lo(t,e,i,o=!0){const s=e?e.vnode:null;if(e){let l=e.parent;const u=e.proxy,f=i;for(;l;){const h=l.ec;if(h){for(let m=0;m<h.length;m++)if(h[m](t,u,f)===!1)return}l=l.parent}const d=e.appContext.config.errorHandler;if(d){Gn(d,null,10,[t,u,f]);return}}U_(t,i,s,o)}function U_(t,e,i,o=!0){console.error(t)}let Xr=!1,ll=!1;const Ae=[];let mn=0;const Ji=[];let Pn=null,gi=0;const Rd=Promise.resolve();let Kl=null;function Ln(t){const e=Kl||Rd;return t?e.then(this?t.bind(this):t):e}function Z_(t){let e=mn+1,i=Ae.length;for(;e<i;){const o=e+i>>>1;Qr(Ae[o])<t?e=o+1:i=o}return e}function Yl(t){(!Ae.length||!Ae.includes(t,Xr&&t.allowRecurse?mn+1:mn))&&(t.id==null?Ae.push(t):Ae.splice(Z_(t.id),0,t),Nd())}function Nd(){!Xr&&!ll&&(ll=!0,Kl=Rd.then($d))}function H_(t){const e=Ae.indexOf(t);e>mn&&Ae.splice(e,1)}function Bd(t){bt(t)?Ji.push(...t):(!Pn||!Pn.includes(t,t.allowRecurse?gi+1:gi))&&Ji.push(t),Nd()}function Rc(t,e=Xr?mn+1:0){for(;e<Ae.length;e++){const i=Ae[e];i&&i.pre&&(Ae.splice(e,1),e--,i())}}function Dd(t){if(Ji.length){const e=[...new Set(Ji)];if(Ji.length=0,Pn){Pn.push(...e);return}for(Pn=e,Pn.sort((i,o)=>Qr(i)-Qr(o)),gi=0;gi<Pn.length;gi++)Pn[gi]();Pn=null,gi=0}}const Qr=t=>t.id==null?1/0:t.id,W_=(t,e)=>{const i=Qr(t)-Qr(e);if(i===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return i};function $d(t){ll=!1,Xr=!0,Ae.sort(W_);const e=rn;try{for(mn=0;mn<Ae.length;mn++){const i=Ae[mn];i&&i.active!==!1&&Gn(i,null,14)}}finally{mn=0,Ae.length=0,Dd(),Xr=!1,Kl=null,(Ae.length||Ji.length)&&$d()}}function j_(t,e,...i){if(t.isUnmounted)return;const o=t.vnode.props||ee;let s=i;const l=e.startsWith("update:"),u=l&&e.slice(7);if(u&&u in o){const m=`${u==="modelValue"?"model":u}Modifiers`,{number:_,trim:w}=o[m]||ee;w&&(s=i.map(b=>de(b)?b.trim():b)),_&&(s=i.map(Ti))}let f,d=o[f=Ko(e)]||o[f=Ko(yn(e))];!d&&l&&(d=o[f=Ko(Mi(e))]),d&&Ge(d,t,6,s);const h=o[f+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[f])return;t.emitted[f]=!0,Ge(h,t,6,s)}}function zd(t,e,i=!1){const o=e.emitsCache,s=o.get(t);if(s!==void 0)return s;const l=t.emits;let u={},f=!1;if(!Et(t)){const d=h=>{const m=zd(h,e,!0);m&&(f=!0,Oe(u,m))};!i&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}return!l&&!f?(Xt(t)&&o.set(t,null),null):(bt(l)?l.forEach(d=>u[d]=null):Oe(u,l),Xt(t)&&o.set(t,u),u)}function Os(t,e){return!t||!Ps(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ft(t,e[0].toLowerCase()+e.slice(1))||Ft(t,Mi(e))||Ft(t,e))}let Le=null,Ms=null;function as(t){const e=Le;return Le=t,Ms=t&&t.type.__scopeId||null,e}function q_(t){Ms=t}function V_(){Ms=null}const K_=t=>Y;function Y(t,e=Le,i){if(!e||t._n)return t;const o=(...s)=>{o._d&&qc(-1);const l=as(e);let u;try{u=t(...s)}finally{as(l),o._d&&qc(1)}return u};return o._n=!0,o._c=!0,o._d=!0,o}function Ca(t){const{type:e,vnode:i,proxy:o,withProxy:s,props:l,propsOptions:[u],slots:f,attrs:d,emit:h,render:m,renderCache:_,data:w,setupState:b,ctx:y,inheritAttrs:v}=t;let x,P;const S=as(t);try{if(i.shapeFlag&4){const M=s||o;x=en(m.call(M,M,_,l,b,w,y)),P=d}else{const M=e;x=en(M.length>1?M(l,{attrs:d,slots:f,emit:h}):M(l,null)),P=e.props?d:G_(d)}}catch(M){zr.length=0,lo(M,t,1),x=I(Fe)}let E=x;if(P&&v!==!1){const M=Object.keys(P),{shapeFlag:V}=E;M.length&&V&7&&(u&&M.some(Dl)&&(P=J_(P,u)),E=Mn(E,P))}return i.dirs&&(E=Mn(E),E.dirs=E.dirs?E.dirs.concat(i.dirs):i.dirs),i.transition&&(E.transition=i.transition),x=E,as(S),x}function Y_(t){let e;for(let i=0;i<t.length;i++){const o=t[i];if(or(o)){if(o.type!==Fe||o.children==="v-if"){if(e)return;e=o}}else return}return e}const G_=t=>{let e;for(const i in t)(i==="class"||i==="style"||Ps(i))&&((e||(e={}))[i]=t[i]);return e},J_=(t,e)=>{const i={};for(const o in t)(!Dl(o)||!(o.slice(9)in e))&&(i[o]=t[o]);return i};function X_(t,e,i){const{props:o,children:s,component:l}=t,{props:u,children:f,patchFlag:d}=e,h=l.emitsOptions;if(e.dirs||e.transition)return!0;if(i&&d>=0){if(d&1024)return!0;if(d&16)return o?Nc(o,u,h):!!u;if(d&8){const m=e.dynamicProps;for(let _=0;_<m.length;_++){const w=m[_];if(u[w]!==o[w]&&!Os(h,w))return!0}}}else return(s||f)&&(!f||!f.$stable)?!0:o===u?!1:o?u?Nc(o,u,h):!0:!!u;return!1}function Nc(t,e,i){const o=Object.keys(e);if(o.length!==Object.keys(t).length)return!0;for(let s=0;s<o.length;s++){const l=o[s];if(e[l]!==t[l]&&!Os(i,l))return!0}return!1}function Gl({vnode:t,parent:e},i){for(;e&&e.subTree===t;)(t=e.vnode).el=i,e=e.parent}const Fd=t=>t.__isSuspense,Q_={name:"Suspense",__isSuspense:!0,process(t,e,i,o,s,l,u,f,d,h){t==null?tv(e,i,o,s,l,u,f,d,h):ev(t,e,i,o,s,u,f,d,h)},hydrate:nv,create:Jl,normalize:iv},Ud=Q_;function to(t,e){const i=t.props&&t.props[e];Et(i)&&i()}function tv(t,e,i,o,s,l,u,f,d){const{p:h,o:{createElement:m}}=d,_=m("div"),w=t.suspense=Jl(t,s,o,e,_,i,l,u,f,d);h(null,w.pendingBranch=t.ssContent,_,null,o,w,l,u),w.deps>0?(to(t,"onPending"),to(t,"onFallback"),h(null,t.ssFallback,e,i,o,null,l,u),Xi(w,t.ssFallback)):w.resolve()}function ev(t,e,i,o,s,l,u,f,{p:d,um:h,o:{createElement:m}}){const _=e.suspense=t.suspense;_.vnode=e,e.el=t.el;const w=e.ssContent,b=e.ssFallback,{activeBranch:y,pendingBranch:v,isInFallback:x,isHydrating:P}=_;if(v)_.pendingBranch=w,_n(w,v)?(d(v,w,_.hiddenContainer,null,s,_,l,u,f),_.deps<=0?_.resolve():x&&(d(y,b,i,o,s,null,l,u,f),Xi(_,b))):(_.pendingId++,P?(_.isHydrating=!1,_.activeBranch=v):h(v,s,_),_.deps=0,_.effects.length=0,_.hiddenContainer=m("div"),x?(d(null,w,_.hiddenContainer,null,s,_,l,u,f),_.deps<=0?_.resolve():(d(y,b,i,o,s,null,l,u,f),Xi(_,b))):y&&_n(w,y)?(d(y,w,i,o,s,_,l,u,f),_.resolve(!0)):(d(null,w,_.hiddenContainer,null,s,_,l,u,f),_.deps<=0&&_.resolve()));else if(y&&_n(w,y))d(y,w,i,o,s,_,l,u,f),Xi(_,w);else if(to(e,"onPending"),_.pendingBranch=w,_.pendingId++,d(null,w,_.hiddenContainer,null,s,_,l,u,f),_.deps<=0)_.resolve();else{const{timeout:S,pendingId:E}=_;S>0?setTimeout(()=>{_.pendingId===E&&_.fallback(b)},S):S===0&&_.fallback(b)}}function Jl(t,e,i,o,s,l,u,f,d,h,m=!1){const{p:_,m:w,um:b,n:y,o:{parentNode:v,remove:x}}=h,P=Ti(t.props&&t.props.timeout),S={vnode:t,parent:e,parentComponent:i,isSVG:u,container:o,hiddenContainer:s,anchor:l,deps:0,pendingId:0,timeout:typeof P=="number"?P:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:m,isUnmounted:!1,effects:[],resolve(E=!1){const{vnode:M,activeBranch:V,pendingBranch:G,pendingId:dt,effects:rt,parentComponent:_t,container:ct}=S;if(S.isHydrating)S.isHydrating=!1;else if(!E){const kt=V&&G.transition&&G.transition.mode==="out-in";kt&&(V.transition.afterLeave=()=>{dt===S.pendingId&&w(G,ct,Ot,0)});let{anchor:Ot}=S;V&&(Ot=y(V),b(V,_t,S,!0)),kt||w(G,ct,Ot,0)}Xi(S,G),S.pendingBranch=null,S.isInFallback=!1;let ht=S.parent,tt=!1;for(;ht;){if(ht.pendingBranch){ht.effects.push(...rt),tt=!0;break}ht=ht.parent}tt||Bd(rt),S.effects=[],to(M,"onResolve")},fallback(E){if(!S.pendingBranch)return;const{vnode:M,activeBranch:V,parentComponent:G,container:dt,isSVG:rt}=S;to(M,"onFallback");const _t=y(V),ct=()=>{S.isInFallback&&(_(null,E,dt,_t,G,null,rt,f,d),Xi(S,E))},ht=E.transition&&E.transition.mode==="out-in";ht&&(V.transition.afterLeave=ct),S.isInFallback=!0,b(V,G,null,!0),ht||ct()},move(E,M,V){S.activeBranch&&w(S.activeBranch,E,M,V),S.container=E},next(){return S.activeBranch&&y(S.activeBranch)},registerDep(E,M){const V=!!S.pendingBranch;V&&S.deps++;const G=E.vnode.el;E.asyncDep.catch(dt=>{lo(dt,E,0)}).then(dt=>{if(E.isUnmounted||S.isUnmounted||S.pendingId!==E.suspenseId)return;E.asyncResolved=!0;const{vnode:rt}=E;ml(E,dt,!1),G&&(rt.el=G);const _t=!G&&E.subTree.el;M(E,rt,v(G||E.subTree.el),G?null:y(E.subTree),S,u,d),_t&&x(_t),Gl(E,rt.el),V&&--S.deps===0&&S.resolve()})},unmount(E,M){S.isUnmounted=!0,S.activeBranch&&b(S.activeBranch,i,E,M),S.pendingBranch&&b(S.pendingBranch,i,E,M)}};return S}function nv(t,e,i,o,s,l,u,f,d){const h=e.suspense=Jl(e,o,i,t.parentNode,document.createElement("div"),null,s,l,u,f,!0),m=d(t,h.pendingBranch=e.ssContent,i,h,l,u);return h.deps===0&&h.resolve(),m}function iv(t){const{shapeFlag:e,children:i}=t,o=e&32;t.ssContent=Bc(o?i.default:i),t.ssFallback=o?Bc(i.fallback):I(Fe)}function Bc(t){let e;if(Et(t)){const i=rr&&t._c;i&&(t._d=!1,N()),t=t(),i&&(t._d=!0,e=Ke,lh())}return bt(t)&&(t=Y_(t)),t=en(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(i=>i!==t)),t}function rv(t,e){e&&e.pendingBranch?bt(t)?e.effects.push(...t):e.effects.push(t):Bd(t)}function Xi(t,e){t.activeBranch=e;const{vnode:i,parentComponent:o}=t,s=i.el=e.el;o&&o.subTree===i&&(o.vnode.el=s,Gl(o,s))}function Je(t,e){if(be){let i=be.provides;const o=be.parent&&be.parent.provides;o===i&&(i=be.provides=Object.create(o)),i[t]=e}}function ue(t,e,i=!1){const o=be||Le;if(o){const s=o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides;if(s&&t in s)return s[t];if(arguments.length>1)return i&&Et(e)?e.call(o.proxy):e}}function ov(t,e){return As(t,null,e)}function Zd(t,e){return As(t,null,{flush:"post"})}const $o={};function Me(t,e,i){return As(t,e,i)}function As(t,e,{immediate:i,deep:o,flush:s,onTrack:l,onTrigger:u}=ee){const f=be;let d,h=!1,m=!1;if(Ee(t)?(d=()=>t.value,h=ss(t)):Gi(t)?(d=()=>t,o=!0):bt(t)?(m=!0,h=t.some(E=>Gi(E)||ss(E)),d=()=>t.map(E=>{if(Ee(E))return E.value;if(Gi(E))return Ci(E);if(Et(E))return Gn(E,f,2)})):Et(t)?e?d=()=>Gn(t,f,2):d=()=>{if(!(f&&f.isUnmounted))return _&&_(),Ge(t,f,3,[w])}:d=rn,e&&o){const E=d;d=()=>Ci(E())}let _,w=E=>{_=P.onStop=()=>{Gn(E,f,4)}},b;if(io)if(w=rn,e?i&&Ge(e,f,3,[d(),m?[]:void 0,w]):d(),s==="sync"){const E=Kv();b=E.__watcherHandles||(E.__watcherHandles=[])}else return rn;let y=m?new Array(t.length).fill($o):$o;const v=()=>{if(P.active)if(e){const E=P.run();(o||h||(m?E.some((M,V)=>Gr(M,y[V])):Gr(E,y)))&&(_&&_(),Ge(e,f,3,[E,y===$o?void 0:m&&y[0]===$o?[]:y,w]),y=E)}else P.run()};v.allowRecurse=!!e;let x;s==="sync"?x=v:s==="post"?x=()=>Pe(v,f&&f.suspense):(v.pre=!0,f&&(v.id=f.uid),x=()=>Yl(v));const P=new Zl(d,x);e?i?v():y=P.run():s==="post"?Pe(P.run.bind(P),f&&f.suspense):P.run();const S=()=>{P.stop(),f&&f.scope&&$l(f.scope.effects,P)};return b&&b.push(S),S}function sv(t,e,i){const o=this.proxy,s=de(t)?t.includes(".")?Hd(o,t):()=>o[t]:t.bind(o,o);let l;Et(e)?l=e:(l=e.handler,i=e);const u=be;Qn(this);const f=As(s,l.bind(o),i);return u?Qn(u):Jn(),f}function Hd(t,e){const i=e.split(".");return()=>{let o=t;for(let s=0;s<i.length&&o;s++)o=o[i[s]];return o}}function Ci(t,e){if(!Xt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Ee(t))Ci(t.value,e);else if(bt(t))for(let i=0;i<t.length;i++)Ci(t[i],e);else if(Ts(t)||Ki(t))t.forEach(i=>{Ci(i,e)});else if(md(t))for(const i in t)Ci(t[i],e);return t}function av(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return In(()=>{t.isMounted=!0}),Ns(()=>{t.isUnmounting=!0}),t}const qe=[Function,Array],lv={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:qe,onEnter:qe,onAfterEnter:qe,onEnterCancelled:qe,onBeforeLeave:qe,onLeave:qe,onAfterLeave:qe,onLeaveCancelled:qe,onBeforeAppear:qe,onAppear:qe,onAfterAppear:qe,onAppearCancelled:qe},setup(t,{slots:e}){const i=iu(),o=av();let s;return()=>{const l=e.default&&qd(e.default(),!0);if(!l||!l.length)return;let u=l[0];if(l.length>1){for(const v of l)if(v.type!==Fe){u=v;break}}const f=Wt(t),{mode:d}=f;if(o.isLeaving)return Sa(u);const h=Dc(u);if(!h)return Sa(u);const m=ul(h,f,o,i);ls(h,m);const _=i.subTree,w=_&&Dc(_);let b=!1;const{getTransitionKey:y}=h.type;if(y){const v=y();s===void 0?s=v:v!==s&&(s=v,b=!0)}if(w&&w.type!==Fe&&(!_n(h,w)||b)){const v=ul(w,f,o,i);if(ls(w,v),d==="out-in")return o.isLeaving=!0,v.afterLeave=()=>{o.isLeaving=!1,i.update.active!==!1&&i.update()},Sa(u);d==="in-out"&&h.type!==Fe&&(v.delayLeave=(x,P,S)=>{const E=jd(o,w);E[String(w.key)]=w,x._leaveCb=()=>{P(),x._leaveCb=void 0,delete m.delayedLeave},m.delayedLeave=S})}return u}}},Wd=lv;function jd(t,e){const{leavingVNodes:i}=t;let o=i.get(e.type);return o||(o=Object.create(null),i.set(e.type,o)),o}function ul(t,e,i,o){const{appear:s,mode:l,persisted:u=!1,onBeforeEnter:f,onEnter:d,onAfterEnter:h,onEnterCancelled:m,onBeforeLeave:_,onLeave:w,onAfterLeave:b,onLeaveCancelled:y,onBeforeAppear:v,onAppear:x,onAfterAppear:P,onAppearCancelled:S}=e,E=String(t.key),M=jd(i,t),V=(rt,_t)=>{rt&&Ge(rt,o,9,_t)},G=(rt,_t)=>{const ct=_t[1];V(rt,_t),bt(rt)?rt.every(ht=>ht.length<=1)&&ct():rt.length<=1&&ct()},dt={mode:l,persisted:u,beforeEnter(rt){let _t=f;if(!i.isMounted)if(s)_t=v||f;else return;rt._leaveCb&&rt._leaveCb(!0);const ct=M[E];ct&&_n(t,ct)&&ct.el._leaveCb&&ct.el._leaveCb(),V(_t,[rt])},enter(rt){let _t=d,ct=h,ht=m;if(!i.isMounted)if(s)_t=x||d,ct=P||h,ht=S||m;else return;let tt=!1;const kt=rt._enterCb=Ot=>{tt||(tt=!0,Ot?V(ht,[rt]):V(ct,[rt]),dt.delayedLeave&&dt.delayedLeave(),rt._enterCb=void 0)};_t?G(_t,[rt,kt]):kt()},leave(rt,_t){const ct=String(t.key);if(rt._enterCb&&rt._enterCb(!0),i.isUnmounting)return _t();V(_,[rt]);let ht=!1;const tt=rt._leaveCb=kt=>{ht||(ht=!0,_t(),kt?V(y,[rt]):V(b,[rt]),rt._leaveCb=void 0,M[ct]===t&&delete M[ct])};M[ct]=t,w?G(w,[rt,tt]):tt()},clone(rt){return ul(rt,e,i,o)}};return dt}function Sa(t){if(Is(t))return t=Mn(t),t.children=null,t}function Dc(t){return Is(t)?t.children?t.children[0]:void 0:t}function ls(t,e){t.shapeFlag&6&&t.component?ls(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function qd(t,e=!1,i){let o=[],s=0;for(let l=0;l<t.length;l++){let u=t[l];const f=i==null?u.key:String(i)+String(u.key!=null?u.key:l);u.type===jt?(u.patchFlag&128&&s++,o=o.concat(qd(u.children,e,f))):(e||u.type!==Fe)&&o.push(f!=null?Mn(u,{key:f}):u)}if(s>1)for(let l=0;l<o.length;l++)o[l].patchFlag=-2;return o}function Vd(t){return Et(t)?{setup:t,name:t.name}:t}const Qi=t=>!!t.type.__asyncLoader,Is=t=>t.type.__isKeepAlive,uv={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const i=iu(),o=i.ctx;if(!o.renderer)return()=>{const S=e.default&&e.default();return S&&S.length===1?S[0]:S};const s=new Map,l=new Set;let u=null;const f=i.suspense,{renderer:{p:d,m:h,um:m,o:{createElement:_}}}=o,w=_("div");o.activate=(S,E,M,V,G)=>{const dt=S.component;h(S,E,M,0,f),d(dt.vnode,S,E,M,dt,f,V,S.slotScopeIds,G),Pe(()=>{dt.isDeactivated=!1,dt.a&&Yi(dt.a);const rt=S.props&&S.props.onVnodeMounted;rt&&Ve(rt,dt.parent,S)},f)},o.deactivate=S=>{const E=S.component;h(S,w,null,1,f),Pe(()=>{E.da&&Yi(E.da);const M=S.props&&S.props.onVnodeUnmounted;M&&Ve(M,E.parent,S),E.isDeactivated=!0},f)};function b(S){Pa(S),m(S,i,f,!0)}function y(S){s.forEach((E,M)=>{const V=_l(E.type);V&&(!S||!S(V))&&v(M)})}function v(S){const E=s.get(S);!u||E.type!==u.type?b(E):u&&Pa(u),s.delete(S),l.delete(S)}Me(()=>[t.include,t.exclude],([S,E])=>{S&&y(M=>Dr(S,M)),E&&y(M=>!Dr(E,M))},{flush:"post",deep:!0});let x=null;const P=()=>{x!=null&&s.set(x,Ta(i.subTree))};return In(P),Gd(P),Ns(()=>{s.forEach(S=>{const{subTree:E,suspense:M}=i,V=Ta(E);if(S.type===V.type){Pa(V);const G=V.component.da;G&&Pe(G,M);return}b(S)})}),()=>{if(x=null,!e.default)return null;const S=e.default(),E=S[0];if(S.length>1)return u=null,S;if(!or(E)||!(E.shapeFlag&4)&&!(E.shapeFlag&128))return u=null,E;let M=Ta(E);const V=M.type,G=_l(Qi(M)?M.type.__asyncResolved||{}:V),{include:dt,exclude:rt,max:_t}=t;if(dt&&(!G||!Dr(dt,G))||rt&&G&&Dr(rt,G))return u=M,E;const ct=M.key==null?V:M.key,ht=s.get(ct);return M.el&&(M=Mn(M),E.shapeFlag&128&&(E.ssContent=M)),x=ct,ht?(M.el=ht.el,M.component=ht.component,M.transition&&ls(M,M.transition),M.shapeFlag|=512,l.delete(ct),l.add(ct)):(l.add(ct),_t&&l.size>parseInt(_t,10)&&v(l.values().next().value)),M.shapeFlag|=256,u=M,Fd(E.type)?E:M}}},Kd=uv;function Dr(t,e){return bt(t)?t.some(i=>Dr(i,e)):de(t)?t.split(",").includes(e):t.test?t.test(e):!1}function cv(t,e){Yd(t,"a",e)}function fv(t,e){Yd(t,"da",e)}function Yd(t,e,i=be){const o=t.__wdc||(t.__wdc=()=>{let s=i;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Rs(e,o,i),i){let s=i.parent;for(;s&&s.parent;)Is(s.parent.vnode)&&dv(o,e,i,s),s=s.parent}}function dv(t,e,i,o){const s=Rs(e,t,o,!0);ei(()=>{$l(o[e],s)},i)}function Pa(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Ta(t){return t.shapeFlag&128?t.ssContent:t}function Rs(t,e,i=be,o=!1){if(i){const s=i[t]||(i[t]=[]),l=e.__weh||(e.__weh=(...u)=>{if(i.isUnmounted)return;dr(),Qn(i);const f=Ge(e,i,t,u);return Jn(),hr(),f});return o?s.unshift(l):s.push(l),l}}const An=t=>(e,i=be)=>(!io||t==="sp")&&Rs(t,(...o)=>e(...o),i),hv=An("bm"),In=An("m"),pv=An("bu"),Gd=An("u"),Ns=An("bum"),ei=An("um"),mv=An("sp"),_v=An("rtg"),vv=An("rtc");function Xl(t,e=be){Rs("ec",t,e)}function Ie(t,e){const i=Le;if(i===null)return t;const o=$s(i)||i.proxy,s=t.dirs||(t.dirs=[]);for(let l=0;l<e.length;l++){let[u,f,d,h=ee]=e[l];u&&(Et(u)&&(u={mounted:u,updated:u}),u.deep&&Ci(f),s.push({dir:u,instance:o,value:f,oldValue:void 0,arg:d,modifiers:h}))}return t}function fi(t,e,i,o){const s=t.dirs,l=e&&e.dirs;for(let u=0;u<s.length;u++){const f=s[u];l&&(f.oldValue=l[u].value);let d=f.dir[o];d&&(dr(),Ge(d,i,8,[t.el,f,t,e]),hr())}}const Ql="components";function Rn(t,e){return Xd(Ql,t,!0,e)||t}const Jd=Symbol();function us(t){return de(t)?Xd(Ql,t,!1)||t:t||Jd}function Xd(t,e,i=!0,o=!1){const s=Le||be;if(s){const l=s.type;if(t===Ql){const f=_l(l,!1);if(f&&(f===e||f===yn(e)||f===Ls(yn(e))))return l}const u=$c(s[t]||l[t],e)||$c(s.appContext[t],e);return!u&&o?l:u}}function $c(t,e){return t&&(t[e]||t[yn(e)]||t[Ls(yn(e))])}function ge(t,e,i,o){let s;const l=i&&i[o];if(bt(t)||de(t)){s=new Array(t.length);for(let u=0,f=t.length;u<f;u++)s[u]=e(t[u],u,void 0,l&&l[u])}else if(typeof t=="number"){s=new Array(t);for(let u=0;u<t;u++)s[u]=e(u+1,u,void 0,l&&l[u])}else if(Xt(t))if(t[Symbol.iterator])s=Array.from(t,(u,f)=>e(u,f,void 0,l&&l[f]));else{const u=Object.keys(t);s=new Array(u.length);for(let f=0,d=u.length;f<d;f++){const h=u[f];s[f]=e(t[h],h,f,l&&l[f])}}else s=[];return i&&(i[o]=s),s}function gv(t,e){for(let i=0;i<e.length;i++){const o=e[i];if(bt(o))for(let s=0;s<o.length;s++)t[o[s].name]=o[s].fn;else o&&(t[o.name]=o.key?(...s)=>{const l=o.fn(...s);return l&&(l.key=o.key),l}:o.fn)}return t}function eo(t,e,i={},o,s){if(Le.isCE||Le.parent&&Qi(Le.parent)&&Le.parent.isCE)return e!=="default"&&(i.name=e),I("slot",i,o&&o());let l=t[e];l&&l._c&&(l._d=!1),N();const u=l&&Qd(l(i)),f=Jt(jt,{key:i.key||u&&u.key||`_${e}`},u||(o?o():[]),u&&t._===1?64:-2);return!s&&f.scopeId&&(f.slotScopeIds=[f.scopeId+"-s"]),l&&l._c&&(l._d=!0),f}function Qd(t){return t.some(e=>or(e)?!(e.type===Fe||e.type===jt&&!Qd(e.children)):!0)?t:null}function zc(t,e){const i={};for(const o in t)i[e&&/[A-Z]/.test(o)?`on:${o}`:Ko(o)]=t[o];return i}const cl=t=>t?fh(t)?$s(t)||t.proxy:cl(t.parent):null,$r=Oe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>cl(t.parent),$root:t=>cl(t.root),$emit:t=>t.emit,$options:t=>tu(t),$forceUpdate:t=>t.f||(t.f=()=>Yl(t.update)),$nextTick:t=>t.n||(t.n=Ln.bind(t.proxy)),$watch:t=>sv.bind(t)}),Ea=(t,e)=>t!==ee&&!t.__isScriptSetup&&Ft(t,e),yv={get({_:t},e){const{ctx:i,setupState:o,data:s,props:l,accessCache:u,type:f,appContext:d}=t;let h;if(e[0]!=="$"){const b=u[e];if(b!==void 0)switch(b){case 1:return o[e];case 2:return s[e];case 4:return i[e];case 3:return l[e]}else{if(Ea(o,e))return u[e]=1,o[e];if(s!==ee&&Ft(s,e))return u[e]=2,s[e];if((h=t.propsOptions[0])&&Ft(h,e))return u[e]=3,l[e];if(i!==ee&&Ft(i,e))return u[e]=4,i[e];fl&&(u[e]=0)}}const m=$r[e];let _,w;if(m)return e==="$attrs"&&Ue(t,"get",e),m(t);if((_=f.__cssModules)&&(_=_[e]))return _;if(i!==ee&&Ft(i,e))return u[e]=4,i[e];if(w=d.config.globalProperties,Ft(w,e))return w[e]},set({_:t},e,i){const{data:o,setupState:s,ctx:l}=t;return Ea(s,e)?(s[e]=i,!0):o!==ee&&Ft(o,e)?(o[e]=i,!0):Ft(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(l[e]=i,!0)},has({_:{data:t,setupState:e,accessCache:i,ctx:o,appContext:s,propsOptions:l}},u){let f;return!!i[u]||t!==ee&&Ft(t,u)||Ea(e,u)||(f=l[0])&&Ft(f,u)||Ft(o,u)||Ft($r,u)||Ft(s.config.globalProperties,u)},defineProperty(t,e,i){return i.get!=null?t._.accessCache[e]=0:Ft(i,"value")&&this.set(t,e,i.value,null),Reflect.defineProperty(t,e,i)}};let fl=!0;function wv(t){const e=tu(t),i=t.proxy,o=t.ctx;fl=!1,e.beforeCreate&&Fc(e.beforeCreate,t,"bc");const{data:s,computed:l,methods:u,watch:f,provide:d,inject:h,created:m,beforeMount:_,mounted:w,beforeUpdate:b,updated:y,activated:v,deactivated:x,beforeDestroy:P,beforeUnmount:S,destroyed:E,unmounted:M,render:V,renderTracked:G,renderTriggered:dt,errorCaptured:rt,serverPrefetch:_t,expose:ct,inheritAttrs:ht,components:tt,directives:kt,filters:Ot}=e;if(h&&bv(h,o,null,t.appContext.config.unwrapInjectedRef),u)for(const Tt in u){const at=u[Tt];Et(at)&&(o[Tt]=at.bind(i))}if(s){const Tt=s.call(i,i);Xt(Tt)&&(t.data=ti(Tt))}if(fl=!0,l)for(const Tt in l){const at=l[Tt],he=Et(at)?at.bind(i,i):Et(at.get)?at.get.bind(i,i):rn,yt=!Et(at)&&Et(at.set)?at.set.bind(i):rn,Nt=ie({get:he,set:yt});Object.defineProperty(o,Tt,{enumerable:!0,configurable:!0,get:()=>Nt.value,set:Ht=>Nt.value=Ht})}if(f)for(const Tt in f)th(f[Tt],o,i,Tt);if(d){const Tt=Et(d)?d.call(i):d;Reflect.ownKeys(Tt).forEach(at=>{Je(at,Tt[at])})}m&&Fc(m,t,"c");function xt(Tt,at){bt(at)?at.forEach(he=>Tt(he.bind(i))):at&&Tt(at.bind(i))}if(xt(hv,_),xt(In,w),xt(pv,b),xt(Gd,y),xt(cv,v),xt(fv,x),xt(Xl,rt),xt(vv,G),xt(_v,dt),xt(Ns,S),xt(ei,M),xt(mv,_t),bt(ct))if(ct.length){const Tt=t.exposed||(t.exposed={});ct.forEach(at=>{Object.defineProperty(Tt,at,{get:()=>i[at],set:he=>i[at]=he})})}else t.exposed||(t.exposed={});V&&t.render===rn&&(t.render=V),ht!=null&&(t.inheritAttrs=ht),tt&&(t.components=tt),kt&&(t.directives=kt)}function bv(t,e,i=rn,o=!1){bt(t)&&(t=dl(t));for(const s in t){const l=t[s];let u;Xt(l)?"default"in l?u=ue(l.from||s,l.default,!0):u=ue(l.from||s):u=ue(l),Ee(u)&&o?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>u.value,set:f=>u.value=f}):e[s]=u}}function Fc(t,e,i){Ge(bt(t)?t.map(o=>o.bind(e.proxy)):t.bind(e.proxy),e,i)}function th(t,e,i,o){const s=o.includes(".")?Hd(i,o):()=>i[o];if(de(t)){const l=e[t];Et(l)&&Me(s,l)}else if(Et(t))Me(s,t.bind(i));else if(Xt(t))if(bt(t))t.forEach(l=>th(l,e,i,o));else{const l=Et(t.handler)?t.handler.bind(i):e[t.handler];Et(l)&&Me(s,l,t)}}function tu(t){const e=t.type,{mixins:i,extends:o}=e,{mixins:s,optionsCache:l,config:{optionMergeStrategies:u}}=t.appContext,f=l.get(e);let d;return f?d=f:!s.length&&!i&&!o?d=e:(d={},s.length&&s.forEach(h=>cs(d,h,u,!0)),cs(d,e,u)),Xt(e)&&l.set(e,d),d}function cs(t,e,i,o=!1){const{mixins:s,extends:l}=e;l&&cs(t,l,i,!0),s&&s.forEach(u=>cs(t,u,i,!0));for(const u in e)if(!(o&&u==="expose")){const f=xv[u]||i&&i[u];t[u]=f?f(t[u],e[u]):e[u]}return t}const xv={data:Uc,props:_i,emits:_i,methods:_i,computed:_i,beforeCreate:Be,created:Be,beforeMount:Be,mounted:Be,beforeUpdate:Be,updated:Be,beforeDestroy:Be,beforeUnmount:Be,destroyed:Be,unmounted:Be,activated:Be,deactivated:Be,errorCaptured:Be,serverPrefetch:Be,components:_i,directives:_i,watch:Sv,provide:Uc,inject:Cv};function Uc(t,e){return e?t?function(){return Oe(Et(t)?t.call(this,this):t,Et(e)?e.call(this,this):e)}:e:t}function Cv(t,e){return _i(dl(t),dl(e))}function dl(t){if(bt(t)){const e={};for(let i=0;i<t.length;i++)e[t[i]]=t[i];return e}return t}function Be(t,e){return t?[...new Set([].concat(t,e))]:e}function _i(t,e){return t?Oe(Oe(Object.create(null),t),e):e}function Sv(t,e){if(!t)return e;if(!e)return t;const i=Oe(Object.create(null),t);for(const o in e)i[o]=Be(t[o],e[o]);return i}function Pv(t,e,i,o=!1){const s={},l={};os(l,Ds,1),t.propsDefaults=Object.create(null),eh(t,e,s,l);for(const u in t.propsOptions[0])u in s||(s[u]=void 0);i?t.props=o?s:al(s):t.type.props?t.props=s:t.props=l,t.attrs=l}function Tv(t,e,i,o){const{props:s,attrs:l,vnode:{patchFlag:u}}=t,f=Wt(s),[d]=t.propsOptions;let h=!1;if((o||u>0)&&!(u&16)){if(u&8){const m=t.vnode.dynamicProps;for(let _=0;_<m.length;_++){let w=m[_];if(Os(t.emitsOptions,w))continue;const b=e[w];if(d)if(Ft(l,w))b!==l[w]&&(l[w]=b,h=!0);else{const y=yn(w);s[y]=hl(d,f,y,b,t,!1)}else b!==l[w]&&(l[w]=b,h=!0)}}}else{eh(t,e,s,l)&&(h=!0);let m;for(const _ in f)(!e||!Ft(e,_)&&((m=Mi(_))===_||!Ft(e,m)))&&(d?i&&(i[_]!==void 0||i[m]!==void 0)&&(s[_]=hl(d,f,_,void 0,t,!0)):delete s[_]);if(l!==f)for(const _ in l)(!e||!Ft(e,_))&&(delete l[_],h=!0)}h&&On(t,"set","$attrs")}function eh(t,e,i,o){const[s,l]=t.propsOptions;let u=!1,f;if(e)for(let d in e){if(Vo(d))continue;const h=e[d];let m;s&&Ft(s,m=yn(d))?!l||!l.includes(m)?i[m]=h:(f||(f={}))[m]=h:Os(t.emitsOptions,d)||(!(d in o)||h!==o[d])&&(o[d]=h,u=!0)}if(l){const d=Wt(i),h=f||ee;for(let m=0;m<l.length;m++){const _=l[m];i[_]=hl(s,d,_,h[_],t,!Ft(h,_))}}return u}function hl(t,e,i,o,s,l){const u=t[i];if(u!=null){const f=Ft(u,"default");if(f&&o===void 0){const d=u.default;if(u.type!==Function&&Et(d)){const{propsDefaults:h}=s;i in h?o=h[i]:(Qn(s),o=h[i]=d.call(null,e),Jn())}else o=d}u[0]&&(l&&!f?o=!1:u[1]&&(o===""||o===Mi(i))&&(o=!0))}return o}function nh(t,e,i=!1){const o=e.propsCache,s=o.get(t);if(s)return s;const l=t.props,u={},f=[];let d=!1;if(!Et(t)){const m=_=>{d=!0;const[w,b]=nh(_,e,!0);Oe(u,w),b&&f.push(...b)};!i&&e.mixins.length&&e.mixins.forEach(m),t.extends&&m(t.extends),t.mixins&&t.mixins.forEach(m)}if(!l&&!d)return Xt(t)&&o.set(t,Vi),Vi;if(bt(l))for(let m=0;m<l.length;m++){const _=yn(l[m]);Zc(_)&&(u[_]=ee)}else if(l)for(const m in l){const _=yn(m);if(Zc(_)){const w=l[m],b=u[_]=bt(w)||Et(w)?{type:w}:Object.assign({},w);if(b){const y=jc(Boolean,b.type),v=jc(String,b.type);b[0]=y>-1,b[1]=v<0||y<v,(y>-1||Ft(b,"default"))&&f.push(_)}}}const h=[u,f];return Xt(t)&&o.set(t,h),h}function Zc(t){return t[0]!=="$"}function Hc(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function Wc(t,e){return Hc(t)===Hc(e)}function jc(t,e){return bt(e)?e.findIndex(i=>Wc(i,t)):Et(e)&&Wc(e,t)?0:-1}const ih=t=>t[0]==="_"||t==="$stable",eu=t=>bt(t)?t.map(en):[en(t)],Ev=(t,e,i)=>{if(e._n)return e;const o=Y((...s)=>eu(e(...s)),i);return o._c=!1,o},rh=(t,e,i)=>{const o=t._ctx;for(const s in t){if(ih(s))continue;const l=t[s];if(Et(l))e[s]=Ev(s,l,o);else if(l!=null){const u=eu(l);e[s]=()=>u}}},oh=(t,e)=>{const i=eu(e);t.slots.default=()=>i},Lv=(t,e)=>{if(t.vnode.shapeFlag&32){const i=e._;i?(t.slots=Wt(e),os(e,"_",i)):rh(e,t.slots={})}else t.slots={},e&&oh(t,e);os(t.slots,Ds,1)},kv=(t,e,i)=>{const{vnode:o,slots:s}=t;let l=!0,u=ee;if(o.shapeFlag&32){const f=e._;f?i&&f===1?l=!1:(Oe(s,e),!i&&f===1&&delete s._):(l=!e.$stable,rh(e,s)),u=e}else e&&(oh(t,e),u={default:1});if(l)for(const f in s)!ih(f)&&!(f in u)&&delete s[f]};function sh(){return{app:null,config:{isNativeTag:n_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ov=0;function Mv(t,e){return function(o,s=null){Et(o)||(o=Object.assign({},o)),s!=null&&!Xt(s)&&(s=null);const l=sh(),u=new Set;let f=!1;const d=l.app={_uid:Ov++,_component:o,_props:s,_container:null,_context:l,_instance:null,version:Yv,get config(){return l.config},set config(h){},use(h,...m){return u.has(h)||(h&&Et(h.install)?(u.add(h),h.install(d,...m)):Et(h)&&(u.add(h),h(d,...m))),d},mixin(h){return l.mixins.includes(h)||l.mixins.push(h),d},component(h,m){return m?(l.components[h]=m,d):l.components[h]},directive(h,m){return m?(l.directives[h]=m,d):l.directives[h]},mount(h,m,_){if(!f){const w=I(o,s);return w.appContext=l,m&&e?e(w,h):t(w,h,_),f=!0,d._container=h,h.__vue_app__=d,$s(w.component)||w.component.proxy}},unmount(){f&&(t(null,d._container),delete d._container.__vue_app__)},provide(h,m){return l.provides[h]=m,d}};return d}}function pl(t,e,i,o,s=!1){if(bt(t)){t.forEach((w,b)=>pl(w,e&&(bt(e)?e[b]:e),i,o,s));return}if(Qi(o)&&!s)return;const l=o.shapeFlag&4?$s(o.component)||o.component.proxy:o.el,u=s?null:l,{i:f,r:d}=t,h=e&&e.r,m=f.refs===ee?f.refs={}:f.refs,_=f.setupState;if(h!=null&&h!==d&&(de(h)?(m[h]=null,Ft(_,h)&&(_[h]=null)):Ee(h)&&(h.value=null)),Et(d))Gn(d,f,12,[u,m]);else{const w=de(d),b=Ee(d);if(w||b){const y=()=>{if(t.f){const v=w?Ft(_,d)?_[d]:m[d]:d.value;s?bt(v)&&$l(v,l):bt(v)?v.includes(l)||v.push(l):w?(m[d]=[l],Ft(_,d)&&(_[d]=m[d])):(d.value=[l],t.k&&(m[t.k]=d.value))}else w?(m[d]=u,Ft(_,d)&&(_[d]=u)):b&&(d.value=u,t.k&&(m[t.k]=u))};u?(y.id=-1,Pe(y,i)):y()}}}const Pe=rv;function Av(t){return Iv(t)}function Iv(t,e){const i=l_();i.__VUE__=!0;const{insert:o,remove:s,patchProp:l,createElement:u,createText:f,createComment:d,setText:h,setElementText:m,parentNode:_,nextSibling:w,setScopeId:b=rn,insertStaticContent:y}=t,v=(C,k,D,z=null,H=null,X=null,ot=!1,Q=null,nt=!!k.dynamicChildren)=>{if(C===k)return;C&&!_n(C,k)&&(z=et(C),Ht(C,H,X,!0),C=null),k.patchFlag===-2&&(nt=!1,k.dynamicChildren=null);const{type:q,ref:F,shapeFlag:J}=k;switch(q){case Bs:x(C,k,D,z);break;case Fe:P(C,k,D,z);break;case Yo:C==null&&S(k,D,z,ot);break;case jt:tt(C,k,D,z,H,X,ot,Q,nt);break;default:J&1?V(C,k,D,z,H,X,ot,Q,nt):J&6?kt(C,k,D,z,H,X,ot,Q,nt):(J&64||J&128)&&q.process(C,k,D,z,H,X,ot,Q,nt,It)}F!=null&&H&&pl(F,C&&C.ref,X,k||C,!k)},x=(C,k,D,z)=>{if(C==null)o(k.el=f(k.children),D,z);else{const H=k.el=C.el;k.children!==C.children&&h(H,k.children)}},P=(C,k,D,z)=>{C==null?o(k.el=d(k.children||""),D,z):k.el=C.el},S=(C,k,D,z)=>{[C.el,C.anchor]=y(C.children,k,D,z,C.el,C.anchor)},E=({el:C,anchor:k},D,z)=>{let H;for(;C&&C!==k;)H=w(C),o(C,D,z),C=H;o(k,D,z)},M=({el:C,anchor:k})=>{let D;for(;C&&C!==k;)D=w(C),s(C),C=D;s(k)},V=(C,k,D,z,H,X,ot,Q,nt)=>{ot=ot||k.type==="svg",C==null?G(k,D,z,H,X,ot,Q,nt):_t(C,k,H,X,ot,Q,nt)},G=(C,k,D,z,H,X,ot,Q)=>{let nt,q;const{type:F,props:J,shapeFlag:it,transition:pt,dirs:gt}=C;if(nt=C.el=u(C.type,X,J&&J.is,J),it&8?m(nt,C.children):it&16&&rt(C.children,nt,null,z,H,X&&F!=="foreignObject",ot,Q),gt&&fi(C,null,z,"created"),J){for(const St in J)St!=="value"&&!Vo(St)&&l(nt,St,null,J[St],X,C.children,z,H,K);"value"in J&&l(nt,"value",null,J.value),(q=J.onVnodeBeforeMount)&&Ve(q,z,C)}dt(nt,C,C.scopeId,ot,z),gt&&fi(C,null,z,"beforeMount");const Bt=(!H||H&&!H.pendingBranch)&&pt&&!pt.persisted;Bt&&pt.beforeEnter(nt),o(nt,k,D),((q=J&&J.onVnodeMounted)||Bt||gt)&&Pe(()=>{q&&Ve(q,z,C),Bt&&pt.enter(nt),gt&&fi(C,null,z,"mounted")},H)},dt=(C,k,D,z,H)=>{if(D&&b(C,D),z)for(let X=0;X<z.length;X++)b(C,z[X]);if(H){let X=H.subTree;if(k===X){const ot=H.vnode;dt(C,ot,ot.scopeId,ot.slotScopeIds,H.parent)}}},rt=(C,k,D,z,H,X,ot,Q,nt=0)=>{for(let q=nt;q<C.length;q++){const F=C[q]=Q?jn(C[q]):en(C[q]);v(null,F,k,D,z,H,X,ot,Q)}},_t=(C,k,D,z,H,X,ot)=>{const Q=k.el=C.el;let{patchFlag:nt,dynamicChildren:q,dirs:F}=k;nt|=C.patchFlag&16;const J=C.props||ee,it=k.props||ee;let pt;D&&di(D,!1),(pt=it.onVnodeBeforeUpdate)&&Ve(pt,D,k,C),F&&fi(k,C,D,"beforeUpdate"),D&&di(D,!0);const gt=H&&k.type!=="foreignObject";if(q?ct(C.dynamicChildren,q,Q,D,z,gt,X):ot||at(C,k,Q,null,D,z,gt,X,!1),nt>0){if(nt&16)ht(Q,k,J,it,D,z,H);else if(nt&2&&J.class!==it.class&&l(Q,"class",null,it.class,H),nt&4&&l(Q,"style",J.style,it.style,H),nt&8){const Bt=k.dynamicProps;for(let St=0;St<Bt.length;St++){const Mt=Bt[St],oe=J[Mt],pe=it[Mt];(pe!==oe||Mt==="value")&&l(Q,Mt,oe,pe,H,C.children,D,z,K)}}nt&1&&C.children!==k.children&&m(Q,k.children)}else!ot&&q==null&&ht(Q,k,J,it,D,z,H);((pt=it.onVnodeUpdated)||F)&&Pe(()=>{pt&&Ve(pt,D,k,C),F&&fi(k,C,D,"updated")},z)},ct=(C,k,D,z,H,X,ot)=>{for(let Q=0;Q<k.length;Q++){const nt=C[Q],q=k[Q],F=nt.el&&(nt.type===jt||!_n(nt,q)||nt.shapeFlag&70)?_(nt.el):D;v(nt,q,F,null,z,H,X,ot,!0)}},ht=(C,k,D,z,H,X,ot)=>{if(D!==z){if(D!==ee)for(const Q in D)!Vo(Q)&&!(Q in z)&&l(C,Q,D[Q],null,ot,k.children,H,X,K);for(const Q in z){if(Vo(Q))continue;const nt=z[Q],q=D[Q];nt!==q&&Q!=="value"&&l(C,Q,q,nt,ot,k.children,H,X,K)}"value"in z&&l(C,"value",D.value,z.value)}},tt=(C,k,D,z,H,X,ot,Q,nt)=>{const q=k.el=C?C.el:f(""),F=k.anchor=C?C.anchor:f("");let{patchFlag:J,dynamicChildren:it,slotScopeIds:pt}=k;pt&&(Q=Q?Q.concat(pt):pt),C==null?(o(q,D,z),o(F,D,z),rt(k.children,D,F,H,X,ot,Q,nt)):J>0&&J&64&&it&&C.dynamicChildren?(ct(C.dynamicChildren,it,D,H,X,ot,Q),(k.key!=null||H&&k===H.subTree)&&ah(C,k,!0)):at(C,k,D,F,H,X,ot,Q,nt)},kt=(C,k,D,z,H,X,ot,Q,nt)=>{k.slotScopeIds=Q,C==null?k.shapeFlag&512?H.ctx.activate(k,D,z,ot,nt):Ot(k,D,z,H,X,ot,nt):Rt(C,k,nt)},Ot=(C,k,D,z,H,X,ot)=>{const Q=C.component=Uv(C,z,H);if(Is(C)&&(Q.ctx.renderer=It),Zv(Q),Q.asyncDep){if(H&&H.registerDep(Q,xt),!C.el){const nt=Q.subTree=I(Fe);P(null,nt,k,D)}return}xt(Q,C,k,D,H,X,ot)},Rt=(C,k,D)=>{const z=k.component=C.component;if(X_(C,k,D))if(z.asyncDep&&!z.asyncResolved){Tt(z,k,D);return}else z.next=k,H_(z.update),z.update();else k.el=C.el,z.vnode=k},xt=(C,k,D,z,H,X,ot)=>{const Q=()=>{if(C.isMounted){let{next:F,bu:J,u:it,parent:pt,vnode:gt}=C,Bt=F,St;di(C,!1),F?(F.el=gt.el,Tt(C,F,ot)):F=gt,J&&Yi(J),(St=F.props&&F.props.onVnodeBeforeUpdate)&&Ve(St,pt,F,gt),di(C,!0);const Mt=Ca(C),oe=C.subTree;C.subTree=Mt,v(oe,Mt,_(oe.el),et(oe),C,H,X),F.el=Mt.el,Bt===null&&Gl(C,Mt.el),it&&Pe(it,H),(St=F.props&&F.props.onVnodeUpdated)&&Pe(()=>Ve(St,pt,F,gt),H)}else{let F;const{el:J,props:it}=k,{bm:pt,m:gt,parent:Bt}=C,St=Qi(k);if(di(C,!1),pt&&Yi(pt),!St&&(F=it&&it.onVnodeBeforeMount)&&Ve(F,Bt,k),di(C,!0),J&&Pt){const Mt=()=>{C.subTree=Ca(C),Pt(J,C.subTree,C,H,null)};St?k.type.__asyncLoader().then(()=>!C.isUnmounted&&Mt()):Mt()}else{const Mt=C.subTree=Ca(C);v(null,Mt,D,z,C,H,X),k.el=Mt.el}if(gt&&Pe(gt,H),!St&&(F=it&&it.onVnodeMounted)){const Mt=k;Pe(()=>Ve(F,Bt,Mt),H)}(k.shapeFlag&256||Bt&&Qi(Bt.vnode)&&Bt.vnode.shapeFlag&256)&&C.a&&Pe(C.a,H),C.isMounted=!0,k=D=z=null}},nt=C.effect=new Zl(Q,()=>Yl(q),C.scope),q=C.update=()=>nt.run();q.id=C.uid,di(C,!0),q()},Tt=(C,k,D)=>{k.component=C;const z=C.vnode.props;C.vnode=k,C.next=null,Tv(C,k.props,z,D),kv(C,k.children,D),dr(),Rc(),hr()},at=(C,k,D,z,H,X,ot,Q,nt=!1)=>{const q=C&&C.children,F=C?C.shapeFlag:0,J=k.children,{patchFlag:it,shapeFlag:pt}=k;if(it>0){if(it&128){yt(q,J,D,z,H,X,ot,Q,nt);return}else if(it&256){he(q,J,D,z,H,X,ot,Q,nt);return}}pt&8?(F&16&&K(q,H,X),J!==q&&m(D,J)):F&16?pt&16?yt(q,J,D,z,H,X,ot,Q,nt):K(q,H,X,!0):(F&8&&m(D,""),pt&16&&rt(J,D,z,H,X,ot,Q,nt))},he=(C,k,D,z,H,X,ot,Q,nt)=>{C=C||Vi,k=k||Vi;const q=C.length,F=k.length,J=Math.min(q,F);let it;for(it=0;it<J;it++){const pt=k[it]=nt?jn(k[it]):en(k[it]);v(C[it],pt,D,null,H,X,ot,Q,nt)}q>F?K(C,H,X,!0,!1,J):rt(k,D,z,H,X,ot,Q,nt,J)},yt=(C,k,D,z,H,X,ot,Q,nt)=>{let q=0;const F=k.length;let J=C.length-1,it=F-1;for(;q<=J&&q<=it;){const pt=C[q],gt=k[q]=nt?jn(k[q]):en(k[q]);if(_n(pt,gt))v(pt,gt,D,null,H,X,ot,Q,nt);else break;q++}for(;q<=J&&q<=it;){const pt=C[J],gt=k[it]=nt?jn(k[it]):en(k[it]);if(_n(pt,gt))v(pt,gt,D,null,H,X,ot,Q,nt);else break;J--,it--}if(q>J){if(q<=it){const pt=it+1,gt=pt<F?k[pt].el:z;for(;q<=it;)v(null,k[q]=nt?jn(k[q]):en(k[q]),D,gt,H,X,ot,Q,nt),q++}}else if(q>it)for(;q<=J;)Ht(C[q],H,X,!0),q++;else{const pt=q,gt=q,Bt=new Map;for(q=gt;q<=it;q++){const Gt=k[q]=nt?jn(k[q]):en(k[q]);Gt.key!=null&&Bt.set(Gt.key,q)}let St,Mt=0;const oe=it-gt+1;let pe=!1,ne=0;const le=new Array(oe);for(q=0;q<oe;q++)le[q]=0;for(q=pt;q<=J;q++){const Gt=C[q];if(Mt>=oe){Ht(Gt,H,X,!0);continue}let ce;if(Gt.key!=null)ce=Bt.get(Gt.key);else for(St=gt;St<=it;St++)if(le[St-gt]===0&&_n(Gt,k[St])){ce=St;break}ce===void 0?Ht(Gt,H,X,!0):(le[ce-gt]=q+1,ce>=ne?ne=ce:pe=!0,v(Gt,k[ce],D,null,H,X,ot,Q,nt),Mt++)}const ye=pe?Rv(le):Vi;for(St=ye.length-1,q=oe-1;q>=0;q--){const Gt=gt+q,ce=k[Gt],me=Gt+1<F?k[Gt+1].el:z;le[q]===0?v(null,ce,D,me,H,X,ot,Q,nt):pe&&(St<0||q!==ye[St]?Nt(ce,D,me,2):St--)}}},Nt=(C,k,D,z,H=null)=>{const{el:X,type:ot,transition:Q,children:nt,shapeFlag:q}=C;if(q&6){Nt(C.component.subTree,k,D,z);return}if(q&128){C.suspense.move(k,D,z);return}if(q&64){ot.move(C,k,D,It);return}if(ot===jt){o(X,k,D);for(let J=0;J<nt.length;J++)Nt(nt[J],k,D,z);o(C.anchor,k,D);return}if(ot===Yo){E(C,k,D);return}if(z!==2&&q&1&&Q)if(z===0)Q.beforeEnter(X),o(X,k,D),Pe(()=>Q.enter(X),H);else{const{leave:J,delayLeave:it,afterLeave:pt}=Q,gt=()=>o(X,k,D),Bt=()=>{J(X,()=>{gt(),pt&&pt()})};it?it(X,gt,Bt):Bt()}else o(X,k,D)},Ht=(C,k,D,z=!1,H=!1)=>{const{type:X,props:ot,ref:Q,children:nt,dynamicChildren:q,shapeFlag:F,patchFlag:J,dirs:it}=C;if(Q!=null&&pl(Q,null,D,C,!0),F&256){k.ctx.deactivate(C);return}const pt=F&1&&it,gt=!Qi(C);let Bt;if(gt&&(Bt=ot&&ot.onVnodeBeforeUnmount)&&Ve(Bt,k,C),F&6)B(C.component,D,z);else{if(F&128){C.suspense.unmount(D,z);return}pt&&fi(C,null,k,"beforeUnmount"),F&64?C.type.remove(C,k,D,H,It,z):q&&(X!==jt||J>0&&J&64)?K(q,k,D,!1,!0):(X===jt&&J&384||!H&&F&16)&&K(nt,k,D),z&&re(C)}(gt&&(Bt=ot&&ot.onVnodeUnmounted)||pt)&&Pe(()=>{Bt&&Ve(Bt,k,C),pt&&fi(C,null,k,"unmounted")},D)},re=C=>{const{type:k,el:D,anchor:z,transition:H}=C;if(k===jt){te(D,z);return}if(k===Yo){M(C);return}const X=()=>{s(D),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(C.shapeFlag&1&&H&&!H.persisted){const{leave:ot,delayLeave:Q}=H,nt=()=>ot(D,X);Q?Q(C.el,X,nt):nt()}else X()},te=(C,k)=>{let D;for(;C!==k;)D=w(C),s(C),C=D;s(k)},B=(C,k,D)=>{const{bum:z,scope:H,update:X,subTree:ot,um:Q}=C;z&&Yi(z),H.stop(),X&&(X.active=!1,Ht(ot,C,k,D)),Q&&Pe(Q,k),Pe(()=>{C.isUnmounted=!0},k),k&&k.pendingBranch&&!k.isUnmounted&&C.asyncDep&&!C.asyncResolved&&C.suspenseId===k.pendingId&&(k.deps--,k.deps===0&&k.resolve())},K=(C,k,D,z=!1,H=!1,X=0)=>{for(let ot=X;ot<C.length;ot++)Ht(C[ot],k,D,z,H)},et=C=>C.shapeFlag&6?et(C.component.subTree):C.shapeFlag&128?C.suspense.next():w(C.anchor||C.el),ft=(C,k,D)=>{C==null?k._vnode&&Ht(k._vnode,null,null,!0):v(k._vnode||null,C,k,null,null,null,D),Rc(),Dd(),k._vnode=C},It={p:v,um:Ht,m:Nt,r:re,mt:Ot,mc:rt,pc:at,pbc:ct,n:et,o:t};let qt,Pt;return e&&([qt,Pt]=e(It)),{render:ft,hydrate:qt,createApp:Mv(ft,qt)}}function di({effect:t,update:e},i){t.allowRecurse=e.allowRecurse=i}function ah(t,e,i=!1){const o=t.children,s=e.children;if(bt(o)&&bt(s))for(let l=0;l<o.length;l++){const u=o[l];let f=s[l];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=s[l]=jn(s[l]),f.el=u.el),i||ah(u,f)),f.type===Bs&&(f.el=u.el)}}function Rv(t){const e=t.slice(),i=[0];let o,s,l,u,f;const d=t.length;for(o=0;o<d;o++){const h=t[o];if(h!==0){if(s=i[i.length-1],t[s]<h){e[o]=s,i.push(o);continue}for(l=0,u=i.length-1;l<u;)f=l+u>>1,t[i[f]]<h?l=f+1:u=f;h<t[i[l]]&&(l>0&&(e[o]=i[l-1]),i[l]=o)}}for(l=i.length,u=i[l-1];l-- >0;)i[l]=u,u=e[u];return i}const Nv=t=>t.__isTeleport,jt=Symbol(void 0),Bs=Symbol(void 0),Fe=Symbol(void 0),Yo=Symbol(void 0),zr=[];let Ke=null;function N(t=!1){zr.push(Ke=t?null:[])}function lh(){zr.pop(),Ke=zr[zr.length-1]||null}let rr=1;function qc(t){rr+=t}function uh(t){return t.dynamicChildren=rr>0?Ke||Vi:null,lh(),rr>0&&Ke&&Ke.push(t),t}function Z(t,e,i,o,s,l){return uh(O(t,e,i,o,s,l,!0))}function Jt(t,e,i,o,s){return uh(I(t,e,i,o,s,!0))}function or(t){return t?t.__v_isVNode===!0:!1}function _n(t,e){return t.type===e.type&&t.key===e.key}const Ds="__vInternal",ch=({key:t})=>t??null,Go=({ref:t,ref_key:e,ref_for:i})=>t!=null?de(t)||Ee(t)||Et(t)?{i:Le,r:t,k:e,f:!!i}:t:null;function O(t,e=null,i=null,o=0,s=null,l=t===jt?0:1,u=!1,f=!1){const d={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ch(e),ref:e&&Go(e),scopeId:Ms,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:o,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Le};return f?(nu(d,i),l&128&&t.normalize(d)):i&&(d.shapeFlag|=de(i)?8:16),rr>0&&!u&&Ke&&(d.patchFlag>0||l&6)&&d.patchFlag!==32&&Ke.push(d),d}const I=Bv;function Bv(t,e=null,i=null,o=0,s=null,l=!1){if((!t||t===Jd)&&(t=Fe),or(t)){const f=Mn(t,e,!0);return i&&nu(f,i),rr>0&&!l&&Ke&&(f.shapeFlag&6?Ke[Ke.indexOf(t)]=f:Ke.push(f)),f.patchFlag|=-2,f}if(qv(t)&&(t=t.__vccOpts),e){e=Dv(e);let{class:f,style:d}=e;f&&!de(f)&&(e.class=Te(f)),Xt(d)&&(Ed(d)&&!bt(d)&&(d=Oe({},d)),e.style=Bl(d))}const u=de(t)?1:Fd(t)?128:Nv(t)?64:Xt(t)?4:Et(t)?2:0;return O(t,e,i,o,s,u,l,!0)}function Dv(t){return t?Ed(t)||Ds in t?Oe({},t):t:null}function Mn(t,e,i=!1){const{props:o,ref:s,patchFlag:l,children:u}=t,f=e?no(o||{},e):o;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:f,key:f&&ch(f),ref:e&&e.ref?i&&s?bt(s)?s.concat(Go(e)):[s,Go(e)]:Go(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:u,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==jt?l===-1?16:l|16:l,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Mn(t.ssContent),ssFallback:t.ssFallback&&Mn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx}}function lt(t=" ",e=0){return I(Bs,null,t,e)}function $v(t,e){const i=I(Yo,null,t);return i.staticCount=e,i}function Yt(t="",e=!1){return e?(N(),Jt(Fe,null,t)):I(Fe,null,t)}function en(t){return t==null||typeof t=="boolean"?I(Fe):bt(t)?I(jt,null,t.slice()):typeof t=="object"?jn(t):I(Bs,null,String(t))}function jn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Mn(t)}function nu(t,e){let i=0;const{shapeFlag:o}=t;if(e==null)e=null;else if(bt(e))i=16;else if(typeof e=="object")if(o&65){const s=e.default;s&&(s._c&&(s._d=!1),nu(t,s()),s._c&&(s._d=!0));return}else{i=32;const s=e._;!s&&!(Ds in e)?e._ctx=Le:s===3&&Le&&(Le.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Et(e)?(e={default:e,_ctx:Le},i=32):(e=String(e),o&64?(i=16,e=[lt(e)]):i=8);t.children=e,t.shapeFlag|=i}function no(...t){const e={};for(let i=0;i<t.length;i++){const o=t[i];for(const s in o)if(s==="class")e.class!==o.class&&(e.class=Te([e.class,o.class]));else if(s==="style")e.style=Bl([e.style,o.style]);else if(Ps(s)){const l=e[s],u=o[s];u&&l!==u&&!(bt(l)&&l.includes(u))&&(e[s]=l?[].concat(l,u):u)}else s!==""&&(e[s]=o[s])}return e}function Ve(t,e,i,o=null){Ge(t,e,7,[i,o])}const zv=sh();let Fv=0;function Uv(t,e,i){const o=t.type,s=(e?e.appContext:t.appContext)||zv,l={uid:Fv++,vnode:t,type:o,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new u_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:nh(o,s),emitsOptions:zd(o,s),emit:null,emitted:null,propsDefaults:ee,inheritAttrs:o.inheritAttrs,ctx:ee,data:ee,props:ee,attrs:ee,slots:ee,refs:ee,setupState:ee,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=e?e.root:l,l.emit=j_.bind(null,l),t.ce&&t.ce(l),l}let be=null;const iu=()=>be||Le,Qn=t=>{be=t,t.scope.on()},Jn=()=>{be&&be.scope.off(),be=null};function fh(t){return t.vnode.shapeFlag&4}let io=!1;function Zv(t,e=!1){io=e;const{props:i,children:o}=t.vnode,s=fh(t);Pv(t,i,s,e),Lv(t,o);const l=s?Hv(t,e):void 0;return io=!1,l}function Hv(t,e){const i=t.type;t.accessCache=Object.create(null),t.proxy=Ld(new Proxy(t.ctx,yv));const{setup:o}=i;if(o){const s=t.setupContext=o.length>1?jv(t):null;Qn(t),dr();const l=Gn(o,t,0,[t.props,s]);if(hr(),Jn(),zl(l)){if(l.then(Jn,Jn),e)return l.then(u=>{ml(t,u,e)}).catch(u=>{lo(u,t,0)});t.asyncDep=l}else ml(t,l,e)}else dh(t,e)}function ml(t,e,i){Et(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Xt(e)&&(t.setupState=Ad(e)),dh(t,i)}let Vc;function dh(t,e,i){const o=t.type;if(!t.render){if(!e&&Vc&&!o.render){const s=o.template||tu(t).template;if(s){const{isCustomElement:l,compilerOptions:u}=t.appContext.config,{delimiters:f,compilerOptions:d}=o,h=Oe(Oe({isCustomElement:l,delimiters:f},u),d);o.render=Vc(s,h)}}t.render=o.render||rn}Qn(t),dr(),wv(t),hr(),Jn()}function Wv(t){return new Proxy(t.attrs,{get(e,i){return Ue(t,"get","$attrs"),e[i]}})}function jv(t){const e=o=>{t.exposed=o||{}};let i;return{get attrs(){return i||(i=Wv(t))},slots:t.slots,emit:t.emit,expose:e}}function $s(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Ad(Ld(t.exposed)),{get(e,i){if(i in e)return e[i];if(i in $r)return $r[i](t)},has(e,i){return i in e||i in $r}}))}function _l(t,e=!0){return Et(t)?t.displayName||t.name:t.name||e&&t.__name}function qv(t){return Et(t)&&"__vccOpts"in t}const ie=(t,e)=>F_(t,e,io);function zs(t){const e=iu();let i=t();return Jn(),zl(i)&&(i=i.catch(o=>{throw Qn(e),o})),[i,()=>Qn(e)]}function ru(t,e,i){const o=arguments.length;return o===2?Xt(e)&&!bt(e)?or(e)?I(t,null,[e]):I(t,e):I(t,null,e):(o>3?i=Array.prototype.slice.call(arguments,2):o===3&&or(i)&&(i=[i]),I(t,e,i))}const Vv=Symbol(""),Kv=()=>ue(Vv),Yv="3.2.45",Gv="http://www.w3.org/2000/svg",yi=typeof document<"u"?document:null,Kc=yi&&yi.createElement("template"),Jv={insert:(t,e,i)=>{e.insertBefore(t,i||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,i,o)=>{const s=e?yi.createElementNS(Gv,t):yi.createElement(t,i?{is:i}:void 0);return t==="select"&&o&&o.multiple!=null&&s.setAttribute("multiple",o.multiple),s},createText:t=>yi.createTextNode(t),createComment:t=>yi.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>yi.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,i,o,s,l){const u=i?i.previousSibling:e.lastChild;if(s&&(s===l||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),i),!(s===l||!(s=s.nextSibling)););else{Kc.innerHTML=o?`<svg>${t}</svg>`:t;const f=Kc.content;if(o){const d=f.firstChild;for(;d.firstChild;)f.appendChild(d.firstChild);f.removeChild(d)}e.insertBefore(f,i)}return[u?u.nextSibling:e.firstChild,i?i.previousSibling:e.lastChild]}};function Xv(t,e,i){const o=t._vtc;o&&(e=(e?[e,...o]:[...o]).join(" ")),e==null?t.removeAttribute("class"):i?t.setAttribute("class",e):t.className=e}function Qv(t,e,i){const o=t.style,s=de(i);if(i&&!s){for(const l in i)vl(o,l,i[l]);if(e&&!de(e))for(const l in e)i[l]==null&&vl(o,l,"")}else{const l=o.display;s?e!==i&&(o.cssText=i):e&&t.removeAttribute("style"),"_vod"in t&&(o.display=l)}}const Yc=/\s*!important$/;function vl(t,e,i){if(bt(i))i.forEach(o=>vl(t,e,o));else if(i==null&&(i=""),e.startsWith("--"))t.setProperty(e,i);else{const o=tg(t,e);Yc.test(i)?t.setProperty(Mi(o),i.replace(Yc,""),"important"):t[o]=i}}const Gc=["Webkit","Moz","ms"],La={};function tg(t,e){const i=La[e];if(i)return i;let o=yn(e);if(o!=="filter"&&o in t)return La[e]=o;o=Ls(o);for(let s=0;s<Gc.length;s++){const l=Gc[s]+o;if(l in t)return La[e]=l}return e}const Jc="http://www.w3.org/1999/xlink";function eg(t,e,i,o,s){if(o&&e.startsWith("xlink:"))i==null?t.removeAttributeNS(Jc,e.slice(6,e.length)):t.setAttributeNS(Jc,e,i);else{const l=Qm(e);i==null||l&&!dd(i)?t.removeAttribute(e):t.setAttribute(e,l?"":i)}}function ng(t,e,i,o,s,l,u){if(e==="innerHTML"||e==="textContent"){o&&u(o,s,l),t[e]=i??"";return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=i;const d=i??"";(t.value!==d||t.tagName==="OPTION")&&(t.value=d),i==null&&t.removeAttribute(e);return}let f=!1;if(i===""||i==null){const d=typeof t[e];d==="boolean"?i=dd(i):i==null&&d==="string"?(i="",f=!0):d==="number"&&(i=0,f=!0)}try{t[e]=i}catch{}f&&t.removeAttribute(e)}function wi(t,e,i,o){t.addEventListener(e,i,o)}function ig(t,e,i,o){t.removeEventListener(e,i,o)}function rg(t,e,i,o,s=null){const l=t._vei||(t._vei={}),u=l[e];if(o&&u)u.value=o;else{const[f,d]=og(e);if(o){const h=l[e]=lg(o,s);wi(t,f,h,d)}else u&&(ig(t,f,u,d),l[e]=void 0)}}const Xc=/(?:Once|Passive|Capture)$/;function og(t){let e;if(Xc.test(t)){e={};let o;for(;o=t.match(Xc);)t=t.slice(0,t.length-o[0].length),e[o[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Mi(t.slice(2)),e]}let ka=0;const sg=Promise.resolve(),ag=()=>ka||(sg.then(()=>ka=0),ka=Date.now());function lg(t,e){const i=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=i.attached)return;Ge(ug(o,i.value),e,5,[o])};return i.value=t,i.attached=ag(),i}function ug(t,e){if(bt(e)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},e.map(o=>s=>!s._stopped&&o&&o(s))}else return e}const Qc=/^on[a-z]/,cg=(t,e,i,o,s=!1,l,u,f,d)=>{e==="class"?Xv(t,o,s):e==="style"?Qv(t,i,o):Ps(e)?Dl(e)||rg(t,e,i,o,u):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):fg(t,e,o,s))?ng(t,e,o,l,u,f,d):(e==="true-value"?t._trueValue=o:e==="false-value"&&(t._falseValue=o),eg(t,e,o,s))};function fg(t,e,i,o){return o?!!(e==="innerHTML"||e==="textContent"||e in t&&Qc.test(e)&&Et(i)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Qc.test(e)&&de(i)?!1:e in t}const Fn="transition",kr="animation",De=(t,{slots:e})=>ru(Wd,dg(t),e);De.displayName="Transition";const hh={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};De.props=Oe({},Wd.props,hh);const hi=(t,e=[])=>{bt(t)?t.forEach(i=>i(...e)):t&&t(...e)},tf=t=>t?bt(t)?t.some(e=>e.length>1):t.length>1:!1;function dg(t){const e={};for(const tt in t)tt in hh||(e[tt]=t[tt]);if(t.css===!1)return e;const{name:i="v",type:o,duration:s,enterFromClass:l=`${i}-enter-from`,enterActiveClass:u=`${i}-enter-active`,enterToClass:f=`${i}-enter-to`,appearFromClass:d=l,appearActiveClass:h=u,appearToClass:m=f,leaveFromClass:_=`${i}-leave-from`,leaveActiveClass:w=`${i}-leave-active`,leaveToClass:b=`${i}-leave-to`}=t,y=hg(s),v=y&&y[0],x=y&&y[1],{onBeforeEnter:P,onEnter:S,onEnterCancelled:E,onLeave:M,onLeaveCancelled:V,onBeforeAppear:G=P,onAppear:dt=S,onAppearCancelled:rt=E}=e,_t=(tt,kt,Ot)=>{pi(tt,kt?m:f),pi(tt,kt?h:u),Ot&&Ot()},ct=(tt,kt)=>{tt._isLeaving=!1,pi(tt,_),pi(tt,b),pi(tt,w),kt&&kt()},ht=tt=>(kt,Ot)=>{const Rt=tt?dt:S,xt=()=>_t(kt,tt,Ot);hi(Rt,[kt,xt]),ef(()=>{pi(kt,tt?d:l),Un(kt,tt?m:f),tf(Rt)||nf(kt,o,v,xt)})};return Oe(e,{onBeforeEnter(tt){hi(P,[tt]),Un(tt,l),Un(tt,u)},onBeforeAppear(tt){hi(G,[tt]),Un(tt,d),Un(tt,h)},onEnter:ht(!1),onAppear:ht(!0),onLeave(tt,kt){tt._isLeaving=!0;const Ot=()=>ct(tt,kt);Un(tt,_),_g(),Un(tt,w),ef(()=>{tt._isLeaving&&(pi(tt,_),Un(tt,b),tf(M)||nf(tt,o,x,Ot))}),hi(M,[tt,Ot])},onEnterCancelled(tt){_t(tt,!1),hi(E,[tt])},onAppearCancelled(tt){_t(tt,!0),hi(rt,[tt])},onLeaveCancelled(tt){ct(tt),hi(V,[tt])}})}function hg(t){if(t==null)return null;if(Xt(t))return[Oa(t.enter),Oa(t.leave)];{const e=Oa(t);return[e,e]}}function Oa(t){return Ti(t)}function Un(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.add(i)),(t._vtc||(t._vtc=new Set)).add(e)}function pi(t,e){e.split(/\s+/).forEach(o=>o&&t.classList.remove(o));const{_vtc:i}=t;i&&(i.delete(e),i.size||(t._vtc=void 0))}function ef(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let pg=0;function nf(t,e,i,o){const s=t._endId=++pg,l=()=>{s===t._endId&&o()};if(i)return setTimeout(l,i);const{type:u,timeout:f,propCount:d}=mg(t,e);if(!u)return o();const h=u+"end";let m=0;const _=()=>{t.removeEventListener(h,w),l()},w=b=>{b.target===t&&++m>=d&&_()};setTimeout(()=>{m<d&&_()},f+1),t.addEventListener(h,w)}function mg(t,e){const i=window.getComputedStyle(t),o=y=>(i[y]||"").split(", "),s=o(`${Fn}Delay`),l=o(`${Fn}Duration`),u=rf(s,l),f=o(`${kr}Delay`),d=o(`${kr}Duration`),h=rf(f,d);let m=null,_=0,w=0;e===Fn?u>0&&(m=Fn,_=u,w=l.length):e===kr?h>0&&(m=kr,_=h,w=d.length):(_=Math.max(u,h),m=_>0?u>h?Fn:kr:null,w=m?m===Fn?l.length:d.length:0);const b=m===Fn&&/\b(transform|all)(,|$)/.test(o(`${Fn}Property`).toString());return{type:m,timeout:_,propCount:w,hasTransform:b}}function rf(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((i,o)=>of(i)+of(t[o])))}function of(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function _g(){return document.body.offsetHeight}const fs=t=>{const e=t.props["onUpdate:modelValue"]||!1;return bt(e)?i=>Yi(e,i):e};function vg(t){t.target.composing=!0}function sf(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const gg={created(t,{modifiers:{lazy:e,trim:i,number:o}},s){t._assign=fs(s);const l=o||s.props&&s.props.type==="number";wi(t,e?"change":"input",u=>{if(u.target.composing)return;let f=t.value;i&&(f=f.trim()),l&&(f=Ti(f)),t._assign(f)}),i&&wi(t,"change",()=>{t.value=t.value.trim()}),e||(wi(t,"compositionstart",vg),wi(t,"compositionend",sf),wi(t,"change",sf))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:i,trim:o,number:s}},l){if(t._assign=fs(l),t.composing||document.activeElement===t&&t.type!=="range"&&(i||o&&t.value.trim()===e||(s||t.type==="number")&&Ti(t.value)===e))return;const u=e??"";t.value!==u&&(t.value=u)}},Ma={deep:!0,created(t,{value:e,modifiers:{number:i}},o){const s=Ts(e);wi(t,"change",()=>{const l=Array.prototype.filter.call(t.options,u=>u.selected).map(u=>i?Ti(ds(u)):ds(u));t._assign(t.multiple?s?new Set(l):l:l[0])}),t._assign=fs(o)},mounted(t,{value:e}){af(t,e)},beforeUpdate(t,e,i){t._assign=fs(i)},updated(t,{value:e}){af(t,e)}};function af(t,e){const i=t.multiple;if(!(i&&!bt(e)&&!Ts(e))){for(let o=0,s=t.options.length;o<s;o++){const l=t.options[o],u=ds(l);if(i)bt(e)?l.selected=e_(e,u)>-1:l.selected=e.has(u);else if(Ss(ds(l),e)){t.selectedIndex!==o&&(t.selectedIndex=o);return}}!i&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ds(t){return"_value"in t?t._value:t.value}const yg=["ctrl","shift","alt","meta"],wg={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>yg.some(i=>t[`${i}Key`]&&!e.includes(i))},lf=(t,e)=>(i,...o)=>{for(let s=0;s<e.length;s++){const l=wg[e[s]];if(l&&l(i,e))return}return t(i,...o)},bg={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},xg=(t,e)=>i=>{if(!("key"in i))return;const o=Mi(i.key);if(e.some(s=>s===o||bg[s]===o))return t(i)},Ye={beforeMount(t,{value:e},{transition:i}){t._vod=t.style.display==="none"?"":t.style.display,i&&e?i.beforeEnter(t):Or(t,e)},mounted(t,{value:e},{transition:i}){i&&e&&i.enter(t)},updated(t,{value:e,oldValue:i},{transition:o}){!e!=!i&&(o?e?(o.beforeEnter(t),Or(t,!0),o.enter(t)):o.leave(t,()=>{Or(t,!1)}):Or(t,e))},beforeUnmount(t,{value:e}){Or(t,e)}};function Or(t,e){t.style.display=e?t._vod:"none"}const Cg=Oe({patchProp:cg},Jv);let uf;function Sg(){return uf||(uf=Av(Cg))}const Pg=(...t)=>{const e=Sg().createApp(...t),{mount:i}=e;return e.mount=o=>{const s=Tg(o);if(!s)return;const l=e._component;!Et(l)&&!l.render&&!l.template&&(l.template=s.innerHTML),s.innerHTML="";const u=i(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),u},e};function Tg(t){return de(t)?document.querySelector(t):t}const ji=typeof window<"u";function Eg(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Kt=Object.assign;function Aa(t,e){const i={};for(const o in e){const s=e[o];i[o]=on(s)?s.map(t):t(s)}return i}const Fr=()=>{},on=Array.isArray,Lg=/\/$/,kg=t=>t.replace(Lg,"");function Ia(t,e,i="/"){let o,s={},l="",u="";const f=e.indexOf("#");let d=e.indexOf("?");return f<d&&f>=0&&(d=-1),d>-1&&(o=e.slice(0,d),l=e.slice(d+1,f>-1?f:e.length),s=t(l)),f>-1&&(o=o||e.slice(0,f),u=e.slice(f,e.length)),o=Ig(o??e,i),{fullPath:o+(l&&"?")+l+u,path:o,query:s,hash:u}}function Og(t,e){const i=e.query?t(e.query):"";return e.path+(i&&"?")+i+(e.hash||"")}function cf(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Mg(t,e,i){const o=e.matched.length-1,s=i.matched.length-1;return o>-1&&o===s&&sr(e.matched[o],i.matched[s])&&ph(e.params,i.params)&&t(e.query)===t(i.query)&&e.hash===i.hash}function sr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function ph(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t)if(!Ag(t[i],e[i]))return!1;return!0}function Ag(t,e){return on(t)?ff(t,e):on(e)?ff(e,t):t===e}function ff(t,e){return on(e)?t.length===e.length&&t.every((i,o)=>i===e[o]):t.length===1&&t[0]===e}function Ig(t,e){if(t.startsWith("/"))return t;if(!t)return e;const i=e.split("/"),o=t.split("/");let s=i.length-1,l,u;for(l=0;l<o.length;l++)if(u=o[l],u!==".")if(u==="..")s>1&&s--;else break;return i.slice(0,s).join("/")+"/"+o.slice(l-(l===o.length?1:0)).join("/")}var ro;(function(t){t.pop="pop",t.push="push"})(ro||(ro={}));var Ur;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ur||(Ur={}));function Rg(t){if(!t)if(ji){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),kg(t)}const Ng=/^[^#]+#/;function Bg(t,e){return t.replace(Ng,"#")+e}function Dg(t,e){const i=document.documentElement.getBoundingClientRect(),o=t.getBoundingClientRect();return{behavior:e.behavior,left:o.left-i.left-(e.left||0),top:o.top-i.top-(e.top||0)}}const Fs=()=>({left:window.pageXOffset,top:window.pageYOffset});function $g(t){let e;if("el"in t){const i=t.el,o=typeof i=="string"&&i.startsWith("#"),s=typeof i=="string"?o?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!s)return;e=Dg(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function df(t,e){return(history.state?history.state.position-e:-1)+t}const gl=new Map;function zg(t,e){gl.set(t,e)}function Fg(t){const e=gl.get(t);return gl.delete(t),e}let Ug=()=>location.protocol+"//"+location.host;function mh(t,e){const{pathname:i,search:o,hash:s}=e,l=t.indexOf("#");if(l>-1){let f=s.includes(t.slice(l))?t.slice(l).length:1,d=s.slice(f);return d[0]!=="/"&&(d="/"+d),cf(d,"")}return cf(i,t)+o+s}function Zg(t,e,i,o){let s=[],l=[],u=null;const f=({state:w})=>{const b=mh(t,location),y=i.value,v=e.value;let x=0;if(w){if(i.value=b,e.value=w,u&&u===y){u=null;return}x=v?w.position-v.position:0}else o(b);s.forEach(P=>{P(i.value,y,{delta:x,type:ro.pop,direction:x?x>0?Ur.forward:Ur.back:Ur.unknown})})};function d(){u=i.value}function h(w){s.push(w);const b=()=>{const y=s.indexOf(w);y>-1&&s.splice(y,1)};return l.push(b),b}function m(){const{history:w}=window;w.state&&w.replaceState(Kt({},w.state,{scroll:Fs()}),"")}function _(){for(const w of l)w();l=[],window.removeEventListener("popstate",f),window.removeEventListener("beforeunload",m)}return window.addEventListener("popstate",f),window.addEventListener("beforeunload",m),{pauseListeners:d,listen:h,destroy:_}}function hf(t,e,i,o=!1,s=!1){return{back:t,current:e,forward:i,replaced:o,position:window.history.length,scroll:s?Fs():null}}function Hg(t){const{history:e,location:i}=window,o={value:mh(t,i)},s={value:e.state};s.value||l(o.value,{back:null,current:o.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function l(d,h,m){const _=t.indexOf("#"),w=_>-1?(i.host&&document.querySelector("base")?t:t.slice(_))+d:Ug()+t+d;try{e[m?"replaceState":"pushState"](h,"",w),s.value=h}catch(b){console.error(b),i[m?"replace":"assign"](w)}}function u(d,h){const m=Kt({},e.state,hf(s.value.back,d,s.value.forward,!0),h,{position:s.value.position});l(d,m,!0),o.value=d}function f(d,h){const m=Kt({},s.value,e.state,{forward:d,scroll:Fs()});l(m.current,m,!0);const _=Kt({},hf(o.value,d,null),{position:m.position+1},h);l(d,_,!1),o.value=d}return{location:o,state:s,push:f,replace:u}}function Wg(t){t=Rg(t);const e=Hg(t),i=Zg(t,e.state,e.location,e.replace);function o(l,u=!0){u||i.pauseListeners(),history.go(l)}const s=Kt({location:"",base:t,go:o,createHref:Bg.bind(null,t)},e,i);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function jg(t){return typeof t=="string"||t&&typeof t=="object"}function _h(t){return typeof t=="string"||typeof t=="symbol"}const Zn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},vh=Symbol("");var pf;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(pf||(pf={}));function ar(t,e){return Kt(new Error,{type:t,[vh]:!0},e)}function Sn(t,e){return t instanceof Error&&vh in t&&(e==null||!!(t.type&e))}const mf="[^/]+?",qg={sensitive:!1,strict:!1,start:!0,end:!0},Vg=/[.+*?^${}()[\]/\\]/g;function Kg(t,e){const i=Kt({},qg,e),o=[];let s=i.start?"^":"";const l=[];for(const h of t){const m=h.length?[]:[90];i.strict&&!h.length&&(s+="/");for(let _=0;_<h.length;_++){const w=h[_];let b=40+(i.sensitive?.25:0);if(w.type===0)_||(s+="/"),s+=w.value.replace(Vg,"\\$&"),b+=40;else if(w.type===1){const{value:y,repeatable:v,optional:x,regexp:P}=w;l.push({name:y,repeatable:v,optional:x});const S=P||mf;if(S!==mf){b+=10;try{new RegExp(`(${S})`)}catch(M){throw new Error(`Invalid custom RegExp for param "${y}" (${S}): `+M.message)}}let E=v?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;_||(E=x&&h.length<2?`(?:/${E})`:"/"+E),x&&(E+="?"),s+=E,b+=20,x&&(b+=-8),v&&(b+=-20),S===".*"&&(b+=-50)}m.push(b)}o.push(m)}if(i.strict&&i.end){const h=o.length-1;o[h][o[h].length-1]+=.7000000000000001}i.strict||(s+="/?"),i.end?s+="$":i.strict&&(s+="(?:/|$)");const u=new RegExp(s,i.sensitive?"":"i");function f(h){const m=h.match(u),_={};if(!m)return null;for(let w=1;w<m.length;w++){const b=m[w]||"",y=l[w-1];_[y.name]=b&&y.repeatable?b.split("/"):b}return _}function d(h){let m="",_=!1;for(const w of t){(!_||!m.endsWith("/"))&&(m+="/"),_=!1;for(const b of w)if(b.type===0)m+=b.value;else if(b.type===1){const{value:y,repeatable:v,optional:x}=b,P=y in h?h[y]:"";if(on(P)&&!v)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const S=on(P)?P.join("/"):P;if(!S)if(x)w.length<2&&(m.endsWith("/")?m=m.slice(0,-1):_=!0);else throw new Error(`Missing required param "${y}"`);m+=S}}return m||"/"}return{re:u,score:o,keys:l,parse:f,stringify:d}}function Yg(t,e){let i=0;for(;i<t.length&&i<e.length;){const o=e[i]-t[i];if(o)return o;i++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Gg(t,e){let i=0;const o=t.score,s=e.score;for(;i<o.length&&i<s.length;){const l=Yg(o[i],s[i]);if(l)return l;i++}if(Math.abs(s.length-o.length)===1){if(_f(o))return 1;if(_f(s))return-1}return s.length-o.length}function _f(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Jg={type:0,value:""},Xg=/[a-zA-Z0-9_]/;function Qg(t){if(!t)return[[]];if(t==="/")return[[Jg]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(b){throw new Error(`ERR (${i})/"${h}": ${b}`)}let i=0,o=i;const s=[];let l;function u(){l&&s.push(l),l=[]}let f=0,d,h="",m="";function _(){h&&(i===0?l.push({type:0,value:h}):i===1||i===2||i===3?(l.length>1&&(d==="*"||d==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:h,regexp:m,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):e("Invalid state to consume buffer"),h="")}function w(){h+=d}for(;f<t.length;){if(d=t[f++],d==="\\"&&i!==2){o=i,i=4;continue}switch(i){case 0:d==="/"?(h&&_(),u()):d===":"?(_(),i=1):w();break;case 4:w(),i=o;break;case 1:d==="("?i=2:Xg.test(d)?w():(_(),i=0,d!=="*"&&d!=="?"&&d!=="+"&&f--);break;case 2:d===")"?m[m.length-1]=="\\"?m=m.slice(0,-1)+d:i=3:m+=d;break;case 3:_(),i=0,d!=="*"&&d!=="?"&&d!=="+"&&f--,m="";break;default:e("Unknown state");break}}return i===2&&e(`Unfinished custom RegExp for param "${h}"`),_(),u(),s}function ty(t,e,i){const o=Kg(Qg(t.path),i),s=Kt(o,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function ey(t,e){const i=[],o=new Map;e=yf({strict:!1,end:!0,sensitive:!1},e);function s(m){return o.get(m)}function l(m,_,w){const b=!w,y=ny(m);y.aliasOf=w&&w.record;const v=yf(e,m),x=[y];if("alias"in m){const E=typeof m.alias=="string"?[m.alias]:m.alias;for(const M of E)x.push(Kt({},y,{components:w?w.record.components:y.components,path:M,aliasOf:w?w.record:y}))}let P,S;for(const E of x){const{path:M}=E;if(_&&M[0]!=="/"){const V=_.record.path,G=V[V.length-1]==="/"?"":"/";E.path=_.record.path+(M&&G+M)}if(P=ty(E,_,v),w?w.alias.push(P):(S=S||P,S!==P&&S.alias.push(P),b&&m.name&&!gf(P)&&u(m.name)),y.children){const V=y.children;for(let G=0;G<V.length;G++)l(V[G],P,w&&w.children[G])}w=w||P,(P.record.components&&Object.keys(P.record.components).length||P.record.name||P.record.redirect)&&d(P)}return S?()=>{u(S)}:Fr}function u(m){if(_h(m)){const _=o.get(m);_&&(o.delete(m),i.splice(i.indexOf(_),1),_.children.forEach(u),_.alias.forEach(u))}else{const _=i.indexOf(m);_>-1&&(i.splice(_,1),m.record.name&&o.delete(m.record.name),m.children.forEach(u),m.alias.forEach(u))}}function f(){return i}function d(m){let _=0;for(;_<i.length&&Gg(m,i[_])>=0&&(m.record.path!==i[_].record.path||!gh(m,i[_]));)_++;i.splice(_,0,m),m.record.name&&!gf(m)&&o.set(m.record.name,m)}function h(m,_){let w,b={},y,v;if("name"in m&&m.name){if(w=o.get(m.name),!w)throw ar(1,{location:m});v=w.record.name,b=Kt(vf(_.params,w.keys.filter(S=>!S.optional).map(S=>S.name)),m.params&&vf(m.params,w.keys.map(S=>S.name))),y=w.stringify(b)}else if("path"in m)y=m.path,w=i.find(S=>S.re.test(y)),w&&(b=w.parse(y),v=w.record.name);else{if(w=_.name?o.get(_.name):i.find(S=>S.re.test(_.path)),!w)throw ar(1,{location:m,currentLocation:_});v=w.record.name,b=Kt({},_.params,m.params),y=w.stringify(b)}const x=[];let P=w;for(;P;)x.unshift(P.record),P=P.parent;return{name:v,path:y,params:b,matched:x,meta:ry(x)}}return t.forEach(m=>l(m)),{addRoute:l,resolve:h,removeRoute:u,getRoutes:f,getRecordMatcher:s}}function vf(t,e){const i={};for(const o of e)o in t&&(i[o]=t[o]);return i}function ny(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:iy(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function iy(t){const e={},i=t.props||!1;if("component"in t)e.default=i;else for(const o in t.components)e[o]=typeof i=="boolean"?i:i[o];return e}function gf(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function ry(t){return t.reduce((e,i)=>Kt(e,i.meta),{})}function yf(t,e){const i={};for(const o in t)i[o]=o in e?e[o]:t[o];return i}function gh(t,e){return e.children.some(i=>i===t||gh(t,i))}const yh=/#/g,oy=/&/g,sy=/\//g,ay=/=/g,ly=/\?/g,wh=/\+/g,uy=/%5B/g,cy=/%5D/g,bh=/%5E/g,fy=/%60/g,xh=/%7B/g,dy=/%7C/g,Ch=/%7D/g,hy=/%20/g;function ou(t){return encodeURI(""+t).replace(dy,"|").replace(uy,"[").replace(cy,"]")}function py(t){return ou(t).replace(xh,"{").replace(Ch,"}").replace(bh,"^")}function yl(t){return ou(t).replace(wh,"%2B").replace(hy,"+").replace(yh,"%23").replace(oy,"%26").replace(fy,"`").replace(xh,"{").replace(Ch,"}").replace(bh,"^")}function my(t){return yl(t).replace(ay,"%3D")}function _y(t){return ou(t).replace(yh,"%23").replace(ly,"%3F")}function vy(t){return t==null?"":_y(t).replace(sy,"%2F")}function hs(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function gy(t){const e={};if(t===""||t==="?")return e;const o=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<o.length;++s){const l=o[s].replace(wh," "),u=l.indexOf("="),f=hs(u<0?l:l.slice(0,u)),d=u<0?null:hs(l.slice(u+1));if(f in e){let h=e[f];on(h)||(h=e[f]=[h]),h.push(d)}else e[f]=d}return e}function wf(t){let e="";for(let i in t){const o=t[i];if(i=my(i),o==null){o!==void 0&&(e+=(e.length?"&":"")+i);continue}(on(o)?o.map(l=>l&&yl(l)):[o&&yl(o)]).forEach(l=>{l!==void 0&&(e+=(e.length?"&":"")+i,l!=null&&(e+="="+l))})}return e}function yy(t){const e={};for(const i in t){const o=t[i];o!==void 0&&(e[i]=on(o)?o.map(s=>s==null?null:""+s):o==null?o:""+o)}return e}const wy=Symbol(""),bf=Symbol(""),Us=Symbol(""),Sh=Symbol(""),wl=Symbol("");function Mr(){let t=[];function e(o){return t.push(o),()=>{const s=t.indexOf(o);s>-1&&t.splice(s,1)}}function i(){t=[]}return{add:e,list:()=>t,reset:i}}function qn(t,e,i,o,s){const l=o&&(o.enterCallbacks[s]=o.enterCallbacks[s]||[]);return()=>new Promise((u,f)=>{const d=_=>{_===!1?f(ar(4,{from:i,to:e})):_ instanceof Error?f(_):jg(_)?f(ar(2,{from:e,to:_})):(l&&o.enterCallbacks[s]===l&&typeof _=="function"&&l.push(_),u())},h=t.call(o&&o.instances[s],e,i,d);let m=Promise.resolve(h);t.length<3&&(m=m.then(d)),m.catch(_=>f(_))})}function Ra(t,e,i,o){const s=[];for(const l of t)for(const u in l.components){let f=l.components[u];if(!(e!=="beforeRouteEnter"&&!l.instances[u]))if(by(f)){const h=(f.__vccOpts||f)[e];h&&s.push(qn(h,i,o,l,u))}else{let d=f();s.push(()=>d.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${u}" at "${l.path}"`));const m=Eg(h)?h.default:h;l.components[u]=m;const w=(m.__vccOpts||m)[e];return w&&qn(w,i,o,l,u)()}))}}return s}function by(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function xf(t){const e=ue(Us),i=ue(Sh),o=ie(()=>e.resolve(W(t.to))),s=ie(()=>{const{matched:d}=o.value,{length:h}=d,m=d[h-1],_=i.matched;if(!m||!_.length)return-1;const w=_.findIndex(sr.bind(null,m));if(w>-1)return w;const b=Cf(d[h-2]);return h>1&&Cf(m)===b&&_[_.length-1].path!==b?_.findIndex(sr.bind(null,d[h-2])):w}),l=ie(()=>s.value>-1&&Py(i.params,o.value.params)),u=ie(()=>s.value>-1&&s.value===i.matched.length-1&&ph(i.params,o.value.params));function f(d={}){return Sy(d)?e[W(t.replace)?"replace":"push"](W(t.to)).catch(Fr):Promise.resolve()}return{route:o,href:ie(()=>o.value.href),isActive:l,isExactActive:u,navigate:f}}const xy=Vd({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:xf,setup(t,{slots:e}){const i=ti(xf(t)),{options:o}=ue(Us),s=ie(()=>({[Sf(t.activeClass,o.linkActiveClass,"router-link-active")]:i.isActive,[Sf(t.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive}));return()=>{const l=e.default&&e.default(i);return t.custom?l:ru("a",{"aria-current":i.isExactActive?t.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:s.value},l)}}}),Cy=xy;function Sy(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Py(t,e){for(const i in e){const o=e[i],s=t[i];if(typeof o=="string"){if(o!==s)return!1}else if(!on(s)||s.length!==o.length||o.some((l,u)=>l!==s[u]))return!1}return!0}function Cf(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Sf=(t,e,i)=>t??e??i,Ty=Vd({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:i}){const o=ue(wl),s=ie(()=>t.route||o.value),l=ue(bf,0),u=ie(()=>{let h=W(l);const{matched:m}=s.value;let _;for(;(_=m[h])&&!_.components;)h++;return h}),f=ie(()=>s.value.matched[u.value]);Je(bf,ie(()=>u.value+1)),Je(wy,f),Je(wl,s);const d=st();return Me(()=>[d.value,f.value,t.name],([h,m,_],[w,b,y])=>{m&&(m.instances[_]=h,b&&b!==m&&h&&h===w&&(m.leaveGuards.size||(m.leaveGuards=b.leaveGuards),m.updateGuards.size||(m.updateGuards=b.updateGuards))),h&&m&&(!b||!sr(m,b)||!w)&&(m.enterCallbacks[_]||[]).forEach(v=>v(h))},{flush:"post"}),()=>{const h=s.value,m=t.name,_=f.value,w=_&&_.components[m];if(!w)return Pf(i.default,{Component:w,route:h});const b=_.props[m],y=b?b===!0?h.params:typeof b=="function"?b(h):b:null,x=ru(w,Kt({},y,e,{onVnodeUnmounted:P=>{P.component.isUnmounted&&(_.instances[m]=null)},ref:d}));return Pf(i.default,{Component:x,route:h})||x}}});function Pf(t,e){if(!t)return null;const i=t(e);return i.length===1?i[0]:i}const Ey=Ty;function Ly(t){const e=ey(t.routes,t),i=t.parseQuery||gy,o=t.stringifyQuery||wf,s=t.history,l=Mr(),u=Mr(),f=Mr(),d=B_(Zn);let h=Zn;ji&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const m=Aa.bind(null,B=>""+B),_=Aa.bind(null,vy),w=Aa.bind(null,hs);function b(B,K){let et,ft;return _h(B)?(et=e.getRecordMatcher(B),ft=K):ft=B,e.addRoute(ft,et)}function y(B){const K=e.getRecordMatcher(B);K&&e.removeRoute(K)}function v(){return e.getRoutes().map(B=>B.record)}function x(B){return!!e.getRecordMatcher(B)}function P(B,K){if(K=Kt({},K||d.value),typeof B=="string"){const C=Ia(i,B,K.path),k=e.resolve({path:C.path},K),D=s.createHref(C.fullPath);return Kt(C,k,{params:w(k.params),hash:hs(C.hash),redirectedFrom:void 0,href:D})}let et;if("path"in B)et=Kt({},B,{path:Ia(i,B.path,K.path).path});else{const C=Kt({},B.params);for(const k in C)C[k]==null&&delete C[k];et=Kt({},B,{params:_(B.params)}),K.params=_(K.params)}const ft=e.resolve(et,K),It=B.hash||"";ft.params=m(w(ft.params));const qt=Og(o,Kt({},B,{hash:py(It),path:ft.path})),Pt=s.createHref(qt);return Kt({fullPath:qt,hash:It,query:o===wf?yy(B.query):B.query||{}},ft,{redirectedFrom:void 0,href:Pt})}function S(B){return typeof B=="string"?Ia(i,B,d.value.path):Kt({},B)}function E(B,K){if(h!==B)return ar(8,{from:K,to:B})}function M(B){return dt(B)}function V(B){return M(Kt(S(B),{replace:!0}))}function G(B){const K=B.matched[B.matched.length-1];if(K&&K.redirect){const{redirect:et}=K;let ft=typeof et=="function"?et(B):et;return typeof ft=="string"&&(ft=ft.includes("?")||ft.includes("#")?ft=S(ft):{path:ft},ft.params={}),Kt({query:B.query,hash:B.hash,params:"path"in ft?{}:B.params},ft)}}function dt(B,K){const et=h=P(B),ft=d.value,It=B.state,qt=B.force,Pt=B.replace===!0,C=G(et);if(C)return dt(Kt(S(C),{state:typeof C=="object"?Kt({},It,C.state):It,force:qt,replace:Pt}),K||et);const k=et;k.redirectedFrom=K;let D;return!qt&&Mg(o,ft,et)&&(D=ar(16,{to:k,from:ft}),yt(ft,ft,!0,!1)),(D?Promise.resolve(D):_t(k,ft)).catch(z=>Sn(z)?Sn(z,2)?z:he(z):Tt(z,k,ft)).then(z=>{if(z){if(Sn(z,2))return dt(Kt({replace:Pt},S(z.to),{state:typeof z.to=="object"?Kt({},It,z.to.state):It,force:qt}),K||k)}else z=ht(k,ft,!0,Pt,It);return ct(k,ft,z),z})}function rt(B,K){const et=E(B,K);return et?Promise.reject(et):Promise.resolve()}function _t(B,K){let et;const[ft,It,qt]=ky(B,K);et=Ra(ft.reverse(),"beforeRouteLeave",B,K);for(const C of ft)C.leaveGuards.forEach(k=>{et.push(qn(k,B,K))});const Pt=rt.bind(null,B,K);return et.push(Pt),Zi(et).then(()=>{et=[];for(const C of l.list())et.push(qn(C,B,K));return et.push(Pt),Zi(et)}).then(()=>{et=Ra(It,"beforeRouteUpdate",B,K);for(const C of It)C.updateGuards.forEach(k=>{et.push(qn(k,B,K))});return et.push(Pt),Zi(et)}).then(()=>{et=[];for(const C of B.matched)if(C.beforeEnter&&!K.matched.includes(C))if(on(C.beforeEnter))for(const k of C.beforeEnter)et.push(qn(k,B,K));else et.push(qn(C.beforeEnter,B,K));return et.push(Pt),Zi(et)}).then(()=>(B.matched.forEach(C=>C.enterCallbacks={}),et=Ra(qt,"beforeRouteEnter",B,K),et.push(Pt),Zi(et))).then(()=>{et=[];for(const C of u.list())et.push(qn(C,B,K));return et.push(Pt),Zi(et)}).catch(C=>Sn(C,8)?C:Promise.reject(C))}function ct(B,K,et){for(const ft of f.list())ft(B,K,et)}function ht(B,K,et,ft,It){const qt=E(B,K);if(qt)return qt;const Pt=K===Zn,C=ji?history.state:{};et&&(ft||Pt?s.replace(B.fullPath,Kt({scroll:Pt&&C&&C.scroll},It)):s.push(B.fullPath,It)),d.value=B,yt(B,K,et,Pt),he()}let tt;function kt(){tt||(tt=s.listen((B,K,et)=>{if(!te.listening)return;const ft=P(B),It=G(ft);if(It){dt(Kt(It,{replace:!0}),ft).catch(Fr);return}h=ft;const qt=d.value;ji&&zg(df(qt.fullPath,et.delta),Fs()),_t(ft,qt).catch(Pt=>Sn(Pt,12)?Pt:Sn(Pt,2)?(dt(Pt.to,ft).then(C=>{Sn(C,20)&&!et.delta&&et.type===ro.pop&&s.go(-1,!1)}).catch(Fr),Promise.reject()):(et.delta&&s.go(-et.delta,!1),Tt(Pt,ft,qt))).then(Pt=>{Pt=Pt||ht(ft,qt,!1),Pt&&(et.delta&&!Sn(Pt,8)?s.go(-et.delta,!1):et.type===ro.pop&&Sn(Pt,20)&&s.go(-1,!1)),ct(ft,qt,Pt)}).catch(Fr)}))}let Ot=Mr(),Rt=Mr(),xt;function Tt(B,K,et){he(B);const ft=Rt.list();return ft.length?ft.forEach(It=>It(B,K,et)):console.error(B),Promise.reject(B)}function at(){return xt&&d.value!==Zn?Promise.resolve():new Promise((B,K)=>{Ot.add([B,K])})}function he(B){return xt||(xt=!B,kt(),Ot.list().forEach(([K,et])=>B?et(B):K()),Ot.reset()),B}function yt(B,K,et,ft){const{scrollBehavior:It}=t;if(!ji||!It)return Promise.resolve();const qt=!et&&Fg(df(B.fullPath,0))||(ft||!et)&&history.state&&history.state.scroll||null;return Ln().then(()=>It(B,K,qt)).then(Pt=>Pt&&$g(Pt)).catch(Pt=>Tt(Pt,B,K))}const Nt=B=>s.go(B);let Ht;const re=new Set,te={currentRoute:d,listening:!0,addRoute:b,removeRoute:y,hasRoute:x,getRoutes:v,resolve:P,options:t,push:M,replace:V,go:Nt,back:()=>Nt(-1),forward:()=>Nt(1),beforeEach:l.add,beforeResolve:u.add,afterEach:f.add,onError:Rt.add,isReady:at,install(B){const K=this;B.component("RouterLink",Cy),B.component("RouterView",Ey),B.config.globalProperties.$router=K,Object.defineProperty(B.config.globalProperties,"$route",{enumerable:!0,get:()=>W(d)}),ji&&!Ht&&d.value===Zn&&(Ht=!0,M(s.location).catch(It=>{}));const et={};for(const It in Zn)et[It]=ie(()=>d.value[It]);B.provide(Us,K),B.provide(Sh,ti(et)),B.provide(wl,d);const ft=B.unmount;re.add(B),B.unmount=function(){re.delete(B),re.size<1&&(h=Zn,tt&&tt(),tt=null,d.value=Zn,Ht=!1,xt=!1),ft()}}};return te}function Zi(t){return t.reduce((e,i)=>e.then(()=>i()),Promise.resolve())}function ky(t,e){const i=[],o=[],s=[],l=Math.max(e.matched.length,t.matched.length);for(let u=0;u<l;u++){const f=e.matched[u];f&&(t.matched.find(h=>sr(h,f))?o.push(f):i.push(f));const d=t.matched[u];d&&(e.matched.find(h=>sr(h,d))||s.push(d))}return[i,o,s]}function pr(){return ue(Us)}const Oy=""+new URL("logo-7036eefb.svg",import.meta.url).href,su=""+new URL("marker-77fe7bf2.svg",import.meta.url).href,Tf=""+new URL("search-black-6bd5ba0a.svg",import.meta.url).href;const My={class:"home-height position-relative bg-home overflow-hidden"},Ay=["src"],Iy=$v('<div class="circle circle1"></div><div class="circle circle2"></div><div class="circle circle3"></div><div class="circle circle4"></div><div class="circle circle5"></div><div class="circle circle6"></div>',6),Ry={class:"ball blue-ball d-flex justify-content-center align-items-center"},Ny=["src"],By=O("span",{class:"link-light fs-5 lh-base"},"附近公車站",-1),Dy={class:"ball white-ball d-flex justify-content-center align-items-center"},$y=["src"],zy=O("span",{class:"link-dark fs-5 lh-base"},"查詢公車",-1),Fy={class:"ball yellow-ball d-flex justify-content-center align-items-center"},Uy=["src"],Zy=O("span",{class:"link-dark fs-5 lh-base"},"查詢客運",-1),Hy=O("p",{class:"footer text-light"},"Taiwan Bus © Code: Kalpas / Design: KT",-1),Wy={__name:"Home",setup(t){const e=()=>{const i=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${i}px`);const o=window.innerHeight,s=750,l=550;let u;o<s&&o>l?u=(s-o)/2:o<=l?u=100:u=0,document.documentElement.style.setProperty("--subtracted",u+"px")};return In(()=>{e(),window.addEventListener("resize",e)}),(i,o)=>{const s=Rn("router-link");return N(),Z("div",My,[O("img",{src:W(Oy),class:"logo-home-size mt-5 mt-md-9 ms-4 ms-md-5 ms-lg-8"},null,8,Ay),Iy,O("div",Ry,[I(s,{to:{name:"NearBy"},role:"button",class:"d-flex flex-column w-100 h-100 rounded-circle text-decoration-none justify-content-center align-items-center"},{default:Y(()=>[O("img",{src:W(su),width:"23.5",height:"31.33"},null,8,Ny),By]),_:1})]),O("div",Dy,[I(s,{to:{name:"CitySearch"},role:"button",class:"d-flex flex-column w-100 h-100 rounded-circle text-decoration-none justify-content-center align-items-center"},{default:Y(()=>[O("img",{src:W(Tf),width:"22.6"},null,8,$y),zy]),_:1})]),O("div",Fy,[I(s,{to:{name:"InterCitySearch"},role:"button",class:"d-flex flex-column w-100 h-100 rounded-circle text-decoration-none justify-content-center align-items-center"},{default:Y(()=>[O("img",{src:W(Tf),width:"22.6"},null,8,Uy),Zy]),_:1})]),Hy])}}},$=ti({routeName:"",routeID:"",subRouteName:"",subRouteID:"",city:"",inputRouteName:"",inputRouteName2:"",inputCity:"",from:"",to:"",city1:"",city2:"",routes:[],arrivalsInfo:{forward:[],backward:[]},userPosition:{lat:null,lng:null},nearByStations:[],station:null,stopsOfRoute:null,fareMap:null,isLoading:!1,hasError:!1,errorMsg:"",displayMsg:""});function Ph(t,e){return function(){return t.apply(e,arguments)}}const{toString:Th}=Object.prototype,{getPrototypeOf:au}=Object,lu=(t=>e=>{const i=Th.call(e);return t[i]||(t[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Nn=t=>(t=t.toLowerCase(),e=>lu(e)===t),Zs=t=>e=>typeof e===t,{isArray:mr}=Array,oo=Zs("undefined");function jy(t){return t!==null&&!oo(t)&&t.constructor!==null&&!oo(t.constructor)&&Ei(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Eh=Nn("ArrayBuffer");function qy(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Eh(t.buffer),e}const Vy=Zs("string"),Ei=Zs("function"),Lh=Zs("number"),uu=t=>t!==null&&typeof t=="object",Ky=t=>t===!0||t===!1,Jo=t=>{if(lu(t)!=="object")return!1;const e=au(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Yy=Nn("Date"),Gy=Nn("File"),Jy=Nn("Blob"),Xy=Nn("FileList"),Qy=t=>uu(t)&&Ei(t.pipe),tw=t=>{const e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||Th.call(t)===e||Ei(t.toString)&&t.toString()===e)},ew=Nn("URLSearchParams"),nw=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function uo(t,e,{allOwnKeys:i=!1}={}){if(t===null||typeof t>"u")return;let o,s;if(typeof t!="object"&&(t=[t]),mr(t))for(o=0,s=t.length;o<s;o++)e.call(null,t[o],o,t);else{const l=i?Object.getOwnPropertyNames(t):Object.keys(t),u=l.length;let f;for(o=0;o<u;o++)f=l[o],e.call(null,t[f],f,t)}}function kh(t,e){e=e.toLowerCase();const i=Object.keys(t);let o=i.length,s;for(;o-- >0;)if(s=i[o],e===s.toLowerCase())return s;return null}const Oh=typeof self>"u"?typeof global>"u"?globalThis:global:self,Mh=t=>!oo(t)&&t!==Oh;function bl(){const{caseless:t}=Mh(this)&&this||{},e={},i=(o,s)=>{const l=t&&kh(e,s)||s;Jo(e[l])&&Jo(o)?e[l]=bl(e[l],o):Jo(o)?e[l]=bl({},o):mr(o)?e[l]=o.slice():e[l]=o};for(let o=0,s=arguments.length;o<s;o++)arguments[o]&&uo(arguments[o],i);return e}const iw=(t,e,i,{allOwnKeys:o}={})=>(uo(e,(s,l)=>{i&&Ei(s)?t[l]=Ph(s,i):t[l]=s},{allOwnKeys:o}),t),rw=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),ow=(t,e,i,o)=>{t.prototype=Object.create(e.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),i&&Object.assign(t.prototype,i)},sw=(t,e,i,o)=>{let s,l,u;const f={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),l=s.length;l-- >0;)u=s[l],(!o||o(u,t,e))&&!f[u]&&(e[u]=t[u],f[u]=!0);t=i!==!1&&au(t)}while(t&&(!i||i(t,e))&&t!==Object.prototype);return e},aw=(t,e,i)=>{t=String(t),(i===void 0||i>t.length)&&(i=t.length),i-=e.length;const o=t.indexOf(e,i);return o!==-1&&o===i},lw=t=>{if(!t)return null;if(mr(t))return t;let e=t.length;if(!Lh(e))return null;const i=new Array(e);for(;e-- >0;)i[e]=t[e];return i},uw=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&au(Uint8Array)),cw=(t,e)=>{const o=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=o.next())&&!s.done;){const l=s.value;e.call(t,l[0],l[1])}},fw=(t,e)=>{let i;const o=[];for(;(i=t.exec(e))!==null;)o.push(i);return o},dw=Nn("HTMLFormElement"),hw=t=>t.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(i,o,s){return o.toUpperCase()+s}),Ef=(({hasOwnProperty:t})=>(e,i)=>t.call(e,i))(Object.prototype),pw=Nn("RegExp"),Ah=(t,e)=>{const i=Object.getOwnPropertyDescriptors(t),o={};uo(i,(s,l)=>{e(s,l,t)!==!1&&(o[l]=s)}),Object.defineProperties(t,o)},mw=t=>{Ah(t,(e,i)=>{if(Ei(t)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const o=t[i];if(Ei(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},_w=(t,e)=>{const i={},o=s=>{s.forEach(l=>{i[l]=!0})};return mr(t)?o(t):o(String(t).split(e)),i},vw=()=>{},gw=(t,e)=>(t=+t,Number.isFinite(t)?t:e),yw=t=>{const e=new Array(10),i=(o,s)=>{if(uu(o)){if(e.indexOf(o)>=0)return;if(!("toJSON"in o)){e[s]=o;const l=mr(o)?[]:{};return uo(o,(u,f)=>{const d=i(u,s+1);!oo(d)&&(l[f]=d)}),e[s]=void 0,l}}return o};return i(t,0)},U={isArray:mr,isArrayBuffer:Eh,isBuffer:jy,isFormData:tw,isArrayBufferView:qy,isString:Vy,isNumber:Lh,isBoolean:Ky,isObject:uu,isPlainObject:Jo,isUndefined:oo,isDate:Yy,isFile:Gy,isBlob:Jy,isRegExp:pw,isFunction:Ei,isStream:Qy,isURLSearchParams:ew,isTypedArray:uw,isFileList:Xy,forEach:uo,merge:bl,extend:iw,trim:nw,stripBOM:rw,inherits:ow,toFlatObject:sw,kindOf:lu,kindOfTest:Nn,endsWith:aw,toArray:lw,forEachEntry:cw,matchAll:fw,isHTMLForm:dw,hasOwnProperty:Ef,hasOwnProp:Ef,reduceDescriptors:Ah,freezeMethods:mw,toObjectSet:_w,toCamelCase:hw,noop:vw,toFiniteNumber:gw,findKey:kh,global:Oh,isContextDefined:Mh,toJSONObject:yw};function Ut(t,e,i,o,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),i&&(this.config=i),o&&(this.request=o),s&&(this.response=s)}U.inherits(Ut,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Ih=Ut.prototype,Rh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Rh[t]={value:t}});Object.defineProperties(Ut,Rh);Object.defineProperty(Ih,"isAxiosError",{value:!0});Ut.from=(t,e,i,o,s,l)=>{const u=Object.create(Ih);return U.toFlatObject(t,u,function(d){return d!==Error.prototype},f=>f!=="isAxiosError"),Ut.call(u,t.message,e,i,o,s),u.cause=t,u.name=t.name,l&&Object.assign(u,l),u};var ww=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bw(t){var e=t.default;if(typeof e=="function"){var i=function o(){if(this instanceof o){var s=[null];s.push.apply(s,arguments);var l=Function.bind.apply(e,s);return new l}return e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var s=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(i,o,s.get?s:{enumerable:!0,get:function(){return t[o]}})}),i}var xw=typeof self=="object"?self.FormData:window.FormData;const Cw=xw;function xl(t){return U.isPlainObject(t)||U.isArray(t)}function Nh(t){return U.endsWith(t,"[]")?t.slice(0,-2):t}function Lf(t,e,i){return t?t.concat(e).map(function(s,l){return s=Nh(s),!i&&l?"["+s+"]":s}).join(i?".":""):e}function Sw(t){return U.isArray(t)&&!t.some(xl)}const Pw=U.toFlatObject(U,{},null,function(e){return/^is[A-Z]/.test(e)});function Tw(t){return t&&U.isFunction(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator]}function Hs(t,e,i){if(!U.isObject(t))throw new TypeError("target must be an object");e=e||new(Cw||FormData),i=U.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,x){return!U.isUndefined(x[v])});const o=i.metaTokens,s=i.visitor||m,l=i.dots,u=i.indexes,d=(i.Blob||typeof Blob<"u"&&Blob)&&Tw(e);if(!U.isFunction(s))throw new TypeError("visitor must be a function");function h(y){if(y===null)return"";if(U.isDate(y))return y.toISOString();if(!d&&U.isBlob(y))throw new Ut("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(y)||U.isTypedArray(y)?d&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function m(y,v,x){let P=y;if(y&&!x&&typeof y=="object"){if(U.endsWith(v,"{}"))v=o?v:v.slice(0,-2),y=JSON.stringify(y);else if(U.isArray(y)&&Sw(y)||U.isFileList(y)||U.endsWith(v,"[]")&&(P=U.toArray(y)))return v=Nh(v),P.forEach(function(E,M){!(U.isUndefined(E)||E===null)&&e.append(u===!0?Lf([v],M,l):u===null?v:v+"[]",h(E))}),!1}return xl(y)?!0:(e.append(Lf(x,v,l),h(y)),!1)}const _=[],w=Object.assign(Pw,{defaultVisitor:m,convertValue:h,isVisitable:xl});function b(y,v){if(!U.isUndefined(y)){if(_.indexOf(y)!==-1)throw Error("Circular reference detected in "+v.join("."));_.push(y),U.forEach(y,function(P,S){(!(U.isUndefined(P)||P===null)&&s.call(e,P,U.isString(S)?S.trim():S,v,w))===!0&&b(P,v?v.concat(S):[S])}),_.pop()}}if(!U.isObject(t))throw new TypeError("data must be an object");return b(t),e}function kf(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return e[o]})}function cu(t,e){this._pairs=[],t&&Hs(t,this,e)}const Bh=cu.prototype;Bh.append=function(e,i){this._pairs.push([e,i])};Bh.toString=function(e){const i=e?function(o){return e.call(this,o,kf)}:kf;return this._pairs.map(function(s){return i(s[0])+"="+i(s[1])},"").join("&")};function Ew(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Dh(t,e,i){if(!e)return t;const o=i&&i.encode||Ew,s=i&&i.serialize;let l;if(s?l=s(e,i):l=U.isURLSearchParams(e)?e.toString():new cu(e,i).toString(o),l){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class Lw{constructor(){this.handlers=[]}use(e,i,o){return this.handlers.push({fulfilled:e,rejected:i,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){U.forEach(this.handlers,function(o){o!==null&&e(o)})}}const Of=Lw,$h={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kw=typeof URLSearchParams<"u"?URLSearchParams:cu,Ow=FormData,Mw=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Aw=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),vn={isBrowser:!0,classes:{URLSearchParams:kw,FormData:Ow,Blob},isStandardBrowserEnv:Mw,isStandardBrowserWebWorkerEnv:Aw,protocols:["http","https","file","blob","url","data"]};function Iw(t,e){return Hs(t,new vn.classes.URLSearchParams,Object.assign({visitor:function(i,o,s,l){return vn.isNode&&U.isBuffer(i)?(this.append(o,i.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function Rw(t){return U.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Nw(t){const e={},i=Object.keys(t);let o;const s=i.length;let l;for(o=0;o<s;o++)l=i[o],e[l]=t[l];return e}function zh(t){function e(i,o,s,l){let u=i[l++];const f=Number.isFinite(+u),d=l>=i.length;return u=!u&&U.isArray(s)?s.length:u,d?(U.hasOwnProp(s,u)?s[u]=[s[u],o]:s[u]=o,!f):((!s[u]||!U.isObject(s[u]))&&(s[u]=[]),e(i,o,s[u],l)&&U.isArray(s[u])&&(s[u]=Nw(s[u])),!f)}if(U.isFormData(t)&&U.isFunction(t.entries)){const i={};return U.forEachEntry(t,(o,s)=>{e(Rw(o),s,i,0)}),i}return null}const Bw={"Content-Type":void 0};function Dw(t,e,i){if(U.isString(t))try{return(e||JSON.parse)(t),U.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(i||JSON.stringify)(t)}const Ws={transitional:$h,adapter:["xhr","http"],transformRequest:[function(e,i){const o=i.getContentType()||"",s=o.indexOf("application/json")>-1,l=U.isObject(e);if(l&&U.isHTMLForm(e)&&(e=new FormData(e)),U.isFormData(e))return s&&s?JSON.stringify(zh(e)):e;if(U.isArrayBuffer(e)||U.isBuffer(e)||U.isStream(e)||U.isFile(e)||U.isBlob(e))return e;if(U.isArrayBufferView(e))return e.buffer;if(U.isURLSearchParams(e))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(l){if(o.indexOf("application/x-www-form-urlencoded")>-1)return Iw(e,this.formSerializer).toString();if((f=U.isFileList(e))||o.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Hs(f?{"files[]":e}:e,d&&new d,this.formSerializer)}}return l||s?(i.setContentType("application/json",!1),Dw(e)):e}],transformResponse:[function(e){const i=this.transitional||Ws.transitional,o=i&&i.forcedJSONParsing,s=this.responseType==="json";if(e&&U.isString(e)&&(o&&!this.responseType||s)){const u=!(i&&i.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(f){if(u)throw f.name==="SyntaxError"?Ut.from(f,Ut.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:vn.classes.FormData,Blob:vn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};U.forEach(["delete","get","head"],function(e){Ws.headers[e]={}});U.forEach(["post","put","patch"],function(e){Ws.headers[e]=U.merge(Bw)});const fu=Ws,$w=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),zw=t=>{const e={};let i,o,s;return t&&t.split(`
`).forEach(function(u){s=u.indexOf(":"),i=u.substring(0,s).trim().toLowerCase(),o=u.substring(s+1).trim(),!(!i||e[i]&&$w[i])&&(i==="set-cookie"?e[i]?e[i].push(o):e[i]=[o]:e[i]=e[i]?e[i]+", "+o:o)}),e},Mf=Symbol("internals");function Ar(t){return t&&String(t).trim().toLowerCase()}function Xo(t){return t===!1||t==null?t:U.isArray(t)?t.map(Xo):String(t)}function Fw(t){const e=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=i.exec(t);)e[o[1]]=o[2];return e}function Uw(t){return/^[-_a-zA-Z]+$/.test(t.trim())}function Af(t,e,i,o){if(U.isFunction(o))return o.call(this,e,i);if(U.isString(e)){if(U.isString(o))return e.indexOf(o)!==-1;if(U.isRegExp(o))return o.test(e)}}function Zw(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,i,o)=>i.toUpperCase()+o)}function Hw(t,e){const i=U.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+i,{value:function(s,l,u){return this[o].call(this,e,s,l,u)},configurable:!0})})}class js{constructor(e){e&&this.set(e)}set(e,i,o){const s=this;function l(f,d,h){const m=Ar(d);if(!m)throw new Error("header name must be a non-empty string");const _=U.findKey(s,m);(!_||s[_]===void 0||h===!0||h===void 0&&s[_]!==!1)&&(s[_||d]=Xo(f))}const u=(f,d)=>U.forEach(f,(h,m)=>l(h,m,d));return U.isPlainObject(e)||e instanceof this.constructor?u(e,i):U.isString(e)&&(e=e.trim())&&!Uw(e)?u(zw(e),i):e!=null&&l(i,e,o),this}get(e,i){if(e=Ar(e),e){const o=U.findKey(this,e);if(o){const s=this[o];if(!i)return s;if(i===!0)return Fw(s);if(U.isFunction(i))return i.call(this,s,o);if(U.isRegExp(i))return i.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,i){if(e=Ar(e),e){const o=U.findKey(this,e);return!!(o&&(!i||Af(this,this[o],o,i)))}return!1}delete(e,i){const o=this;let s=!1;function l(u){if(u=Ar(u),u){const f=U.findKey(o,u);f&&(!i||Af(o,o[f],f,i))&&(delete o[f],s=!0)}}return U.isArray(e)?e.forEach(l):l(e),s}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(e){const i=this,o={};return U.forEach(this,(s,l)=>{const u=U.findKey(o,l);if(u){i[u]=Xo(s),delete i[l];return}const f=e?Zw(l):String(l).trim();f!==l&&delete i[l],i[f]=Xo(s),o[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const i=Object.create(null);return U.forEach(this,(o,s)=>{o!=null&&o!==!1&&(i[s]=e&&U.isArray(o)?o.join(", "):o)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,i])=>e+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...i){const o=new this(e);return i.forEach(s=>o.set(s)),o}static accessor(e){const o=(this[Mf]=this[Mf]={accessors:{}}).accessors,s=this.prototype;function l(u){const f=Ar(u);o[f]||(Hw(s,u),o[f]=!0)}return U.isArray(e)?e.forEach(l):l(e),this}}js.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);U.freezeMethods(js.prototype);U.freezeMethods(js);const kn=js;function Na(t,e){const i=this||fu,o=e||i,s=kn.from(o.headers);let l=o.data;return U.forEach(t,function(f){l=f.call(i,l,s.normalize(),e?e.status:void 0)}),s.normalize(),l}function Fh(t){return!!(t&&t.__CANCEL__)}function co(t,e,i){Ut.call(this,t??"canceled",Ut.ERR_CANCELED,e,i),this.name="CanceledError"}U.inherits(co,Ut,{__CANCEL__:!0});const Ww=null;function jw(t,e,i){const o=i.config.validateStatus;!i.status||!o||o(i.status)?t(i):e(new Ut("Request failed with status code "+i.status,[Ut.ERR_BAD_REQUEST,Ut.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}const qw=vn.isStandardBrowserEnv?function(){return{write:function(i,o,s,l,u,f){const d=[];d.push(i+"="+encodeURIComponent(o)),U.isNumber(s)&&d.push("expires="+new Date(s).toGMTString()),U.isString(l)&&d.push("path="+l),U.isString(u)&&d.push("domain="+u),f===!0&&d.push("secure"),document.cookie=d.join("; ")},read:function(i){const o=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Vw(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Kw(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function Uh(t,e){return t&&!Vw(e)?Kw(t,e):e}const Yw=vn.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");let o;function s(l){let u=l;return e&&(i.setAttribute("href",u),u=i.href),i.setAttribute("href",u),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return o=s(window.location.href),function(u){const f=U.isString(u)?s(u):u;return f.protocol===o.protocol&&f.host===o.host}}():function(){return function(){return!0}}();function Gw(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Jw(t,e){t=t||10;const i=new Array(t),o=new Array(t);let s=0,l=0,u;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),m=o[l];u||(u=h),i[s]=d,o[s]=h;let _=l,w=0;for(;_!==s;)w+=i[_++],_=_%t;if(s=(s+1)%t,s===l&&(l=(l+1)%t),h-u<e)return;const b=m&&h-m;return b?Math.round(w*1e3/b):void 0}}function If(t,e){let i=0;const o=Jw(50,250);return s=>{const l=s.loaded,u=s.lengthComputable?s.total:void 0,f=l-i,d=o(f),h=l<=u;i=l;const m={loaded:l,total:u,progress:u?l/u:void 0,bytes:f,rate:d||void 0,estimated:d&&u&&h?(u-l)/d:void 0,event:s};m[e?"download":"upload"]=!0,t(m)}}const Xw=typeof XMLHttpRequest<"u",Qw=Xw&&function(t){return new Promise(function(i,o){let s=t.data;const l=kn.from(t.headers).normalize(),u=t.responseType;let f;function d(){t.cancelToken&&t.cancelToken.unsubscribe(f),t.signal&&t.signal.removeEventListener("abort",f)}U.isFormData(s)&&(vn.isStandardBrowserEnv||vn.isStandardBrowserWebWorkerEnv)&&l.setContentType(!1);let h=new XMLHttpRequest;if(t.auth){const b=t.auth.username||"",y=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";l.set("Authorization","Basic "+btoa(b+":"+y))}const m=Uh(t.baseURL,t.url);h.open(t.method.toUpperCase(),Dh(m,t.params,t.paramsSerializer),!0),h.timeout=t.timeout;function _(){if(!h)return;const b=kn.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),v={data:!u||u==="text"||u==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:b,config:t,request:h};jw(function(P){i(P),d()},function(P){o(P),d()},v),h=null}if("onloadend"in h?h.onloadend=_:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(_)},h.onabort=function(){h&&(o(new Ut("Request aborted",Ut.ECONNABORTED,t,h)),h=null)},h.onerror=function(){o(new Ut("Network Error",Ut.ERR_NETWORK,t,h)),h=null},h.ontimeout=function(){let y=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const v=t.transitional||$h;t.timeoutErrorMessage&&(y=t.timeoutErrorMessage),o(new Ut(y,v.clarifyTimeoutError?Ut.ETIMEDOUT:Ut.ECONNABORTED,t,h)),h=null},vn.isStandardBrowserEnv){const b=(t.withCredentials||Yw(m))&&t.xsrfCookieName&&qw.read(t.xsrfCookieName);b&&l.set(t.xsrfHeaderName,b)}s===void 0&&l.setContentType(null),"setRequestHeader"in h&&U.forEach(l.toJSON(),function(y,v){h.setRequestHeader(v,y)}),U.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),u&&u!=="json"&&(h.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&h.addEventListener("progress",If(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",If(t.onUploadProgress)),(t.cancelToken||t.signal)&&(f=b=>{h&&(o(!b||b.type?new co(null,t,h):b),h.abort(),h=null)},t.cancelToken&&t.cancelToken.subscribe(f),t.signal&&(t.signal.aborted?f():t.signal.addEventListener("abort",f)));const w=Gw(m);if(w&&vn.protocols.indexOf(w)===-1){o(new Ut("Unsupported protocol "+w+":",Ut.ERR_BAD_REQUEST,t));return}h.send(s||null)})},Qo={http:Ww,xhr:Qw};U.forEach(Qo,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const tb={getAdapter:t=>{t=U.isArray(t)?t:[t];const{length:e}=t;let i,o;for(let s=0;s<e&&(i=t[s],!(o=U.isString(i)?Qo[i.toLowerCase()]:i));s++);if(!o)throw o===!1?new Ut(`Adapter ${i} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(U.hasOwnProp(Qo,i)?`Adapter '${i}' is not available in the build`:`Unknown adapter '${i}'`);if(!U.isFunction(o))throw new TypeError("adapter is not a function");return o},adapters:Qo};function Ba(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new co(null,t)}function Rf(t){return Ba(t),t.headers=kn.from(t.headers),t.data=Na.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),tb.getAdapter(t.adapter||fu.adapter)(t).then(function(o){return Ba(t),o.data=Na.call(t,t.transformResponse,o),o.headers=kn.from(o.headers),o},function(o){return Fh(o)||(Ba(t),o&&o.response&&(o.response.data=Na.call(t,t.transformResponse,o.response),o.response.headers=kn.from(o.response.headers))),Promise.reject(o)})}const Nf=t=>t instanceof kn?t.toJSON():t;function lr(t,e){e=e||{};const i={};function o(h,m,_){return U.isPlainObject(h)&&U.isPlainObject(m)?U.merge.call({caseless:_},h,m):U.isPlainObject(m)?U.merge({},m):U.isArray(m)?m.slice():m}function s(h,m,_){if(U.isUndefined(m)){if(!U.isUndefined(h))return o(void 0,h,_)}else return o(h,m,_)}function l(h,m){if(!U.isUndefined(m))return o(void 0,m)}function u(h,m){if(U.isUndefined(m)){if(!U.isUndefined(h))return o(void 0,h)}else return o(void 0,m)}function f(h,m,_){if(_ in e)return o(h,m);if(_ in t)return o(void 0,h)}const d={url:l,method:l,data:l,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f,headers:(h,m)=>s(Nf(h),Nf(m),!0)};return U.forEach(Object.keys(t).concat(Object.keys(e)),function(m){const _=d[m]||s,w=_(t[m],e[m],m);U.isUndefined(w)&&_!==f||(i[m]=w)}),i}const Zh="1.2.1",du={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{du[t]=function(o){return typeof o===t||"a"+(e<1?"n ":" ")+t}});const Bf={};du.transitional=function(e,i,o){function s(l,u){return"[Axios v"+Zh+"] Transitional option '"+l+"'"+u+(o?". "+o:"")}return(l,u,f)=>{if(e===!1)throw new Ut(s(u," has been removed"+(i?" in "+i:"")),Ut.ERR_DEPRECATED);return i&&!Bf[u]&&(Bf[u]=!0,console.warn(s(u," has been deprecated since v"+i+" and will be removed in the near future"))),e?e(l,u,f):!0}};function eb(t,e,i){if(typeof t!="object")throw new Ut("options must be an object",Ut.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let s=o.length;for(;s-- >0;){const l=o[s],u=e[l];if(u){const f=t[l],d=f===void 0||u(f,l,t);if(d!==!0)throw new Ut("option "+l+" must be "+d,Ut.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Ut("Unknown option "+l,Ut.ERR_BAD_OPTION)}}const Cl={assertOptions:eb,validators:du},Hn=Cl.validators;class ps{constructor(e){this.defaults=e,this.interceptors={request:new Of,response:new Of}}request(e,i){typeof e=="string"?(i=i||{},i.url=e):i=e||{},i=lr(this.defaults,i);const{transitional:o,paramsSerializer:s,headers:l}=i;o!==void 0&&Cl.assertOptions(o,{silentJSONParsing:Hn.transitional(Hn.boolean),forcedJSONParsing:Hn.transitional(Hn.boolean),clarifyTimeoutError:Hn.transitional(Hn.boolean)},!1),s!==void 0&&Cl.assertOptions(s,{encode:Hn.function,serialize:Hn.function},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let u;u=l&&U.merge(l.common,l[i.method]),u&&U.forEach(["delete","get","head","post","put","patch","common"],y=>{delete l[y]}),i.headers=kn.concat(u,l);const f=[];let d=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(i)===!1||(d=d&&v.synchronous,f.unshift(v.fulfilled,v.rejected))});const h=[];this.interceptors.response.forEach(function(v){h.push(v.fulfilled,v.rejected)});let m,_=0,w;if(!d){const y=[Rf.bind(this),void 0];for(y.unshift.apply(y,f),y.push.apply(y,h),w=y.length,m=Promise.resolve(i);_<w;)m=m.then(y[_++],y[_++]);return m}w=f.length;let b=i;for(_=0;_<w;){const y=f[_++],v=f[_++];try{b=y(b)}catch(x){v.call(this,x);break}}try{m=Rf.call(this,b)}catch(y){return Promise.reject(y)}for(_=0,w=h.length;_<w;)m=m.then(h[_++],h[_++]);return m}getUri(e){e=lr(this.defaults,e);const i=Uh(e.baseURL,e.url);return Dh(i,e.params,e.paramsSerializer)}}U.forEach(["delete","get","head","options"],function(e){ps.prototype[e]=function(i,o){return this.request(lr(o||{},{method:e,url:i,data:(o||{}).data}))}});U.forEach(["post","put","patch"],function(e){function i(o){return function(l,u,f){return this.request(lr(f||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:l,data:u}))}}ps.prototype[e]=i(),ps.prototype[e+"Form"]=i(!0)});const ts=ps;class hu{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(l){i=l});const o=this;this.promise.then(s=>{if(!o._listeners)return;let l=o._listeners.length;for(;l-- >0;)o._listeners[l](s);o._listeners=null}),this.promise.then=s=>{let l;const u=new Promise(f=>{o.subscribe(f),l=f}).then(s);return u.cancel=function(){o.unsubscribe(l)},u},e(function(l,u,f){o.reason||(o.reason=new co(l,u,f),i(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const i=this._listeners.indexOf(e);i!==-1&&this._listeners.splice(i,1)}static source(){let e;return{token:new hu(function(s){e=s}),cancel:e}}}const nb=hu;function ib(t){return function(i){return t.apply(null,i)}}function rb(t){return U.isObject(t)&&t.isAxiosError===!0}function Hh(t){const e=new ts(t),i=Ph(ts.prototype.request,e);return U.extend(i,ts.prototype,e,{allOwnKeys:!0}),U.extend(i,e,null,{allOwnKeys:!0}),i.create=function(s){return Hh(lr(t,s))},i}const xe=Hh(fu);xe.Axios=ts;xe.CanceledError=co;xe.CancelToken=nb;xe.isCancel=Fh;xe.VERSION=Zh;xe.toFormData=Hs;xe.AxiosError=Ut;xe.Cancel=xe.CanceledError;xe.all=function(e){return Promise.all(e)};xe.spread=ib;xe.isAxiosError=rb;xe.mergeConfig=lr;xe.AxiosHeaders=kn;xe.formToJSON=t=>zh(U.isHTMLForm(t)?new FormData(t):t);xe.default=xe;const pu=xe;var ob=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},i=Symbol("test"),o=Object(i);if(typeof i=="string"||Object.prototype.toString.call(i)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var s=42;e[i]=s;for(i in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var l=Object.getOwnPropertySymbols(e);if(l.length!==1||l[0]!==i||!Object.prototype.propertyIsEnumerable.call(e,i))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(e,i);if(u.value!==s||u.enumerable!==!0)return!1}return!0},Df=typeof Symbol<"u"&&Symbol,sb=ob,ab=function(){return typeof Df!="function"||typeof Symbol!="function"||typeof Df("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:sb()},lb="Function.prototype.bind called on incompatible ",Da=Array.prototype.slice,ub=Object.prototype.toString,cb="[object Function]",fb=function(e){var i=this;if(typeof i!="function"||ub.call(i)!==cb)throw new TypeError(lb+i);for(var o=Da.call(arguments,1),s,l=function(){if(this instanceof s){var m=i.apply(this,o.concat(Da.call(arguments)));return Object(m)===m?m:this}else return i.apply(e,o.concat(Da.call(arguments)))},u=Math.max(0,i.length-o.length),f=[],d=0;d<u;d++)f.push("$"+d);if(s=Function("binder","return function ("+f.join(",")+"){ return binder.apply(this,arguments); }")(l),i.prototype){var h=function(){};h.prototype=i.prototype,s.prototype=new h,h.prototype=null}return s},db=fb,mu=Function.prototype.bind||db,hb=mu,pb=hb.call(Function.call,Object.prototype.hasOwnProperty),zt,ur=SyntaxError,Wh=Function,tr=TypeError,$a=function(t){try{return Wh('"use strict"; return ('+t+").constructor;")()}catch{}},Pi=Object.getOwnPropertyDescriptor;if(Pi)try{Pi({},"")}catch{Pi=null}var za=function(){throw new tr},mb=Pi?function(){try{return arguments.callee,za}catch{try{return Pi(arguments,"callee").get}catch{return za}}}():za,Hi=ab(),Vn=Object.getPrototypeOf||function(t){return t.__proto__},qi={},_b=typeof Uint8Array>"u"?zt:Vn(Uint8Array),er={"%AggregateError%":typeof AggregateError>"u"?zt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?zt:ArrayBuffer,"%ArrayIteratorPrototype%":Hi?Vn([][Symbol.iterator]()):zt,"%AsyncFromSyncIteratorPrototype%":zt,"%AsyncFunction%":qi,"%AsyncGenerator%":qi,"%AsyncGeneratorFunction%":qi,"%AsyncIteratorPrototype%":qi,"%Atomics%":typeof Atomics>"u"?zt:Atomics,"%BigInt%":typeof BigInt>"u"?zt:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?zt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?zt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?zt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?zt:FinalizationRegistry,"%Function%":Wh,"%GeneratorFunction%":qi,"%Int8Array%":typeof Int8Array>"u"?zt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?zt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?zt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Hi?Vn(Vn([][Symbol.iterator]())):zt,"%JSON%":typeof JSON=="object"?JSON:zt,"%Map%":typeof Map>"u"?zt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Hi?zt:Vn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?zt:Promise,"%Proxy%":typeof Proxy>"u"?zt:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?zt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?zt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Hi?zt:Vn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?zt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Hi?Vn(""[Symbol.iterator]()):zt,"%Symbol%":Hi?Symbol:zt,"%SyntaxError%":ur,"%ThrowTypeError%":mb,"%TypedArray%":_b,"%TypeError%":tr,"%Uint8Array%":typeof Uint8Array>"u"?zt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?zt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?zt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?zt:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?zt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?zt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?zt:WeakSet},vb=function t(e){var i;if(e==="%AsyncFunction%")i=$a("async function () {}");else if(e==="%GeneratorFunction%")i=$a("function* () {}");else if(e==="%AsyncGeneratorFunction%")i=$a("async function* () {}");else if(e==="%AsyncGenerator%"){var o=t("%AsyncGeneratorFunction%");o&&(i=o.prototype)}else if(e==="%AsyncIteratorPrototype%"){var s=t("%AsyncGenerator%");s&&(i=Vn(s.prototype))}return er[e]=i,i},$f={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},fo=mu,ms=pb,gb=fo.call(Function.call,Array.prototype.concat),yb=fo.call(Function.apply,Array.prototype.splice),zf=fo.call(Function.call,String.prototype.replace),_s=fo.call(Function.call,String.prototype.slice),wb=fo.call(Function.call,RegExp.prototype.exec),bb=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,xb=/\\(\\)?/g,Cb=function(e){var i=_s(e,0,1),o=_s(e,-1);if(i==="%"&&o!=="%")throw new ur("invalid intrinsic syntax, expected closing `%`");if(o==="%"&&i!=="%")throw new ur("invalid intrinsic syntax, expected opening `%`");var s=[];return zf(e,bb,function(l,u,f,d){s[s.length]=f?zf(d,xb,"$1"):u||l}),s},Sb=function(e,i){var o=e,s;if(ms($f,o)&&(s=$f[o],o="%"+s[0]+"%"),ms(er,o)){var l=er[o];if(l===qi&&(l=vb(o)),typeof l>"u"&&!i)throw new tr("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:s,name:o,value:l}}throw new ur("intrinsic "+e+" does not exist!")},_u=function(e,i){if(typeof e!="string"||e.length===0)throw new tr("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof i!="boolean")throw new tr('"allowMissing" argument must be a boolean');if(wb(/^%?[^%]*%?$/,e)===null)throw new ur("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var o=Cb(e),s=o.length>0?o[0]:"",l=Sb("%"+s+"%",i),u=l.name,f=l.value,d=!1,h=l.alias;h&&(s=h[0],yb(o,gb([0,1],h)));for(var m=1,_=!0;m<o.length;m+=1){var w=o[m],b=_s(w,0,1),y=_s(w,-1);if((b==='"'||b==="'"||b==="`"||y==='"'||y==="'"||y==="`")&&b!==y)throw new ur("property names with quotes must have matching quotes");if((w==="constructor"||!_)&&(d=!0),s+="."+w,u="%"+s+"%",ms(er,u))f=er[u];else if(f!=null){if(!(w in f)){if(!i)throw new tr("base intrinsic for "+e+" exists, but the property is not available.");return}if(Pi&&m+1>=o.length){var v=Pi(f,w);_=!!v,_&&"get"in v&&!("originalValue"in v.get)?f=v.get:f=f[w]}else _=ms(f,w),f=f[w];_&&!d&&(er[u]=f)}}return f},jh={exports:{}};(function(t){var e=mu,i=_u,o=i("%Function.prototype.apply%"),s=i("%Function.prototype.call%"),l=i("%Reflect.apply%",!0)||e.call(s,o),u=i("%Object.getOwnPropertyDescriptor%",!0),f=i("%Object.defineProperty%",!0),d=i("%Math.max%");if(f)try{f({},"a",{value:1})}catch{f=null}t.exports=function(_){var w=l(e,s,arguments);if(u&&f){var b=u(w,"length");b.configurable&&f(w,"length",{value:1+d(0,_.length-(arguments.length-1))})}return w};var h=function(){return l(e,o,arguments)};f?f(t.exports,"apply",{value:h}):t.exports.apply=h})(jh);var qh=_u,Vh=jh.exports,Pb=Vh(qh("String.prototype.indexOf")),Tb=function(e,i){var o=qh(e,!!i);return typeof o=="function"&&Pb(e,".prototype.")>-1?Vh(o):o};const Eb={},Lb=Object.freeze(Object.defineProperty({__proto__:null,default:Eb},Symbol.toStringTag,{value:"Module"})),kb=bw(Lb);var vu=typeof Map=="function"&&Map.prototype,Fa=Object.getOwnPropertyDescriptor&&vu?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,vs=vu&&Fa&&typeof Fa.get=="function"?Fa.get:null,Ob=vu&&Map.prototype.forEach,gu=typeof Set=="function"&&Set.prototype,Ua=Object.getOwnPropertyDescriptor&&gu?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,gs=gu&&Ua&&typeof Ua.get=="function"?Ua.get:null,Mb=gu&&Set.prototype.forEach,Ab=typeof WeakMap=="function"&&WeakMap.prototype,Zr=Ab?WeakMap.prototype.has:null,Ib=typeof WeakSet=="function"&&WeakSet.prototype,Hr=Ib?WeakSet.prototype.has:null,Rb=typeof WeakRef=="function"&&WeakRef.prototype,Ff=Rb?WeakRef.prototype.deref:null,Nb=Boolean.prototype.valueOf,Bb=Object.prototype.toString,Db=Function.prototype.toString,$b=String.prototype.match,Sl=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Za=Object.getOwnPropertySymbols,Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,cr=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Re=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===cr||"symbol")?Symbol.toStringTag:null,zb=Object.prototype.propertyIsEnumerable,Uf=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null),Ha=kb.custom,Wa=Ha&&Yh(Ha)?Ha:null,Fb=function t(e,i,o,s){var l=i||{};if(bi(l,"quoteStyle")&&l.quoteStyle!=="single"&&l.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(bi(l,"maxStringLength")&&(typeof l.maxStringLength=="number"?l.maxStringLength<0&&l.maxStringLength!==1/0:l.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=bi(l,"customInspect")?l.customInspect:!0;if(typeof u!="boolean"&&u!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(bi(l,"indent")&&l.indent!==null&&l.indent!=="	"&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Jh(e,l);if(typeof e=="number")return e===0?1/0/e>0?"0":"-0":String(e);if(typeof e=="bigint")return String(e)+"n";var f=typeof l.depth>"u"?5:l.depth;if(typeof o>"u"&&(o=0),o>=f&&f>0&&typeof e=="object")return Tl(e)?"[Array]":"[Object]";var d=o0(l,o);if(typeof s>"u")s=[];else if(Gh(s,e)>=0)return"[Circular]";function h(ct,ht,tt){if(ht&&(s=s.slice(),s.push(ht)),tt){var kt={depth:l.depth};return bi(l,"quoteStyle")&&(kt.quoteStyle=l.quoteStyle),t(ct,kt,o+1,s)}return t(ct,l,o+1,s)}if(typeof e=="function"){var m=Gb(e),_=zo(e,h);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(_.length>0?" { "+_.join(", ")+" }":"")}if(Yh(e)){var w=cr?String(e).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):Pl.call(e);return typeof e=="object"&&!cr?Ir(w):w}if(n0(e)){for(var b="<"+String(e.nodeName).toLowerCase(),y=e.attributes||[],v=0;v<y.length;v++)b+=" "+y[v].name+"="+Kh(Ub(y[v].value),"double",l);return b+=">",e.childNodes&&e.childNodes.length&&(b+="..."),b+="</"+String(e.nodeName).toLowerCase()+">",b}if(Tl(e)){if(e.length===0)return"[]";var x=zo(e,h);return d&&!r0(x)?"["+El(x,d)+"]":"[ "+x.join(", ")+" ]"}if(Wb(e)){var P=zo(e,h);return P.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+P.join(", ")+" }"}if(typeof e=="object"&&u){if(Wa&&typeof e[Wa]=="function")return e[Wa]();if(u!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Jb(e)){var S=[];return Ob.call(e,function(ct,ht){S.push(h(ht,e,!0)+" => "+h(ct,e))}),Zf("Map",vs.call(e),S,d)}if(t0(e)){var E=[];return Mb.call(e,function(ct){E.push(h(ct,e))}),Zf("Set",gs.call(e),E,d)}if(Xb(e))return ja("WeakMap");if(e0(e))return ja("WeakSet");if(Qb(e))return ja("WeakRef");if(qb(e))return Ir(h(Number(e)));if(Kb(e))return Ir(h(Sl.call(e)));if(Vb(e))return Ir(Nb.call(e));if(jb(e))return Ir(h(String(e)));if(!Zb(e)&&!Hb(e)){var M=zo(e,h),V=Uf?Uf(e)===Object.prototype:e instanceof Object||e.constructor===Object,G=e instanceof Object?"":"null prototype",dt=!V&&Re&&Object(e)===e&&Re in e?ni(e).slice(8,-1):G?"Object":"",rt=V||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",_t=rt+(dt||G?"["+[].concat(dt||[],G||[]).join(": ")+"] ":"");return M.length===0?_t+"{}":d?_t+"{"+El(M,d)+"}":_t+"{ "+M.join(", ")+" }"}return String(e)};function Kh(t,e,i){var o=(i.quoteStyle||e)==="double"?'"':"'";return o+t+o}function Ub(t){return String(t).replace(/"/g,"&quot;")}function Tl(t){return ni(t)==="[object Array]"&&(!Re||!(typeof t=="object"&&Re in t))}function Zb(t){return ni(t)==="[object Date]"&&(!Re||!(typeof t=="object"&&Re in t))}function Hb(t){return ni(t)==="[object RegExp]"&&(!Re||!(typeof t=="object"&&Re in t))}function Wb(t){return ni(t)==="[object Error]"&&(!Re||!(typeof t=="object"&&Re in t))}function jb(t){return ni(t)==="[object String]"&&(!Re||!(typeof t=="object"&&Re in t))}function qb(t){return ni(t)==="[object Number]"&&(!Re||!(typeof t=="object"&&Re in t))}function Vb(t){return ni(t)==="[object Boolean]"&&(!Re||!(typeof t=="object"&&Re in t))}function Yh(t){if(cr)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Pl)return!1;try{return Pl.call(t),!0}catch{}return!1}function Kb(t){if(!t||typeof t!="object"||!Sl)return!1;try{return Sl.call(t),!0}catch{}return!1}var Yb=Object.prototype.hasOwnProperty||function(t){return t in this};function bi(t,e){return Yb.call(t,e)}function ni(t){return Bb.call(t)}function Gb(t){if(t.name)return t.name;var e=$b.call(Db.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Gh(t,e){if(t.indexOf)return t.indexOf(e);for(var i=0,o=t.length;i<o;i++)if(t[i]===e)return i;return-1}function Jb(t){if(!vs||!t||typeof t!="object")return!1;try{vs.call(t);try{gs.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Xb(t){if(!Zr||!t||typeof t!="object")return!1;try{Zr.call(t,Zr);try{Hr.call(t,Hr)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Qb(t){if(!Ff||!t||typeof t!="object")return!1;try{return Ff.call(t),!0}catch{}return!1}function t0(t){if(!gs||!t||typeof t!="object")return!1;try{gs.call(t);try{vs.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function e0(t){if(!Hr||!t||typeof t!="object")return!1;try{Hr.call(t,Hr);try{Zr.call(t,Zr)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function n0(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Jh(t,e){if(t.length>e.maxStringLength){var i=t.length-e.maxStringLength,o="... "+i+" more character"+(i>1?"s":"");return Jh(t.slice(0,e.maxStringLength),e)+o}var s=t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,i0);return Kh(s,"single",e)}function i0(t){var e=t.charCodeAt(0),i={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return i?"\\"+i:"\\x"+(e<16?"0":"")+e.toString(16).toUpperCase()}function Ir(t){return"Object("+t+")"}function ja(t){return t+" { ? }"}function Zf(t,e,i,o){var s=o?El(i,o):i.join(", ");return t+" ("+e+") {"+s+"}"}function r0(t){for(var e=0;e<t.length;e++)if(Gh(t[e],`
`)>=0)return!1;return!0}function o0(t,e){var i;if(t.indent==="	")i="	";else if(typeof t.indent=="number"&&t.indent>0)i=Array(t.indent+1).join(" ");else return null;return{base:i,prev:Array(e+1).join(i)}}function El(t,e){if(t.length===0)return"";var i=`
`+e.prev+e.base;return i+t.join(","+i)+`
`+e.prev}function zo(t,e){var i=Tl(t),o=[];if(i){o.length=t.length;for(var s=0;s<t.length;s++)o[s]=bi(t,s)?e(t[s],t):""}var l=typeof Za=="function"?Za(t):[],u;if(cr){u={};for(var f=0;f<l.length;f++)u["$"+l[f]]=l[f]}for(var d in t)bi(t,d)&&(i&&String(Number(d))===d&&d<t.length||cr&&u["$"+d]instanceof Symbol||(/[^\w$]/.test(d)?o.push(e(d,t)+": "+e(t[d],t)):o.push(d+": "+e(t[d],t))));if(typeof Za=="function")for(var h=0;h<l.length;h++)zb.call(t,l[h])&&o.push("["+e(l[h])+"]: "+e(t[l[h]],t));return o}var yu=_u,_r=Tb,s0=Fb,a0=yu("%TypeError%"),Fo=yu("%WeakMap%",!0),Uo=yu("%Map%",!0),l0=_r("WeakMap.prototype.get",!0),u0=_r("WeakMap.prototype.set",!0),c0=_r("WeakMap.prototype.has",!0),f0=_r("Map.prototype.get",!0),d0=_r("Map.prototype.set",!0),h0=_r("Map.prototype.has",!0),wu=function(t,e){for(var i=t,o;(o=i.next)!==null;i=o)if(o.key===e)return i.next=o.next,o.next=t.next,t.next=o,o},p0=function(t,e){var i=wu(t,e);return i&&i.value},m0=function(t,e,i){var o=wu(t,e);o?o.value=i:t.next={key:e,next:t.next,value:i}},_0=function(t,e){return!!wu(t,e)},v0=function(){var e,i,o,s={assert:function(l){if(!s.has(l))throw new a0("Side channel does not contain "+s0(l))},get:function(l){if(Fo&&l&&(typeof l=="object"||typeof l=="function")){if(e)return l0(e,l)}else if(Uo){if(i)return f0(i,l)}else if(o)return p0(o,l)},has:function(l){if(Fo&&l&&(typeof l=="object"||typeof l=="function")){if(e)return c0(e,l)}else if(Uo){if(i)return h0(i,l)}else if(o)return _0(o,l);return!1},set:function(l,u){Fo&&l&&(typeof l=="object"||typeof l=="function")?(e||(e=new Fo),u0(e,l,u)):Uo?(i||(i=new Uo),d0(i,l,u)):(o||(o={key:{},next:null}),m0(o,l,u))}};return s},g0=String.prototype.replace,y0=/%20/g,qa={RFC1738:"RFC1738",RFC3986:"RFC3986"},bu={default:qa.RFC3986,formatters:{RFC1738:function(t){return g0.call(t,y0,"+")},RFC3986:function(t){return String(t)}},RFC1738:qa.RFC1738,RFC3986:qa.RFC3986},w0=bu,Va=Object.prototype.hasOwnProperty,xi=Array.isArray,dn=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),b0=function(e){for(;e.length>1;){var i=e.pop(),o=i.obj[i.prop];if(xi(o)){for(var s=[],l=0;l<o.length;++l)typeof o[l]<"u"&&s.push(o[l]);i.obj[i.prop]=s}}},Xh=function(e,i){for(var o=i&&i.plainObjects?Object.create(null):{},s=0;s<e.length;++s)typeof e[s]<"u"&&(o[s]=e[s]);return o},x0=function t(e,i,o){if(!i)return e;if(typeof i!="object"){if(xi(e))e.push(i);else if(e&&typeof e=="object")(o&&(o.plainObjects||o.allowPrototypes)||!Va.call(Object.prototype,i))&&(e[i]=!0);else return[e,i];return e}if(!e||typeof e!="object")return[e].concat(i);var s=e;return xi(e)&&!xi(i)&&(s=Xh(e,o)),xi(e)&&xi(i)?(i.forEach(function(l,u){if(Va.call(e,u)){var f=e[u];f&&typeof f=="object"&&l&&typeof l=="object"?e[u]=t(f,l,o):e.push(l)}else e[u]=l}),e):Object.keys(i).reduce(function(l,u){var f=i[u];return Va.call(l,u)?l[u]=t(l[u],f,o):l[u]=f,l},s)},C0=function(e,i){return Object.keys(i).reduce(function(o,s){return o[s]=i[s],o},e)},S0=function(t,e,i){var o=t.replace(/\+/g," ");if(i==="iso-8859-1")return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch{return o}},P0=function(e,i,o,s,l){if(e.length===0)return e;var u=e;if(typeof e=="symbol"?u=Symbol.prototype.toString.call(e):typeof e!="string"&&(u=String(e)),o==="iso-8859-1")return escape(u).replace(/%u[0-9a-f]{4}/gi,function(m){return"%26%23"+parseInt(m.slice(2),16)+"%3B"});for(var f="",d=0;d<u.length;++d){var h=u.charCodeAt(d);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||l===w0.RFC1738&&(h===40||h===41)){f+=u.charAt(d);continue}if(h<128){f=f+dn[h];continue}if(h<2048){f=f+(dn[192|h>>6]+dn[128|h&63]);continue}if(h<55296||h>=57344){f=f+(dn[224|h>>12]+dn[128|h>>6&63]+dn[128|h&63]);continue}d+=1,h=65536+((h&1023)<<10|u.charCodeAt(d)&1023),f+=dn[240|h>>18]+dn[128|h>>12&63]+dn[128|h>>6&63]+dn[128|h&63]}return f},T0=function(e){for(var i=[{obj:{o:e},prop:"o"}],o=[],s=0;s<i.length;++s)for(var l=i[s],u=l.obj[l.prop],f=Object.keys(u),d=0;d<f.length;++d){var h=f[d],m=u[h];typeof m=="object"&&m!==null&&o.indexOf(m)===-1&&(i.push({obj:u,prop:h}),o.push(m))}return b0(i),e},E0=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},L0=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},k0=function(e,i){return[].concat(e,i)},O0=function(e,i){if(xi(e)){for(var o=[],s=0;s<e.length;s+=1)o.push(i(e[s]));return o}return i(e)},Qh={arrayToObject:Xh,assign:C0,combine:k0,compact:T0,decode:S0,encode:P0,isBuffer:L0,isRegExp:E0,maybeMap:O0,merge:x0},tp=v0,Ll=Qh,Wr=bu,M0=Object.prototype.hasOwnProperty,Hf={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,i){return e+"["+i+"]"},repeat:function(e){return e}},Tn=Array.isArray,A0=String.prototype.split,I0=Array.prototype.push,ep=function(t,e){I0.apply(t,Tn(e)?e:[e])},R0=Date.prototype.toISOString,Wf=Wr.default,Se={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Ll.encode,encodeValuesOnly:!1,format:Wf,formatter:Wr.formatters[Wf],indices:!1,serializeDate:function(e){return R0.call(e)},skipNulls:!1,strictNullHandling:!1},N0=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Ka={},B0=function t(e,i,o,s,l,u,f,d,h,m,_,w,b,y,v,x){for(var P=e,S=x,E=0,M=!1;(S=S.get(Ka))!==void 0&&!M;){var V=S.get(e);if(E+=1,typeof V<"u"){if(V===E)throw new RangeError("Cyclic object value");M=!0}typeof S.get(Ka)>"u"&&(E=0)}if(typeof d=="function"?P=d(i,P):P instanceof Date?P=_(P):o==="comma"&&Tn(P)&&(P=Ll.maybeMap(P,function(he){return he instanceof Date?_(he):he})),P===null){if(l)return f&&!y?f(i,Se.encoder,v,"key",w):i;P=""}if(N0(P)||Ll.isBuffer(P)){if(f){var G=y?i:f(i,Se.encoder,v,"key",w);if(o==="comma"&&y){for(var dt=A0.call(String(P),","),rt="",_t=0;_t<dt.length;++_t)rt+=(_t===0?"":",")+b(f(dt[_t],Se.encoder,v,"value",w));return[b(G)+(s&&Tn(P)&&dt.length===1?"[]":"")+"="+rt]}return[b(G)+"="+b(f(P,Se.encoder,v,"value",w))]}return[b(i)+"="+b(String(P))]}var ct=[];if(typeof P>"u")return ct;var ht;if(o==="comma"&&Tn(P))ht=[{value:P.length>0?P.join(",")||null:void 0}];else if(Tn(d))ht=d;else{var tt=Object.keys(P);ht=h?tt.sort(h):tt}for(var kt=s&&Tn(P)&&P.length===1?i+"[]":i,Ot=0;Ot<ht.length;++Ot){var Rt=ht[Ot],xt=typeof Rt=="object"&&typeof Rt.value<"u"?Rt.value:P[Rt];if(!(u&&xt===null)){var Tt=Tn(P)?typeof o=="function"?o(kt,Rt):kt:kt+(m?"."+Rt:"["+Rt+"]");x.set(e,E);var at=tp();at.set(Ka,x),ep(ct,t(xt,Tt,o,s,l,u,f,d,h,m,_,w,b,y,v,at))}}return ct},D0=function(e){if(!e)return Se;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var i=e.charset||Se.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var o=Wr.default;if(typeof e.format<"u"){if(!M0.call(Wr.formatters,e.format))throw new TypeError("Unknown format option provided.");o=e.format}var s=Wr.formatters[o],l=Se.filter;return(typeof e.filter=="function"||Tn(e.filter))&&(l=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Se.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Se.allowDots:!!e.allowDots,charset:i,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Se.charsetSentinel,delimiter:typeof e.delimiter>"u"?Se.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Se.encode,encoder:typeof e.encoder=="function"?e.encoder:Se.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Se.encodeValuesOnly,filter:l,format:o,formatter:s,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Se.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Se.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Se.strictNullHandling}},$0=function(t,e){var i=t,o=D0(e),s,l;typeof o.filter=="function"?(l=o.filter,i=l("",i)):Tn(o.filter)&&(l=o.filter,s=l);var u=[];if(typeof i!="object"||i===null)return"";var f;e&&e.arrayFormat in Hf?f=e.arrayFormat:e&&"indices"in e?f=e.indices?"indices":"repeat":f="indices";var d=Hf[f];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var h=d==="comma"&&e&&e.commaRoundTrip;s||(s=Object.keys(i)),o.sort&&s.sort(o.sort);for(var m=tp(),_=0;_<s.length;++_){var w=s[_];o.skipNulls&&i[w]===null||ep(u,B0(i[w],w,d,h,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,m))}var b=u.join(o.delimiter),y=o.addQueryPrefix===!0?"?":"";return o.charsetSentinel&&(o.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),b.length>0?y+b:""},fr=Qh,kl=Object.prototype.hasOwnProperty,z0=Array.isArray,we={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:fr.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},F0=function(t){return t.replace(/&#(\d+);/g,function(e,i){return String.fromCharCode(parseInt(i,10))})},np=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},U0="utf8=%26%2310003%3B",Z0="utf8=%E2%9C%93",H0=function(e,i){var o={},s=i.ignoreQueryPrefix?e.replace(/^\?/,""):e,l=i.parameterLimit===1/0?void 0:i.parameterLimit,u=s.split(i.delimiter,l),f=-1,d,h=i.charset;if(i.charsetSentinel)for(d=0;d<u.length;++d)u[d].indexOf("utf8=")===0&&(u[d]===Z0?h="utf-8":u[d]===U0&&(h="iso-8859-1"),f=d,d=u.length);for(d=0;d<u.length;++d)if(d!==f){var m=u[d],_=m.indexOf("]="),w=_===-1?m.indexOf("="):_+1,b,y;w===-1?(b=i.decoder(m,we.decoder,h,"key"),y=i.strictNullHandling?null:""):(b=i.decoder(m.slice(0,w),we.decoder,h,"key"),y=fr.maybeMap(np(m.slice(w+1),i),function(v){return i.decoder(v,we.decoder,h,"value")})),y&&i.interpretNumericEntities&&h==="iso-8859-1"&&(y=F0(y)),m.indexOf("[]=")>-1&&(y=z0(y)?[y]:y),kl.call(o,b)?o[b]=fr.combine(o[b],y):o[b]=y}return o},W0=function(t,e,i,o){for(var s=o?e:np(e,i),l=t.length-1;l>=0;--l){var u,f=t[l];if(f==="[]"&&i.parseArrays)u=[].concat(s);else{u=i.plainObjects?Object.create(null):{};var d=f.charAt(0)==="["&&f.charAt(f.length-1)==="]"?f.slice(1,-1):f,h=parseInt(d,10);!i.parseArrays&&d===""?u={0:s}:!isNaN(h)&&f!==d&&String(h)===d&&h>=0&&i.parseArrays&&h<=i.arrayLimit?(u=[],u[h]=s):d!=="__proto__"&&(u[d]=s)}s=u}return s},j0=function(e,i,o,s){if(e){var l=o.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,u=/(\[[^[\]]*])/,f=/(\[[^[\]]*])/g,d=o.depth>0&&u.exec(l),h=d?l.slice(0,d.index):l,m=[];if(h){if(!o.plainObjects&&kl.call(Object.prototype,h)&&!o.allowPrototypes)return;m.push(h)}for(var _=0;o.depth>0&&(d=f.exec(l))!==null&&_<o.depth;){if(_+=1,!o.plainObjects&&kl.call(Object.prototype,d[1].slice(1,-1))&&!o.allowPrototypes)return;m.push(d[1])}return d&&m.push("["+l.slice(d.index)+"]"),W0(m,i,o,s)}},q0=function(e){if(!e)return we;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=typeof e.charset>"u"?we.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?we.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:we.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:we.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:we.arrayLimit,charset:i,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:we.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:we.comma,decoder:typeof e.decoder=="function"?e.decoder:we.decoder,delimiter:typeof e.delimiter=="string"||fr.isRegExp(e.delimiter)?e.delimiter:we.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:we.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:we.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:we.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:we.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:we.strictNullHandling}},V0=function(t,e){var i=q0(e);if(t===""||t===null||typeof t>"u")return i.plainObjects?Object.create(null):{};for(var o=typeof t=="string"?H0(t,i):t,s=i.plainObjects?Object.create(null):{},l=Object.keys(o),u=0;u<l.length;++u){var f=l[u],d=j0(f,o[f],i,typeof t=="string");s=fr.merge(s,d,i)}return i.allowSparse===!0?s:fr.compact(s)},K0=$0,Y0=V0,G0=bu,J0={formats:G0,parse:Y0,stringify:K0};let En;const X0=J0.stringify({grant_type:"client_credentials",client_id:"wf6212-8e3fc5d4-bd75-4367",client_secret:"dd7d34c9-b960-4126-9db6-3ec1311d354b"}),ke=pu.create({baseURL:"https://tdx.transportdata.tw/api/basic/v2/Bus",params:{$format:"JSON"}}),ip="https://tdx.transportdata.tw/api/advanced/v2/Bus",xu="https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png";ke.interceptors.request.use(async t=>(En||(En=await rp()),t.headers={authorization:"Bearer "+(En==null?void 0:En.access_token)},t),t=>Promise.reject(t));ke.interceptors.response.use(t=>t,async t=>{var i;console.log(t.config);const e=t.config;return((i=t==null?void 0:t.response)==null?void 0:i.status)===403&&!e._retry?(e._retry=!0,En=await rp(),pu.defaults.headers.common.Authorization="Bearer "+(En==null?void 0:En.access_token),ke(e)):Promise.reject(t)});async function rp(){try{return(await pu({method:"POST",url:"https://tdx.transportdata.tw/auth/realms/TDXConnect/protocol/openid-connect/token",headers:{"content-type":"application/x-www-form-urlencoded"},data:X0})).data}catch(t){throw new Error(t.message)}}async function op(t,e,i){let o=`StopOfRoute/City/${e}`;return e||(o="StopOfRoute/InterCity"),(await ke.get(o,{params:{$filter:`RouteName/Zh_tw eq '${t}'`}})).data}async function Ya(t,e,i){let o=`Route/City/${e}`;return e||(o="Route/InterCity"),(await ke.get(`${o}/${t}`,{params:{$top:20,$skip:`${i||0}`}})).data}async function Q0(t,e){let i=`EstimatedTimeOfArrival/City/${e}`;return(!e||e==="intercity")&&(i="EstimatedTimeOfArrival/InterCity"),(await ke.get(i,{params:{$filter:`RouteName/Zh_tw eq '${t}'`}})).data}async function tx(t,e){let i=`RealTimeNearStop/City/${e}`;return(!e||e==="intercity")&&(i="RealTimeNearStop/InterCity"),(await ke.get(i,{params:{$filter:`RouteName/Zh_tw eq '${t}'`}})).data}async function ex(t,e){let i=`Vehicle/City/${e}`;return(!e||e==="intercity")&&(i="Vehicle/InterCity"),(await ke.get(i,{params:{$filter:`PlateNumb eq '${t}'`}})).data}async function nx(t,e){let i=`Station/City/${e}`;return(!e||e==="intercity")&&(i="Station/InterCity"),(await ke.get(i,{params:{$filter:`StationID eq '${t}'`}})).data[0]}async function ix(t,e){let i=`Route/City/${e}/PassThrough/Station/${t}`;return(!e||e==="intercity")&&(i=`Route/InterCity/PassThrough/Station/${t}`),(await ke.get(i,{baseURL:ip})).data}async function rx(t,e){let i=`RouteFare/City/${e}`;return e||(i="RouteFare/InterCity"),(await ke.get(i,{params:{$filter:`SubRouteName eq '${t}'`}})).data}var Ol={exports:{}};(function(t,e){(function(i,o){o(e)})(ww,function(i){var o="1.9.3";function s(n){var r,a,c,p;for(a=1,c=arguments.length;a<c;a++){p=arguments[a];for(r in p)n[r]=p[r]}return n}var l=Object.create||function(){function n(){}return function(r){return n.prototype=r,new n}}();function u(n,r){var a=Array.prototype.slice;if(n.bind)return n.bind.apply(n,a.call(arguments,1));var c=a.call(arguments,2);return function(){return n.apply(r,c.length?c.concat(a.call(arguments)):arguments)}}var f=0;function d(n){return"_leaflet_id"in n||(n._leaflet_id=++f),n._leaflet_id}function h(n,r,a){var c,p,g,T;return T=function(){c=!1,p&&(g.apply(a,p),p=!1)},g=function(){c?p=arguments:(n.apply(a,arguments),setTimeout(T,r),c=!0)},g}function m(n,r,a){var c=r[1],p=r[0],g=c-p;return n===c&&a?n:((n-p)%g+g)%g+p}function _(){return!1}function w(n,r){if(r===!1)return n;var a=Math.pow(10,r===void 0?6:r);return Math.round(n*a)/a}function b(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function y(n){return b(n).split(/\s+/)}function v(n,r){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?l(n.options):{});for(var a in r)n.options[a]=r[a];return n.options}function x(n,r,a){var c=[];for(var p in n)c.push(encodeURIComponent(a?p.toUpperCase():p)+"="+encodeURIComponent(n[p]));return(!r||r.indexOf("?")===-1?"?":"&")+c.join("&")}var P=/\{ *([\w_ -]+) *\}/g;function S(n,r){return n.replace(P,function(a,c){var p=r[c];if(p===void 0)throw new Error("No value provided for variable "+a);return typeof p=="function"&&(p=p(r)),p})}var E=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function M(n,r){for(var a=0;a<n.length;a++)if(n[a]===r)return a;return-1}var V="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function G(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var dt=0;function rt(n){var r=+new Date,a=Math.max(0,16-(r-dt));return dt=r+a,window.setTimeout(n,a)}var _t=window.requestAnimationFrame||G("RequestAnimationFrame")||rt,ct=window.cancelAnimationFrame||G("CancelAnimationFrame")||G("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function ht(n,r,a){if(a&&_t===rt)n.call(r);else return _t.call(window,u(n,r))}function tt(n){n&&ct.call(window,n)}var kt={__proto__:null,extend:s,create:l,bind:u,get lastId(){return f},stamp:d,throttle:h,wrapNum:m,falseFn:_,formatNum:w,trim:b,splitWords:y,setOptions:v,getParamString:x,template:S,isArray:E,indexOf:M,emptyImageUrl:V,requestFn:_t,cancelFn:ct,requestAnimFrame:ht,cancelAnimFrame:tt};function Ot(){}Ot.extend=function(n){var r=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},a=r.__super__=this.prototype,c=l(a);c.constructor=r,r.prototype=c;for(var p in this)Object.prototype.hasOwnProperty.call(this,p)&&p!=="prototype"&&p!=="__super__"&&(r[p]=this[p]);return n.statics&&s(r,n.statics),n.includes&&(Rt(n.includes),s.apply(null,[c].concat(n.includes))),s(c,n),delete c.statics,delete c.includes,c.options&&(c.options=a.options?l(a.options):{},s(c.options,n.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var g=0,T=c._initHooks.length;g<T;g++)c._initHooks[g].call(this)}},r},Ot.include=function(n){var r=this.prototype.options;return s(this.prototype,n),n.options&&(this.prototype.options=r,this.mergeOptions(n.options)),this},Ot.mergeOptions=function(n){return s(this.prototype.options,n),this},Ot.addInitHook=function(n){var r=Array.prototype.slice.call(arguments,1),a=typeof n=="function"?n:function(){this[n].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a),this};function Rt(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=E(n)?n:[n];for(var r=0;r<n.length;r++)n[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var xt={on:function(n,r,a){if(typeof n=="object")for(var c in n)this._on(c,n[c],r);else{n=y(n);for(var p=0,g=n.length;p<g;p++)this._on(n[p],r,a)}return this},off:function(n,r,a){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var c in n)this._off(c,n[c],r);else{n=y(n);for(var p=arguments.length===1,g=0,T=n.length;g<T;g++)p?this._off(n[g]):this._off(n[g],r,a)}return this},_on:function(n,r,a,c){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(n,r,a)===!1){a===this&&(a=void 0);var p={fn:r,ctx:a};c&&(p.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(p)}},_off:function(n,r,a){var c,p,g;if(this._events&&(c=this._events[n],!!c)){if(arguments.length===1){if(this._firingCount)for(p=0,g=c.length;p<g;p++)c[p].fn=_;delete this._events[n];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var T=this._listens(n,r,a);if(T!==!1){var A=c[T];this._firingCount&&(A.fn=_,this._events[n]=c=c.slice()),c.splice(T,1)}}},fire:function(n,r,a){if(!this.listens(n,a))return this;var c=s({},r,{type:n,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var p=this._events[n];if(p){this._firingCount=this._firingCount+1||1;for(var g=0,T=p.length;g<T;g++){var A=p[g],R=A.fn;A.once&&this.off(n,R,A.ctx),R.call(A.ctx||this,c)}this._firingCount--}}return a&&this._propagateEvent(c),this},listens:function(n,r,a,c){typeof n!="string"&&console.warn('"string" type argument expected');var p=r;typeof r!="function"&&(c=!!r,p=void 0,a=void 0);var g=this._events&&this._events[n];if(g&&g.length&&this._listens(n,p,a)!==!1)return!0;if(c){for(var T in this._eventParents)if(this._eventParents[T].listens(n,r,a,c))return!0}return!1},_listens:function(n,r,a){if(!this._events)return!1;var c=this._events[n]||[];if(!r)return!!c.length;a===this&&(a=void 0);for(var p=0,g=c.length;p<g;p++)if(c[p].fn===r&&c[p].ctx===a)return p;return!1},once:function(n,r,a){if(typeof n=="object")for(var c in n)this._on(c,n[c],r,!0);else{n=y(n);for(var p=0,g=n.length;p<g;p++)this._on(n[p],r,a,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[d(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[d(n)],this},_propagateEvent:function(n){for(var r in this._eventParents)this._eventParents[r].fire(n.type,s({layer:n.target,propagatedFrom:n.target},n),!0)}};xt.addEventListener=xt.on,xt.removeEventListener=xt.clearAllEventListeners=xt.off,xt.addOneTimeEventListener=xt.once,xt.fireEvent=xt.fire,xt.hasEventListeners=xt.listens;var Tt=Ot.extend(xt);function at(n,r,a){this.x=a?Math.round(n):n,this.y=a?Math.round(r):r}var he=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};at.prototype={clone:function(){return new at(this.x,this.y)},add:function(n){return this.clone()._add(yt(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(yt(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new at(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new at(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=he(this.x),this.y=he(this.y),this},distanceTo:function(n){n=yt(n);var r=n.x-this.x,a=n.y-this.y;return Math.sqrt(r*r+a*a)},equals:function(n){return n=yt(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=yt(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function yt(n,r,a){return n instanceof at?n:E(n)?new at(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new at(n.x,n.y):new at(n,r,a)}function Nt(n,r){if(n)for(var a=r?[n,r]:n,c=0,p=a.length;c<p;c++)this.extend(a[c])}Nt.prototype={extend:function(n){var r,a;if(!n)return this;if(n instanceof at||typeof n[0]=="number"||"x"in n)r=a=yt(n);else if(n=Ht(n),r=n.min,a=n.max,!r||!a)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=a.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)),this},getCenter:function(n){return yt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return yt(this.min.x,this.max.y)},getTopRight:function(){return yt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var r,a;return typeof n[0]=="number"||n instanceof at?n=yt(n):n=Ht(n),n instanceof Nt?(r=n.min,a=n.max):r=a=n,r.x>=this.min.x&&a.x<=this.max.x&&r.y>=this.min.y&&a.y<=this.max.y},intersects:function(n){n=Ht(n);var r=this.min,a=this.max,c=n.min,p=n.max,g=p.x>=r.x&&c.x<=a.x,T=p.y>=r.y&&c.y<=a.y;return g&&T},overlaps:function(n){n=Ht(n);var r=this.min,a=this.max,c=n.min,p=n.max,g=p.x>r.x&&c.x<a.x,T=p.y>r.y&&c.y<a.y;return g&&T},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var r=this.min,a=this.max,c=Math.abs(r.x-a.x)*n,p=Math.abs(r.y-a.y)*n;return Ht(yt(r.x-c,r.y-p),yt(a.x+c,a.y+p))},equals:function(n){return n?(n=Ht(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function Ht(n,r){return!n||n instanceof Nt?n:new Nt(n,r)}function re(n,r){if(n)for(var a=r?[n,r]:n,c=0,p=a.length;c<p;c++)this.extend(a[c])}re.prototype={extend:function(n){var r=this._southWest,a=this._northEast,c,p;if(n instanceof B)c=n,p=n;else if(n instanceof re){if(c=n._southWest,p=n._northEast,!c||!p)return this}else return n?this.extend(K(n)||te(n)):this;return!r&&!a?(this._southWest=new B(c.lat,c.lng),this._northEast=new B(p.lat,p.lng)):(r.lat=Math.min(c.lat,r.lat),r.lng=Math.min(c.lng,r.lng),a.lat=Math.max(p.lat,a.lat),a.lng=Math.max(p.lng,a.lng)),this},pad:function(n){var r=this._southWest,a=this._northEast,c=Math.abs(r.lat-a.lat)*n,p=Math.abs(r.lng-a.lng)*n;return new re(new B(r.lat-c,r.lng-p),new B(a.lat+c,a.lng+p))},getCenter:function(){return new B((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new B(this.getNorth(),this.getWest())},getSouthEast:function(){return new B(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof B||"lat"in n?n=K(n):n=te(n);var r=this._southWest,a=this._northEast,c,p;return n instanceof re?(c=n.getSouthWest(),p=n.getNorthEast()):c=p=n,c.lat>=r.lat&&p.lat<=a.lat&&c.lng>=r.lng&&p.lng<=a.lng},intersects:function(n){n=te(n);var r=this._southWest,a=this._northEast,c=n.getSouthWest(),p=n.getNorthEast(),g=p.lat>=r.lat&&c.lat<=a.lat,T=p.lng>=r.lng&&c.lng<=a.lng;return g&&T},overlaps:function(n){n=te(n);var r=this._southWest,a=this._northEast,c=n.getSouthWest(),p=n.getNorthEast(),g=p.lat>r.lat&&c.lat<a.lat,T=p.lng>r.lng&&c.lng<a.lng;return g&&T},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,r){return n?(n=te(n),this._southWest.equals(n.getSouthWest(),r)&&this._northEast.equals(n.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function te(n,r){return n instanceof re?n:new re(n,r)}function B(n,r,a){if(isNaN(n)||isNaN(r))throw new Error("Invalid LatLng object: ("+n+", "+r+")");this.lat=+n,this.lng=+r,a!==void 0&&(this.alt=+a)}B.prototype={equals:function(n,r){if(!n)return!1;n=K(n);var a=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return a<=(r===void 0?1e-9:r)},toString:function(n){return"LatLng("+w(this.lat,n)+", "+w(this.lng,n)+")"},distanceTo:function(n){return ft.distance(this,K(n))},wrap:function(){return ft.wrapLatLng(this)},toBounds:function(n){var r=180*n/40075017,a=r/Math.cos(Math.PI/180*this.lat);return te([this.lat-r,this.lng-a],[this.lat+r,this.lng+a])},clone:function(){return new B(this.lat,this.lng,this.alt)}};function K(n,r,a){return n instanceof B?n:E(n)&&typeof n[0]!="object"?n.length===3?new B(n[0],n[1],n[2]):n.length===2?new B(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new B(n.lat,"lng"in n?n.lng:n.lon,n.alt):r===void 0?null:new B(n,r,a)}var et={latLngToPoint:function(n,r){var a=this.projection.project(n),c=this.scale(r);return this.transformation._transform(a,c)},pointToLatLng:function(n,r){var a=this.scale(r),c=this.transformation.untransform(n,a);return this.projection.unproject(c)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var r=this.projection.bounds,a=this.scale(n),c=this.transformation.transform(r.min,a),p=this.transformation.transform(r.max,a);return new Nt(c,p)},infinite:!1,wrapLatLng:function(n){var r=this.wrapLng?m(n.lng,this.wrapLng,!0):n.lng,a=this.wrapLat?m(n.lat,this.wrapLat,!0):n.lat,c=n.alt;return new B(a,r,c)},wrapLatLngBounds:function(n){var r=n.getCenter(),a=this.wrapLatLng(r),c=r.lat-a.lat,p=r.lng-a.lng;if(c===0&&p===0)return n;var g=n.getSouthWest(),T=n.getNorthEast(),A=new B(g.lat-c,g.lng-p),R=new B(T.lat-c,T.lng-p);return new re(A,R)}},ft=s({},et,{wrapLng:[-180,180],R:6371e3,distance:function(n,r){var a=Math.PI/180,c=n.lat*a,p=r.lat*a,g=Math.sin((r.lat-n.lat)*a/2),T=Math.sin((r.lng-n.lng)*a/2),A=g*g+Math.cos(c)*Math.cos(p)*T*T,R=2*Math.atan2(Math.sqrt(A),Math.sqrt(1-A));return this.R*R}}),It=6378137,qt={R:It,MAX_LATITUDE:85.0511287798,project:function(n){var r=Math.PI/180,a=this.MAX_LATITUDE,c=Math.max(Math.min(a,n.lat),-a),p=Math.sin(c*r);return new at(this.R*n.lng*r,this.R*Math.log((1+p)/(1-p))/2)},unproject:function(n){var r=180/Math.PI;return new B((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*r,n.x*r/this.R)},bounds:function(){var n=It*Math.PI;return new Nt([-n,-n],[n,n])}()};function Pt(n,r,a,c){if(E(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=r,this._c=a,this._d=c}Pt.prototype={transform:function(n,r){return this._transform(n.clone(),r)},_transform:function(n,r){return r=r||1,n.x=r*(this._a*n.x+this._b),n.y=r*(this._c*n.y+this._d),n},untransform:function(n,r){return r=r||1,new at((n.x/r-this._b)/this._a,(n.y/r-this._d)/this._c)}};function C(n,r,a,c){return new Pt(n,r,a,c)}var k=s({},ft,{code:"EPSG:3857",projection:qt,transformation:function(){var n=.5/(Math.PI*qt.R);return C(n,.5,-n,.5)}()}),D=s({},k,{code:"EPSG:900913"});function z(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function H(n,r){var a="",c,p,g,T,A,R;for(c=0,g=n.length;c<g;c++){for(A=n[c],p=0,T=A.length;p<T;p++)R=A[p],a+=(p?"L":"M")+R.x+" "+R.y;a+=r?vt.svg?"z":"x":""}return a||"M0 0"}var X=document.documentElement.style,ot="ActiveXObject"in window,Q=ot&&!document.addEventListener,nt="msLaunchUri"in navigator&&!("documentMode"in document),q=ln("webkit"),F=ln("android"),J=ln("android 2")||ln("android 3"),it=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),pt=F&&ln("Google")&&it<537&&!("AudioNode"in window),gt=!!window.opera,Bt=!nt&&ln("chrome"),St=ln("gecko")&&!q&&!gt&&!ot,Mt=!Bt&&ln("safari"),oe=ln("phantom"),pe="OTransition"in X,ne=navigator.platform.indexOf("Win")===0,le=ot&&"transition"in X,ye="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!J,Gt="MozPerspective"in X,ce=!window.L_DISABLE_3D&&(le||ye||Gt)&&!pe&&!oe,me=typeof orientation<"u"||ln("mobile"),ii=me&&q,$e=me&&ye,Ze=!window.PointerEvent&&window.MSPointerEvent,an=!!(window.PointerEvent||Ze),ri="ontouchstart"in window||!!window.TouchEvent,Ip=!window.L_NO_TOUCH&&(ri||an),Rp=me&&gt,Np=me&&St,Bp=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Dp=function(){var n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",_,r),window.removeEventListener("testPassiveEventSupport",_,r)}catch{}return n}(),$p=function(){return!!document.createElement("canvas").getContext}(),Gs=!!(document.createElementNS&&z("svg").createSVGRect),zp=!!Gs&&function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Fp=!Gs&&function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var r=n.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}}(),Up=navigator.platform.indexOf("Mac")===0,Zp=navigator.platform.indexOf("Linux")===0;function ln(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var vt={ie:ot,ielt9:Q,edge:nt,webkit:q,android:F,android23:J,androidStock:pt,opera:gt,chrome:Bt,gecko:St,safari:Mt,phantom:oe,opera12:pe,win:ne,ie3d:le,webkit3d:ye,gecko3d:Gt,any3d:ce,mobile:me,mobileWebkit:ii,mobileWebkit3d:$e,msPointer:Ze,pointer:an,touch:Ip,touchNative:ri,mobileOpera:Rp,mobileGecko:Np,retina:Bp,passiveEvents:Dp,canvas:$p,svg:Gs,vml:Fp,inlineSvg:zp,mac:Up,linux:Zp},Ou=vt.msPointer?"MSPointerDown":"pointerdown",Mu=vt.msPointer?"MSPointerMove":"pointermove",Au=vt.msPointer?"MSPointerUp":"pointerup",Iu=vt.msPointer?"MSPointerCancel":"pointercancel",Js={touchstart:Ou,touchmove:Mu,touchend:Au,touchcancel:Iu},Ru={touchstart:Kp,touchmove:po,touchend:po,touchcancel:po},Ri={},Nu=!1;function Hp(n,r,a){return r==="touchstart"&&Vp(),Ru[r]?(a=Ru[r].bind(this,a),n.addEventListener(Js[r],a,!1),a):(console.warn("wrong event specified:",r),_)}function Wp(n,r,a){if(!Js[r]){console.warn("wrong event specified:",r);return}n.removeEventListener(Js[r],a,!1)}function jp(n){Ri[n.pointerId]=n}function qp(n){Ri[n.pointerId]&&(Ri[n.pointerId]=n)}function Bu(n){delete Ri[n.pointerId]}function Vp(){Nu||(document.addEventListener(Ou,jp,!0),document.addEventListener(Mu,qp,!0),document.addEventListener(Au,Bu,!0),document.addEventListener(Iu,Bu,!0),Nu=!0)}function po(n,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var a in Ri)r.touches.push(Ri[a]);r.changedTouches=[r],n(r)}}function Kp(n,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&Ce(r),po(n,r)}function Yp(n){var r={},a,c;for(c in n)a=n[c],r[c]=a&&a.bind?a.bind(n):a;return n=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var Gp=200;function Jp(n,r){n.addEventListener("dblclick",r);var a=0,c;function p(g){if(g.detail!==1){c=g.detail;return}if(!(g.pointerType==="mouse"||g.sourceCapabilities&&!g.sourceCapabilities.firesTouchEvents)){var T=Uu(g);if(!(T.some(function(R){return R instanceof HTMLLabelElement&&R.attributes.for})&&!T.some(function(R){return R instanceof HTMLInputElement||R instanceof HTMLSelectElement}))){var A=Date.now();A-a<=Gp?(c++,c===2&&r(Yp(g))):c=1,a=A}}}return n.addEventListener("click",p),{dblclick:r,simDblclick:p}}function Xp(n,r){n.removeEventListener("dblclick",r.dblclick),n.removeEventListener("click",r.simDblclick)}var Xs=vo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),vr=vo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Du=vr==="webkitTransition"||vr==="OTransition"?vr+"End":"transitionend";function $u(n){return typeof n=="string"?document.getElementById(n):n}function gr(n,r){var a=n.style[r]||n.currentStyle&&n.currentStyle[r];if((!a||a==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(n,null);a=c?c[r]:null}return a==="auto"?null:a}function Zt(n,r,a){var c=document.createElement(n);return c.className=r||"",a&&a.appendChild(c),c}function se(n){var r=n.parentNode;r&&r.removeChild(n)}function mo(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Ni(n){var r=n.parentNode;r&&r.lastChild!==n&&r.appendChild(n)}function Bi(n){var r=n.parentNode;r&&r.firstChild!==n&&r.insertBefore(n,r.firstChild)}function Qs(n,r){if(n.classList!==void 0)return n.classList.contains(r);var a=_o(n);return a.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(a)}function At(n,r){if(n.classList!==void 0)for(var a=y(r),c=0,p=a.length;c<p;c++)n.classList.add(a[c]);else if(!Qs(n,r)){var g=_o(n);ta(n,(g?g+" ":"")+r)}}function fe(n,r){n.classList!==void 0?n.classList.remove(r):ta(n,b((" "+_o(n)+" ").replace(" "+r+" "," ")))}function ta(n,r){n.className.baseVal===void 0?n.className=r:n.className.baseVal=r}function _o(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function He(n,r){"opacity"in n.style?n.style.opacity=r:"filter"in n.style&&Qp(n,r)}function Qp(n,r){var a=!1,c="DXImageTransform.Microsoft.Alpha";try{a=n.filters.item(c)}catch{if(r===1)return}r=Math.round(r*100),a?(a.Enabled=r!==100,a.Opacity=r):n.style.filter+=" progid:"+c+"(opacity="+r+")"}function vo(n){for(var r=document.documentElement.style,a=0;a<n.length;a++)if(n[a]in r)return n[a];return!1}function oi(n,r,a){var c=r||new at(0,0);n.style[Xs]=(vt.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(a?" scale("+a+")":"")}function _e(n,r){n._leaflet_pos=r,vt.any3d?oi(n,r):(n.style.left=r.x+"px",n.style.top=r.y+"px")}function si(n){return n._leaflet_pos||new at(0,0)}var yr,wr,ea;if("onselectstart"in document)yr=function(){Lt(window,"selectstart",Ce)},wr=function(){Qt(window,"selectstart",Ce)};else{var br=vo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);yr=function(){if(br){var n=document.documentElement.style;ea=n[br],n[br]="none"}},wr=function(){br&&(document.documentElement.style[br]=ea,ea=void 0)}}function na(){Lt(window,"dragstart",Ce)}function ia(){Qt(window,"dragstart",Ce)}var go,ra;function oa(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(yo(),go=n,ra=n.style.outline,n.style.outline="none",Lt(window,"keydown",yo))}function yo(){go&&(go.style.outline=ra,go=void 0,ra=void 0,Qt(window,"keydown",yo))}function zu(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function sa(n){var r=n.getBoundingClientRect();return{x:r.width/n.offsetWidth||1,y:r.height/n.offsetHeight||1,boundingClientRect:r}}var tm={__proto__:null,TRANSFORM:Xs,TRANSITION:vr,TRANSITION_END:Du,get:$u,getStyle:gr,create:Zt,remove:se,empty:mo,toFront:Ni,toBack:Bi,hasClass:Qs,addClass:At,removeClass:fe,setClass:ta,getClass:_o,setOpacity:He,testProp:vo,setTransform:oi,setPosition:_e,getPosition:si,get disableTextSelection(){return yr},get enableTextSelection(){return wr},disableImageDrag:na,enableImageDrag:ia,preventOutline:oa,restoreOutline:yo,getSizedParentNode:zu,getScale:sa};function Lt(n,r,a,c){if(r&&typeof r=="object")for(var p in r)la(n,p,r[p],a);else{r=y(r);for(var g=0,T=r.length;g<T;g++)la(n,r[g],a,c)}return this}var un="_leaflet_events";function Qt(n,r,a,c){if(arguments.length===1)Fu(n),delete n[un];else if(r&&typeof r=="object")for(var p in r)ua(n,p,r[p],a);else if(r=y(r),arguments.length===2)Fu(n,function(A){return M(r,A)!==-1});else for(var g=0,T=r.length;g<T;g++)ua(n,r[g],a,c);return this}function Fu(n,r){for(var a in n[un]){var c=a.split(/\d/)[0];(!r||r(c))&&ua(n,c,null,null,a)}}var aa={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function la(n,r,a,c){var p=r+d(a)+(c?"_"+d(c):"");if(n[un]&&n[un][p])return this;var g=function(A){return a.call(c||n,A||window.event)},T=g;!vt.touchNative&&vt.pointer&&r.indexOf("touch")===0?g=Hp(n,r,g):vt.touch&&r==="dblclick"?g=Jp(n,g):"addEventListener"in n?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?n.addEventListener(aa[r]||r,g,vt.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(g=function(A){A=A||window.event,fa(n,A)&&T(A)},n.addEventListener(aa[r],g,!1)):n.addEventListener(r,T,!1):n.attachEvent("on"+r,g),n[un]=n[un]||{},n[un][p]=g}function ua(n,r,a,c,p){p=p||r+d(a)+(c?"_"+d(c):"");var g=n[un]&&n[un][p];if(!g)return this;!vt.touchNative&&vt.pointer&&r.indexOf("touch")===0?Wp(n,r,g):vt.touch&&r==="dblclick"?Xp(n,g):"removeEventListener"in n?n.removeEventListener(aa[r]||r,g,!1):n.detachEvent("on"+r,g),n[un][p]=null}function ai(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function ca(n){return la(n,"wheel",ai),this}function xr(n){return Lt(n,"mousedown touchstart dblclick contextmenu",ai),n._leaflet_disable_click=!0,this}function Ce(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function li(n){return Ce(n),ai(n),this}function Uu(n){if(n.composedPath)return n.composedPath();for(var r=[],a=n.target;a;)r.push(a),a=a.parentNode;return r}function Zu(n,r){if(!r)return new at(n.clientX,n.clientY);var a=sa(r),c=a.boundingClientRect;return new at((n.clientX-c.left)/a.x-r.clientLeft,(n.clientY-c.top)/a.y-r.clientTop)}var em=vt.linux&&vt.chrome?window.devicePixelRatio:vt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Hu(n){return vt.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/em:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function fa(n,r){var a=r.relatedTarget;if(!a)return!0;try{for(;a&&a!==n;)a=a.parentNode}catch{return!1}return a!==n}var nm={__proto__:null,on:Lt,off:Qt,stopPropagation:ai,disableScrollPropagation:ca,disableClickPropagation:xr,preventDefault:Ce,stop:li,getPropagationPath:Uu,getMousePosition:Zu,getWheelDelta:Hu,isExternalTarget:fa,addListener:Lt,removeListener:Qt},Wu=Tt.extend({run:function(n,r,a,c){this.stop(),this._el=n,this._inProgress=!0,this._duration=a||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=si(n),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ht(this._animate,this),this._step()},_step:function(n){var r=+new Date-this._startTime,a=this._duration*1e3;r<a?this._runFrame(this._easeOut(r/a),n):(this._runFrame(1),this._complete())},_runFrame:function(n,r){var a=this._startPos.add(this._offset.multiplyBy(n));r&&a._round(),_e(this._el,a),this.fire("step")},_complete:function(){tt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),$t=Tt.extend({options:{crs:k,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,r){r=v(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(K(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=vr&&vt.any3d&&!vt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Lt(this._proxy,Du,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,r,a){if(r=r===void 0?this._zoom:this._limitZoom(r),n=this._limitCenter(K(n),r,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&a!==!0){a.animate!==void 0&&(a.zoom=s({animate:a.animate},a.zoom),a.pan=s({animate:a.animate,duration:a.duration},a.pan));var c=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,r,a.zoom):this._tryAnimatedPan(n,a.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(n,r,a.pan&&a.pan.noMoveStart),this},setZoom:function(n,r){return this._loaded?this.setView(this.getCenter(),n,{zoom:r}):(this._zoom=n,this)},zoomIn:function(n,r){return n=n||(vt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,r)},zoomOut:function(n,r){return n=n||(vt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,r)},setZoomAround:function(n,r,a){var c=this.getZoomScale(r),p=this.getSize().divideBy(2),g=n instanceof at?n:this.latLngToContainerPoint(n),T=g.subtract(p).multiplyBy(1-1/c),A=this.containerPointToLatLng(p.add(T));return this.setView(A,r,{zoom:a})},_getBoundsCenterZoom:function(n,r){r=r||{},n=n.getBounds?n.getBounds():te(n);var a=yt(r.paddingTopLeft||r.padding||[0,0]),c=yt(r.paddingBottomRight||r.padding||[0,0]),p=this.getBoundsZoom(n,!1,a.add(c));if(p=typeof r.maxZoom=="number"?Math.min(r.maxZoom,p):p,p===1/0)return{center:n.getCenter(),zoom:p};var g=c.subtract(a).divideBy(2),T=this.project(n.getSouthWest(),p),A=this.project(n.getNorthEast(),p),R=this.unproject(T.add(A).divideBy(2).add(g),p);return{center:R,zoom:p}},fitBounds:function(n,r){if(n=te(n),!n.isValid())throw new Error("Bounds are not valid.");var a=this._getBoundsCenterZoom(n,r);return this.setView(a.center,a.zoom,r)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,r){return this.setView(n,this._zoom,{pan:r})},panBy:function(n,r){if(n=yt(n).round(),r=r||{},!n.x&&!n.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Wu,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){At(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,a,r.duration||.25,r.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,r,a){if(a=a||{},a.animate===!1||!vt.any3d)return this.setView(n,r,a);this._stop();var c=this.project(this.getCenter()),p=this.project(n),g=this.getSize(),T=this._zoom;n=K(n),r=r===void 0?T:r;var A=Math.max(g.x,g.y),R=A*this.getZoomScale(T,r),j=p.distanceTo(c)||1,ut=1.42,Ct=ut*ut;function Dt(ve){var Ao=ve?-1:1,Wm=ve?R:A,jm=R*R-A*A+Ao*Ct*Ct*j*j,qm=2*Wm*Ct*j,xa=jm/qm,Sc=Math.sqrt(xa*xa+1)-xa,Vm=Sc<1e-9?-18:Math.log(Sc);return Vm}function je(ve){return(Math.exp(ve)-Math.exp(-ve))/2}function ci(ve){return(Math.exp(ve)+Math.exp(-ve))/2}function Mo(ve){return je(ve)/ci(ve)}var $n=Dt(0);function ba(ve){return A*(ci($n)/ci($n+ut*ve))}function Fm(ve){return A*(ci($n)*Mo($n+ut*ve)-je($n))/Ct}function Um(ve){return 1-Math.pow(1-ve,1.5)}var Zm=Date.now(),xc=(Dt(1)-$n)/ut,Hm=a.duration?1e3*a.duration:1e3*xc*.8;function Cc(){var ve=(Date.now()-Zm)/Hm,Ao=Um(ve)*xc;ve<=1?(this._flyToFrame=ht(Cc,this),this._move(this.unproject(c.add(p.subtract(c).multiplyBy(Fm(Ao)/j)),T),this.getScaleZoom(A/ba(Ao),T),{flyTo:!0})):this._move(n,r)._moveEnd(!0)}return this._moveStart(!0,a.noMoveStart),Cc.call(this),this},flyToBounds:function(n,r){var a=this._getBoundsCenterZoom(n,r);return this.flyTo(a.center,a.zoom,r)},setMaxBounds:function(n){return n=te(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var r=this.options.minZoom;return this.options.minZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var r=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,r){this._enforcingBounds=!0;var a=this.getCenter(),c=this._limitCenter(a,this._zoom,te(n));return a.equals(c)||this.panTo(c,r),this._enforcingBounds=!1,this},panInside:function(n,r){r=r||{};var a=yt(r.paddingTopLeft||r.padding||[0,0]),c=yt(r.paddingBottomRight||r.padding||[0,0]),p=this.project(this.getCenter()),g=this.project(n),T=this.getPixelBounds(),A=Ht([T.min.add(a),T.max.subtract(c)]),R=A.getSize();if(!A.contains(g)){this._enforcingBounds=!0;var j=g.subtract(A.getCenter()),ut=A.extend(g).getSize().subtract(R);p.x+=j.x<0?-ut.x:ut.x,p.y+=j.y<0?-ut.y:ut.y,this.panTo(this.unproject(p),r),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=s({animate:!1,pan:!0},n===!0?{animate:!0}:n);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var a=this.getSize(),c=r.divideBy(2).round(),p=a.divideBy(2).round(),g=c.subtract(p);return!g.x&&!g.y?this:(n.animate&&n.pan?this.panBy(g):(n.pan&&this._rawPanBy(g),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:a}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=s({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=u(this._handleGeolocationResponse,this),a=u(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,a,n):navigator.geolocation.getCurrentPosition(r,a,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var r=n.code,a=n.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+a+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var r=n.coords.latitude,a=n.coords.longitude,c=new B(r,a),p=c.toBounds(n.coords.accuracy*2),g=this._locateOptions;if(g.setView){var T=this.getBoundsZoom(p);this.setView(c,g.maxZoom?Math.min(T,g.maxZoom):T)}var A={latlng:c,bounds:p,timestamp:n.timestamp};for(var R in n.coords)typeof n.coords[R]=="number"&&(A[R]=n.coords[R]);this.fire("locationfound",A)}},addHandler:function(n,r){if(!r)return this;var a=this[n]=new r(this);return this._handlers.push(a),this.options[n]&&a.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),se(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(tt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)se(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,r){var a="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),c=Zt("div",a,r||this._mapPane);return n&&(this._panes[n]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),r=this.unproject(n.getBottomLeft()),a=this.unproject(n.getTopRight());return new re(r,a)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,r,a){n=te(n),a=yt(a||[0,0]);var c=this.getZoom()||0,p=this.getMinZoom(),g=this.getMaxZoom(),T=n.getNorthWest(),A=n.getSouthEast(),R=this.getSize().subtract(a),j=Ht(this.project(A,c),this.project(T,c)).getSize(),ut=vt.any3d?this.options.zoomSnap:1,Ct=R.x/j.x,Dt=R.y/j.y,je=r?Math.max(Ct,Dt):Math.min(Ct,Dt);return c=this.getScaleZoom(je,c),ut&&(c=Math.round(c/(ut/100))*(ut/100),c=r?Math.ceil(c/ut)*ut:Math.floor(c/ut)*ut),Math.max(p,Math.min(g,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new at(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,r){var a=this._getTopLeftPoint(n,r);return new Nt(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,r){var a=this.options.crs;return r=r===void 0?this._zoom:r,a.scale(n)/a.scale(r)},getScaleZoom:function(n,r){var a=this.options.crs;r=r===void 0?this._zoom:r;var c=a.zoom(n*a.scale(r));return isNaN(c)?1/0:c},project:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(K(n),r)},unproject:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(yt(n),r)},layerPointToLatLng:function(n){var r=yt(n).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(n){var r=this.project(K(n))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(K(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(te(n))},distance:function(n,r){return this.options.crs.distance(K(n),K(r))},containerPointToLayerPoint:function(n){return yt(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return yt(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var r=this.containerPointToLayerPoint(yt(n));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(K(n)))},mouseEventToContainerPoint:function(n){return Zu(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var r=this._container=$u(n);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Lt(r,"scroll",this._onScroll,this),this._containerId=d(r)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&vt.any3d,At(n,"leaflet-container"+(vt.touch?" leaflet-touch":"")+(vt.retina?" leaflet-retina":"")+(vt.ielt9?" leaflet-oldie":"")+(vt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=gr(n,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),_e(this._mapPane,new at(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(At(n.markerPane,"leaflet-zoom-hide"),At(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,r,a){_e(this._mapPane,new at(0,0));var c=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var p=this._zoom!==r;this._moveStart(p,a)._move(n,r)._moveEnd(p),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(n,r){return n&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(n,r,a,c){r===void 0&&(r=this._zoom);var p=this._zoom!==r;return this._zoom=r,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),c?a&&a.pinch&&this.fire("zoom",a):((p||a&&a.pinch)&&this.fire("zoom",a),this.fire("move",a)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return tt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){_e(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[d(this._container)]=this;var r=n?Qt:Lt;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),vt.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){tt(this._resizeRequest),this._resizeRequest=ht(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,r){for(var a=[],c,p=r==="mouseout"||r==="mouseover",g=n.target||n.srcElement,T=!1;g;){if(c=this._targets[d(g)],c&&(r==="click"||r==="preclick")&&this._draggableMoved(c)){T=!0;break}if(c&&c.listens(r,!0)&&(p&&!fa(g,n)||(a.push(c),p))||g===this._container)break;g=g.parentNode}return!a.length&&!T&&!p&&this.listens(r,!0)&&(a=[this]),a},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var r=n.target||n.srcElement;if(!(!this._loaded||r._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(r))){var a=n.type;a==="mousedown"&&oa(r),this._fireDOMEvent(n,a)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,r,a){if(n.type==="click"){var c=s({},n);c.type="preclick",this._fireDOMEvent(c,c.type,a)}var p=this._findEventTargets(n,r);if(a){for(var g=[],T=0;T<a.length;T++)a[T].listens(r,!0)&&g.push(a[T]);p=g.concat(p)}if(p.length){r==="contextmenu"&&Ce(n);var A=p[0],R={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var j=A.getLatLng&&(!A._radius||A._radius<=10);R.containerPoint=j?this.latLngToContainerPoint(A.getLatLng()):this.mouseEventToContainerPoint(n),R.layerPoint=this.containerPointToLayerPoint(R.containerPoint),R.latlng=j?A.getLatLng():this.layerPointToLatLng(R.layerPoint)}for(T=0;T<p.length;T++)if(p[T].fire(r,R,!0),R.originalEvent._stopped||p[T].options.bubblingMouseEvents===!1&&M(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,r=this._handlers.length;n<r;n++)this._handlers[n].disable()},whenReady:function(n,r){return this._loaded?n.call(r||this,{target:this}):this.on("load",n,r),this},_getMapPanePos:function(){return si(this._mapPane)||new at(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,r){var a=n&&r!==void 0?this._getNewPixelOrigin(n,r):this.getPixelOrigin();return a.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,r){var a=this.getSize()._divideBy(2);return this.project(n,r)._subtract(a)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,r,a){var c=this._getNewPixelOrigin(a,r);return this.project(n,r)._subtract(c)},_latLngBoundsToNewLayerBounds:function(n,r,a){var c=this._getNewPixelOrigin(a,r);return Ht([this.project(n.getSouthWest(),r)._subtract(c),this.project(n.getNorthWest(),r)._subtract(c),this.project(n.getSouthEast(),r)._subtract(c),this.project(n.getNorthEast(),r)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,r,a){if(!a)return n;var c=this.project(n,r),p=this.getSize().divideBy(2),g=new Nt(c.subtract(p),c.add(p)),T=this._getBoundsOffset(g,a,r);return Math.abs(T.x)<=1&&Math.abs(T.y)<=1?n:this.unproject(c.add(T),r)},_limitOffset:function(n,r){if(!r)return n;var a=this.getPixelBounds(),c=new Nt(a.min.add(n),a.max.add(n));return n.add(this._getBoundsOffset(c,r))},_getBoundsOffset:function(n,r,a){var c=Ht(this.project(r.getNorthEast(),a),this.project(r.getSouthWest(),a)),p=c.min.subtract(n.min),g=c.max.subtract(n.max),T=this._rebound(p.x,-g.x),A=this._rebound(p.y,-g.y);return new at(T,A)},_rebound:function(n,r){return n+r>0?Math.round(n-r)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(r))},_limitZoom:function(n){var r=this.getMinZoom(),a=this.getMaxZoom(),c=vt.any3d?this.options.zoomSnap:1;return c&&(n=Math.round(n/c)*c),Math.max(r,Math.min(a,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){fe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,r){var a=this._getCenterOffset(n)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(a)?!1:(this.panBy(a,r),!0)},_createAnimProxy:function(){var n=this._proxy=Zt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(r){var a=Xs,c=this._proxy.style[a];oi(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),c===this._proxy.style[a]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){se(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),r=this.getZoom();oi(this._proxy,this.project(n,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,r,a){if(this._animatingZoom)return!0;if(a=a||{},!this._zoomAnimated||a.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(r),p=this._getCenterOffset(n)._divideBy(1-1/c);return a.animate!==!0&&!this.getSize().contains(p)?!1:(ht(function(){this._moveStart(!0,!1)._animateZoom(n,r,!0)},this),!0)},_animateZoom:function(n,r,a,c){this._mapPane&&(a&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=r,At(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:r,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&fe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function im(n,r){return new $t(n,r)}var Qe=Ot.extend({options:{position:"topright"},initialize:function(n){v(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var r=this._map;return r&&r.removeControl(this),this.options.position=n,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var r=this._container=this.onAdd(n),a=this.getPosition(),c=n._controlCorners[a];return At(r,"leaflet-control"),a.indexOf("bottom")!==-1?c.insertBefore(r,c.firstChild):c.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(se(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),Cr=function(n){return new Qe(n)};$t.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},r="leaflet-",a=this._controlContainer=Zt("div",r+"control-container",this._container);function c(p,g){var T=r+p+" "+r+g;n[p+g]=Zt("div",T,a)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)se(this._controlCorners[n]);se(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ju=Qe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,r,a,c){return a<c?-1:c<a?1:0}},initialize:function(n,r,a){v(this,a),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var c in n)this._addLayer(n[c],c);for(c in r)this._addLayer(r[c],c,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return Qe.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,r){return this._addLayer(n,r),this._map?this._update():this},addOverlay:function(n,r){return this._addLayer(n,r,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var r=this._getLayer(d(n));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){At(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(At(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):fe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return fe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",r=this._container=Zt("div",n),a=this.options.collapsed;r.setAttribute("aria-haspopup",!0),xr(r),ca(r);var c=this._section=Zt("section",n+"-list");a&&(this._map.on("click",this.collapse,this),Lt(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var p=this._layersLink=Zt("a",n+"-toggle",r);p.href="#",p.title="Layers",p.setAttribute("role","button"),Lt(p,{keydown:function(g){g.keyCode===13&&this._expandSafely()},click:function(g){Ce(g),this._expandSafely()}},this),a||this.expand(),this._baseLayersList=Zt("div",n+"-base",c),this._separator=Zt("div",n+"-separator",c),this._overlaysList=Zt("div",n+"-overlays",c),r.appendChild(c)},_getLayer:function(n){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&d(this._layers[r].layer)===n)return this._layers[r]},_addLayer:function(n,r,a){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:r,overlay:a}),this.options.sortLayers&&this._layers.sort(u(function(c,p){return this.options.sortFunction(c.layer,p.layer,c.name,p.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;mo(this._baseLayersList),mo(this._overlaysList),this._layerControlInputs=[];var n,r,a,c,p=0;for(a=0;a<this._layers.length;a++)c=this._layers[a],this._addItem(c),r=r||c.overlay,n=n||!c.overlay,p+=c.overlay?0:1;return this.options.hideSingleBase&&(n=n&&p>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=r&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var r=this._getLayer(d(n.target)),a=r.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;a&&this._map.fire(a,r)},_createRadioElement:function(n,r){var a='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(r?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=a,c.firstChild},_addItem:function(n){var r=document.createElement("label"),a=this._map.hasLayer(n.layer),c;n.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=a):c=this._createRadioElement("leaflet-base-layers_"+d(this),a),this._layerControlInputs.push(c),c.layerId=d(n.layer),Lt(c,"click",this._onInputClick,this);var p=document.createElement("span");p.innerHTML=" "+n.name;var g=document.createElement("span");r.appendChild(g),g.appendChild(c),g.appendChild(p);var T=n.overlay?this._overlaysList:this._baseLayersList;return T.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){var n=this._layerControlInputs,r,a,c=[],p=[];this._handlingClick=!0;for(var g=n.length-1;g>=0;g--)r=n[g],a=this._getLayer(r.layerId).layer,r.checked?c.push(a):r.checked||p.push(a);for(g=0;g<p.length;g++)this._map.hasLayer(p[g])&&this._map.removeLayer(p[g]);for(g=0;g<c.length;g++)this._map.hasLayer(c[g])||this._map.addLayer(c[g]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,r,a,c=this._map.getZoom(),p=n.length-1;p>=0;p--)r=n[p],a=this._getLayer(r.layerId).layer,r.disabled=a.options.minZoom!==void 0&&c<a.options.minZoom||a.options.maxZoom!==void 0&&c>a.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;Lt(n,"click",Ce),this.expand(),setTimeout(function(){Qt(n,"click",Ce)})}}),rm=function(n,r,a){return new ju(n,r,a)},da=Qe.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var r="leaflet-control-zoom",a=Zt("div",r+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,r+"-in",a,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,r+"-out",a,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,r,a,c,p){var g=Zt("a",a,c);return g.innerHTML=n,g.href="#",g.title=r,g.setAttribute("role","button"),g.setAttribute("aria-label",r),xr(g),Lt(g,"click",li),Lt(g,"click",p,this),Lt(g,"click",this._refocusOnMap,this),g},_updateDisabled:function(){var n=this._map,r="leaflet-disabled";fe(this._zoomInButton,r),fe(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(At(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(At(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});$t.mergeOptions({zoomControl:!0}),$t.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new da,this.addControl(this.zoomControl))});var om=function(n){return new da(n)},qu=Qe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var r="leaflet-control-scale",a=Zt("div",r),c=this.options;return this._addScales(c,r+"-line",a),n.on(c.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),a},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,r,a){n.metric&&(this._mScale=Zt("div",r,a)),n.imperial&&(this._iScale=Zt("div",r,a))},_update:function(){var n=this._map,r=n.getSize().y/2,a=n.distance(n.containerPointToLatLng([0,r]),n.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(a)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var r=this._getRoundNum(n),a=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,a,r/n)},_updateImperial:function(n){var r=n*3.2808399,a,c,p;r>5280?(a=r/5280,c=this._getRoundNum(a),this._updateScale(this._iScale,c+" mi",c/a)):(p=this._getRoundNum(r),this._updateScale(this._iScale,p+" ft",p/r))},_updateScale:function(n,r,a){n.style.width=Math.round(this.options.maxWidth*a)+"px",n.innerHTML=r},_getRoundNum:function(n){var r=Math.pow(10,(Math.floor(n)+"").length-1),a=n/r;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,r*a}}),sm=function(n){return new qu(n)},am='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ha=Qe.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(vt.inlineSvg?am+" ":"")+"Leaflet</a>"},initialize:function(n){v(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=Zt("div","leaflet-control-attribution"),xr(this._container);for(var r in n._layers)n._layers[r].getAttribution&&this.addAttribution(n._layers[r].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var r in this._attributions)this._attributions[r]&&n.push(r);var a=[];this.options.prefix&&a.push(this.options.prefix),n.length&&a.push(n.join(", ")),this._container.innerHTML=a.join(' <span aria-hidden="true">|</span> ')}}});$t.mergeOptions({attributionControl:!0}),$t.addInitHook(function(){this.options.attributionControl&&new ha().addTo(this)});var lm=function(n){return new ha(n)};Qe.Layers=ju,Qe.Zoom=da,Qe.Scale=qu,Qe.Attribution=ha,Cr.layers=rm,Cr.zoom=om,Cr.scale=sm,Cr.attribution=lm;var cn=Ot.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});cn.addTo=function(n,r){return n.addHandler(r,this),this};var um={Events:xt},Vu=vt.touch?"touchstart mousedown":"mousedown",Bn=Tt.extend({options:{clickTolerance:3},initialize:function(n,r,a,c){v(this,c),this._element=n,this._dragStartTarget=r||n,this._preventOutline=a},enable:function(){this._enabled||(Lt(this._dragStartTarget,Vu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Bn._dragging===this&&this.finishDrag(!0),Qt(this._dragStartTarget,Vu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!Qs(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){Bn._dragging===this&&this.finishDrag();return}if(!(Bn._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(Bn._dragging=this,this._preventOutline&&oa(this._element),na(),yr(),!this._moving)){this.fire("down");var r=n.touches?n.touches[0]:n,a=zu(this._element);this._startPoint=new at(r.clientX,r.clientY),this._startPos=si(this._element),this._parentScale=sa(a);var c=n.type==="mousedown";Lt(document,c?"mousemove":"touchmove",this._onMove,this),Lt(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var r=n.touches&&n.touches.length===1?n.touches[0]:n,a=new at(r.clientX,r.clientY)._subtract(this._startPoint);!a.x&&!a.y||Math.abs(a.x)+Math.abs(a.y)<this.options.clickTolerance||(a.x/=this._parentScale.x,a.y/=this._parentScale.y,Ce(n),this._moved||(this.fire("dragstart"),this._moved=!0,At(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),At(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(a),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),_e(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){fe(document.body,"leaflet-dragging"),this._lastTarget&&(fe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Qt(document,"mousemove touchmove",this._onMove,this),Qt(document,"mouseup touchend touchcancel",this._onUp,this),ia(),wr(),this._moved&&this._moving&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,Bn._dragging=!1}});function Ku(n,r){if(!r||!n.length)return n.slice();var a=r*r;return n=dm(n,a),n=fm(n,a),n}function Yu(n,r,a){return Math.sqrt(Sr(n,r,a,!0))}function cm(n,r,a){return Sr(n,r,a)}function fm(n,r){var a=n.length,c=typeof Uint8Array!=void 0+""?Uint8Array:Array,p=new c(a);p[0]=p[a-1]=1,pa(n,p,r,0,a-1);var g,T=[];for(g=0;g<a;g++)p[g]&&T.push(n[g]);return T}function pa(n,r,a,c,p){var g=0,T,A,R;for(A=c+1;A<=p-1;A++)R=Sr(n[A],n[c],n[p],!0),R>g&&(T=A,g=R);g>a&&(r[T]=1,pa(n,r,a,c,T),pa(n,r,a,T,p))}function dm(n,r){for(var a=[n[0]],c=1,p=0,g=n.length;c<g;c++)hm(n[c],n[p])>r&&(a.push(n[c]),p=c);return p<g-1&&a.push(n[g-1]),a}var Gu;function Ju(n,r,a,c,p){var g=c?Gu:ui(n,a),T=ui(r,a),A,R,j;for(Gu=T;;){if(!(g|T))return[n,r];if(g&T)return!1;A=g||T,R=wo(n,r,A,a,p),j=ui(R,a),A===g?(n=R,g=j):(r=R,T=j)}}function wo(n,r,a,c,p){var g=r.x-n.x,T=r.y-n.y,A=c.min,R=c.max,j,ut;return a&8?(j=n.x+g*(R.y-n.y)/T,ut=R.y):a&4?(j=n.x+g*(A.y-n.y)/T,ut=A.y):a&2?(j=R.x,ut=n.y+T*(R.x-n.x)/g):a&1&&(j=A.x,ut=n.y+T*(A.x-n.x)/g),new at(j,ut,p)}function ui(n,r){var a=0;return n.x<r.min.x?a|=1:n.x>r.max.x&&(a|=2),n.y<r.min.y?a|=4:n.y>r.max.y&&(a|=8),a}function hm(n,r){var a=r.x-n.x,c=r.y-n.y;return a*a+c*c}function Sr(n,r,a,c){var p=r.x,g=r.y,T=a.x-p,A=a.y-g,R=T*T+A*A,j;return R>0&&(j=((n.x-p)*T+(n.y-g)*A)/R,j>1?(p=a.x,g=a.y):j>0&&(p+=T*j,g+=A*j)),T=n.x-p,A=n.y-g,c?T*T+A*A:new at(p,g)}function We(n){return!E(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function Xu(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),We(n)}function Qu(n,r){var a,c,p,g,T,A,R,j;if(!n||n.length===0)throw new Error("latlngs not passed");We(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var ut=[];for(var Ct in n)ut.push(r.project(K(n[Ct])));var Dt=ut.length;for(a=0,c=0;a<Dt-1;a++)c+=ut[a].distanceTo(ut[a+1])/2;if(c===0)j=ut[0];else for(a=0,g=0;a<Dt-1;a++)if(T=ut[a],A=ut[a+1],p=T.distanceTo(A),g+=p,g>c){R=(g-c)/p,j=[A.x-R*(A.x-T.x),A.y-R*(A.y-T.y)];break}return r.unproject(yt(j))}var pm={__proto__:null,simplify:Ku,pointToSegmentDistance:Yu,closestPointOnSegment:cm,clipSegment:Ju,_getEdgeIntersection:wo,_getBitCode:ui,_sqClosestPointOnSegment:Sr,isFlat:We,_flat:Xu,polylineCenter:Qu};function tc(n,r,a){var c,p=[1,4,2,8],g,T,A,R,j,ut,Ct,Dt;for(g=0,ut=n.length;g<ut;g++)n[g]._code=ui(n[g],r);for(A=0;A<4;A++){for(Ct=p[A],c=[],g=0,ut=n.length,T=ut-1;g<ut;T=g++)R=n[g],j=n[T],R._code&Ct?j._code&Ct||(Dt=wo(j,R,Ct,r,a),Dt._code=ui(Dt,r),c.push(Dt)):(j._code&Ct&&(Dt=wo(j,R,Ct,r,a),Dt._code=ui(Dt,r),c.push(Dt)),c.push(R));n=c}return n}function ec(n,r){var a,c,p,g,T,A,R,j,ut;if(!n||n.length===0)throw new Error("latlngs not passed");We(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var Ct=[];for(var Dt in n)Ct.push(r.project(K(n[Dt])));var je=Ct.length;for(A=R=j=0,a=0,c=je-1;a<je;c=a++)p=Ct[a],g=Ct[c],T=p.y*g.x-g.y*p.x,R+=(p.x+g.x)*T,j+=(p.y+g.y)*T,A+=T*3;return A===0?ut=Ct[0]:ut=[R/A,j/A],r.unproject(yt(ut))}var mm={__proto__:null,clipPolygon:tc,polygonCenter:ec},ma={project:function(n){return new at(n.lng,n.lat)},unproject:function(n){return new B(n.y,n.x)},bounds:new Nt([-180,-90],[180,90])},_a={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Nt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var r=Math.PI/180,a=this.R,c=n.lat*r,p=this.R_MINOR/a,g=Math.sqrt(1-p*p),T=g*Math.sin(c),A=Math.tan(Math.PI/4-c/2)/Math.pow((1-T)/(1+T),g/2);return c=-a*Math.log(Math.max(A,1e-10)),new at(n.lng*r*a,c)},unproject:function(n){for(var r=180/Math.PI,a=this.R,c=this.R_MINOR/a,p=Math.sqrt(1-c*c),g=Math.exp(-n.y/a),T=Math.PI/2-2*Math.atan(g),A=0,R=.1,j;A<15&&Math.abs(R)>1e-7;A++)j=p*Math.sin(T),j=Math.pow((1-j)/(1+j),p/2),R=Math.PI/2-2*Math.atan(g*j)-T,T+=R;return new B(T*r,n.x*r/a)}},_m={__proto__:null,LonLat:ma,Mercator:_a,SphericalMercator:qt},vm=s({},ft,{code:"EPSG:3395",projection:_a,transformation:function(){var n=.5/(Math.PI*_a.R);return C(n,.5,-n,.5)}()}),nc=s({},ft,{code:"EPSG:4326",projection:ma,transformation:C(1/180,1,-1/180,.5)}),gm=s({},et,{projection:ma,transformation:C(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,r){var a=r.lng-n.lng,c=r.lat-n.lat;return Math.sqrt(a*a+c*c)},infinite:!0});et.Earth=ft,et.EPSG3395=vm,et.EPSG3857=k,et.EPSG900913=D,et.EPSG4326=nc,et.Simple=gm;var tn=Tt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[d(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[d(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var r=n.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var a=this.getEvents();r.on(a,this),this.once("remove",function(){r.off(a,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});$t.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var r=d(n);return this._layers[r]?this:(this._layers[r]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var r=d(n);return this._layers[r]?(this._loaded&&n.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return d(n)in this._layers},eachLayer:function(n,r){for(var a in this._layers)n.call(r,this._layers[a]);return this},_addLayers:function(n){n=n?E(n)?n:[n]:[];for(var r=0,a=n.length;r<a;r++)this.addLayer(n[r])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[d(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var r=d(n);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,r=-1/0,a=this._getZoomSpan();for(var c in this._zoomBoundLayers){var p=this._zoomBoundLayers[c].options;n=p.minZoom===void 0?n:Math.min(n,p.minZoom),r=p.maxZoom===void 0?r:Math.max(r,p.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=n===1/0?void 0:n,a!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Di=tn.extend({initialize:function(n,r){v(this,r),this._layers={};var a,c;if(n)for(a=0,c=n.length;a<c;a++)this.addLayer(n[a])},addLayer:function(n){var r=this.getLayerId(n);return this._layers[r]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var r=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(n){var r=typeof n=="number"?n:this.getLayerId(n);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var r=Array.prototype.slice.call(arguments,1),a,c;for(a in this._layers)c=this._layers[a],c[n]&&c[n].apply(c,r);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,r){for(var a in this._layers)n.call(r,this._layers[a]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return d(n)}}),ym=function(n,r){return new Di(n,r)},wn=Di.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),Di.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),Di.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new re;for(var r in this._layers){var a=this._layers[r];n.extend(a.getBounds?a.getBounds():a.getLatLng())}return n}}),wm=function(n,r){return new wn(n,r)},$i=Ot.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){v(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,r){var a=this._getIconUrl(n);if(!a){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(a,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(c,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(n,r){var a=this.options,c=a[r+"Size"];typeof c=="number"&&(c=[c,c]);var p=yt(c),g=yt(r==="shadow"&&a.shadowAnchor||a.iconAnchor||p&&p.divideBy(2,!0));n.className="leaflet-marker-"+r+" "+(a.className||""),g&&(n.style.marginLeft=-g.x+"px",n.style.marginTop=-g.y+"px"),p&&(n.style.width=p.x+"px",n.style.height=p.y+"px")},_createImg:function(n,r){return r=r||document.createElement("img"),r.src=n,r},_getIconUrl:function(n){return vt.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function bm(n){return new $i(n)}var Pr=$i.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof Pr.imagePath!="string"&&(Pr.imagePath=this._detectIconPath()),(this.options.imagePath||Pr.imagePath)+$i.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var r=function(a,c,p){var g=c.exec(a);return g&&g[p]};return n=r(n,/^url\((['"])?(.+)\1\)$/,2),n&&r(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=Zt("div","leaflet-default-icon-path",document.body),r=gr(n,"background-image")||gr(n,"backgroundImage");if(document.body.removeChild(n),r=this._stripUrl(r),r)return r;var a=document.querySelector('link[href$="leaflet.css"]');return a?a.href.substring(0,a.href.length-11-1):""}}),ic=cn.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new Bn(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),At(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&fe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var r=this._marker,a=r._map,c=this._marker.options.autoPanSpeed,p=this._marker.options.autoPanPadding,g=si(r._icon),T=a.getPixelBounds(),A=a.getPixelOrigin(),R=Ht(T.min._subtract(A).add(p),T.max._subtract(A).subtract(p));if(!R.contains(g)){var j=yt((Math.max(R.max.x,g.x)-R.max.x)/(T.max.x-R.max.x)-(Math.min(R.min.x,g.x)-R.min.x)/(T.min.x-R.min.x),(Math.max(R.max.y,g.y)-R.max.y)/(T.max.y-R.max.y)-(Math.min(R.min.y,g.y)-R.min.y)/(T.min.y-R.min.y)).multiplyBy(c);a.panBy(j,{animate:!1}),this._draggable._newPos._add(j),this._draggable._startPos._add(j),_e(r._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=ht(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(tt(this._panRequest),this._panRequest=ht(this._adjustPan.bind(this,n)))},_onDrag:function(n){var r=this._marker,a=r._shadow,c=si(r._icon),p=r._map.layerPointToLatLng(c);a&&_e(a,c),r._latlng=p,n.latlng=p,n.oldLatLng=this._oldLatLng,r.fire("move",n).fire("drag",n)},_onDragEnd:function(n){tt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),bo=tn.extend({options:{icon:new Pr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,r){v(this,r),this._latlng=K(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var r=this._latlng;return this._latlng=K(n),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),a=n.icon.createIcon(this._icon),c=!1;a!==this._icon&&(this._icon&&this._removeIcon(),c=!0,n.title&&(a.title=n.title),a.tagName==="IMG"&&(a.alt=n.alt||"")),At(a,r),n.keyboard&&(a.tabIndex="0",a.setAttribute("role","button")),this._icon=a,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Lt(a,"focus",this._panOnFocus,this);var p=n.icon.createShadow(this._shadow),g=!1;p!==this._shadow&&(this._removeShadow(),g=!0),p&&(At(p,r),p.alt=""),this._shadow=p,n.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),p&&g&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Qt(this._icon,"focus",this._panOnFocus,this),se(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&se(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&_e(this._icon,n),this._shadow&&_e(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(At(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ic)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ic(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&He(this._icon,n),this._shadow&&He(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var r=this.options.icon.options,a=r.iconSize?yt(r.iconSize):yt(0,0),c=r.iconAnchor?yt(r.iconAnchor):yt(0,0);n.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:a.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function xm(n,r){return new bo(n,r)}var Dn=tn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return v(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),xo=Dn.extend({options:{fill:!0,radius:10},initialize:function(n,r){v(this,r),this._latlng=K(n),this._radius=this.options.radius},setLatLng:function(n){var r=this._latlng;return this._latlng=K(n),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var r=n&&n.radius||this._radius;return Dn.prototype.setStyle.call(this,n),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,r=this._radiusY||n,a=this._clickTolerance(),c=[n+a,r+a];this._pxBounds=new Nt(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Cm(n,r){return new xo(n,r)}var va=xo.extend({initialize:function(n,r,a){if(typeof r=="number"&&(r=s({},a,{radius:r})),v(this,r),this._latlng=K(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new re(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:Dn.prototype.setStyle,_project:function(){var n=this._latlng.lng,r=this._latlng.lat,a=this._map,c=a.options.crs;if(c.distance===ft.distance){var p=Math.PI/180,g=this._mRadius/ft.R/p,T=a.project([r+g,n]),A=a.project([r-g,n]),R=T.add(A).divideBy(2),j=a.unproject(R).lat,ut=Math.acos((Math.cos(g*p)-Math.sin(r*p)*Math.sin(j*p))/(Math.cos(r*p)*Math.cos(j*p)))/p;(isNaN(ut)||ut===0)&&(ut=g/Math.cos(Math.PI/180*r)),this._point=R.subtract(a.getPixelOrigin()),this._radius=isNaN(ut)?0:R.x-a.project([j,n-ut]).x,this._radiusY=R.y-T.y}else{var Ct=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=a.latLngToLayerPoint(this._latlng),this._radius=this._point.x-a.latLngToLayerPoint(Ct).x}this._updateBounds()}});function Sm(n,r,a){return new va(n,r,a)}var bn=Dn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,r){v(this,r),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var r=1/0,a=null,c=Sr,p,g,T=0,A=this._parts.length;T<A;T++)for(var R=this._parts[T],j=1,ut=R.length;j<ut;j++){p=R[j-1],g=R[j];var Ct=c(n,p,g,!0);Ct<r&&(r=Ct,a=c(n,p,g))}return a&&(a.distance=Math.sqrt(r)),a},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Qu(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,r){return r=r||this._defaultShape(),n=K(n),r.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new re,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return We(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var r=[],a=We(n),c=0,p=n.length;c<p;c++)a?(r[c]=K(n[c]),this._bounds.extend(r[c])):r[c]=this._convertLatLngs(n[c]);return r},_project:function(){var n=new Nt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),r=new at(n,n);this._rawPxBounds&&(this._pxBounds=new Nt([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(n,r,a){var c=n[0]instanceof B,p=n.length,g,T;if(c){for(T=[],g=0;g<p;g++)T[g]=this._map.latLngToLayerPoint(n[g]),a.extend(T[g]);r.push(T)}else for(g=0;g<p;g++)this._projectLatlngs(n[g],r,a)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,a,c,p,g,T,A,R;for(a=0,p=0,g=this._rings.length;a<g;a++)for(R=this._rings[a],c=0,T=R.length;c<T-1;c++)A=Ju(R[c],R[c+1],n,c,!0),A&&(r[p]=r[p]||[],r[p].push(A[0]),(A[1]!==R[c+1]||c===T-2)&&(r[p].push(A[1]),p++))}},_simplifyPoints:function(){for(var n=this._parts,r=this.options.smoothFactor,a=0,c=n.length;a<c;a++)n[a]=Ku(n[a],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,r){var a,c,p,g,T,A,R=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(a=0,g=this._parts.length;a<g;a++)for(A=this._parts[a],c=0,T=A.length,p=T-1;c<T;p=c++)if(!(!r&&c===0)&&Yu(n,A[p],A[c])<=R)return!0;return!1}});function Pm(n,r){return new bn(n,r)}bn._flat=Xu;var zi=bn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ec(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var r=bn.prototype._convertLatLngs.call(this,n),a=r.length;return a>=2&&r[0]instanceof B&&r[0].equals(r[a-1])&&r.pop(),r},_setLatLngs:function(n){bn.prototype._setLatLngs.call(this,n),We(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return We(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,r=this.options.weight,a=new at(r,r);if(n=new Nt(n.min.subtract(a),n.max.add(a)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,p=this._rings.length,g;c<p;c++)g=tc(this._rings[c],n,!0),g.length&&this._parts.push(g)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var r=!1,a,c,p,g,T,A,R,j;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(g=0,R=this._parts.length;g<R;g++)for(a=this._parts[g],T=0,j=a.length,A=j-1;T<j;A=T++)c=a[T],p=a[A],c.y>n.y!=p.y>n.y&&n.x<(p.x-c.x)*(n.y-c.y)/(p.y-c.y)+c.x&&(r=!r);return r||bn.prototype._containsPoint.call(this,n,!0)}});function Tm(n,r){return new zi(n,r)}var xn=wn.extend({initialize:function(n,r){v(this,r),this._layers={},n&&this.addData(n)},addData:function(n){var r=E(n)?n:n.features,a,c,p;if(r){for(a=0,c=r.length;a<c;a++)p=r[a],(p.geometries||p.geometry||p.features||p.coordinates)&&this.addData(p);return this}var g=this.options;if(g.filter&&!g.filter(n))return this;var T=Co(n,g);return T?(T.feature=To(n),T.defaultOptions=T.options,this.resetStyle(T),g.onEachFeature&&g.onEachFeature(n,T),this.addLayer(T)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=s({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(r){this._setLayerStyle(r,n)},this)},_setLayerStyle:function(n,r){n.setStyle&&(typeof r=="function"&&(r=r(n.feature)),n.setStyle(r))}});function Co(n,r){var a=n.type==="Feature"?n.geometry:n,c=a?a.coordinates:null,p=[],g=r&&r.pointToLayer,T=r&&r.coordsToLatLng||ga,A,R,j,ut;if(!c&&!a)return null;switch(a.type){case"Point":return A=T(c),rc(g,n,A,r);case"MultiPoint":for(j=0,ut=c.length;j<ut;j++)A=T(c[j]),p.push(rc(g,n,A,r));return new wn(p);case"LineString":case"MultiLineString":return R=So(c,a.type==="LineString"?0:1,T),new bn(R,r);case"Polygon":case"MultiPolygon":return R=So(c,a.type==="Polygon"?1:2,T),new zi(R,r);case"GeometryCollection":for(j=0,ut=a.geometries.length;j<ut;j++){var Ct=Co({geometry:a.geometries[j],type:"Feature",properties:n.properties},r);Ct&&p.push(Ct)}return new wn(p);case"FeatureCollection":for(j=0,ut=a.features.length;j<ut;j++){var Dt=Co(a.features[j],r);Dt&&p.push(Dt)}return new wn(p);default:throw new Error("Invalid GeoJSON object.")}}function rc(n,r,a,c){return n?n(r,a):new bo(a,c&&c.markersInheritOptions&&c)}function ga(n){return new B(n[1],n[0],n[2])}function So(n,r,a){for(var c=[],p=0,g=n.length,T;p<g;p++)T=r?So(n[p],r-1,a):(a||ga)(n[p]),c.push(T);return c}function ya(n,r){return n=K(n),n.alt!==void 0?[w(n.lng,r),w(n.lat,r),w(n.alt,r)]:[w(n.lng,r),w(n.lat,r)]}function Po(n,r,a,c){for(var p=[],g=0,T=n.length;g<T;g++)p.push(r?Po(n[g],We(n[g])?0:r-1,a,c):ya(n[g],c));return!r&&a&&p.push(p[0].slice()),p}function Fi(n,r){return n.feature?s({},n.feature,{geometry:r}):To(r)}function To(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var wa={toGeoJSON:function(n){return Fi(this,{type:"Point",coordinates:ya(this.getLatLng(),n)})}};bo.include(wa),va.include(wa),xo.include(wa),bn.include({toGeoJSON:function(n){var r=!We(this._latlngs),a=Po(this._latlngs,r?1:0,!1,n);return Fi(this,{type:(r?"Multi":"")+"LineString",coordinates:a})}}),zi.include({toGeoJSON:function(n){var r=!We(this._latlngs),a=r&&!We(this._latlngs[0]),c=Po(this._latlngs,a?2:r?1:0,!0,n);return r||(c=[c]),Fi(this,{type:(a?"Multi":"")+"Polygon",coordinates:c})}}),Di.include({toMultiPoint:function(n){var r=[];return this.eachLayer(function(a){r.push(a.toGeoJSON(n).geometry.coordinates)}),Fi(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(n){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(n);var a=r==="GeometryCollection",c=[];return this.eachLayer(function(p){if(p.toGeoJSON){var g=p.toGeoJSON(n);if(a)c.push(g.geometry);else{var T=To(g);T.type==="FeatureCollection"?c.push.apply(c,T.features):c.push(T)}}}),a?Fi(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function oc(n,r){return new xn(n,r)}var Em=oc,Eo=tn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,r,a){this._url=n,this._bounds=te(r),v(this,a)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(At(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){se(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&Ni(this._image),this},bringToBack:function(){return this._map&&Bi(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=te(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",r=this._image=n?this._url:Zt("img");if(At(r,"leaflet-image-layer"),this._zoomAnimated&&At(r,"leaflet-zoom-animated"),this.options.className&&At(r,this.options.className),r.onselectstart=_,r.onmousemove=_,r.onload=u(this.fire,this,"load"),r.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(n){var r=this._map.getZoomScale(n.zoom),a=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;oi(this._image,a,r)},_reset:function(){var n=this._image,r=new Nt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),a=r.getSize();_e(n,r.min),n.style.width=a.x+"px",n.style.height=a.y+"px"},_updateOpacity:function(){He(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),Lm=function(n,r,a){return new Eo(n,r,a)},sc=Eo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",r=this._image=n?this._url:Zt("video");if(At(r,"leaflet-image-layer"),this._zoomAnimated&&At(r,"leaflet-zoom-animated"),this.options.className&&At(r,this.options.className),r.onselectstart=_,r.onmousemove=_,r.onloadeddata=u(this.fire,this,"load"),n){for(var a=r.getElementsByTagName("source"),c=[],p=0;p<a.length;p++)c.push(a[p].src);this._url=a.length>0?c:[r.src];return}E(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var g=0;g<this._url.length;g++){var T=Zt("source");T.src=this._url[g],r.appendChild(T)}}});function km(n,r,a){return new sc(n,r,a)}var ac=Eo.extend({_initImage:function(){var n=this._image=this._url;At(n,"leaflet-image-layer"),this._zoomAnimated&&At(n,"leaflet-zoom-animated"),this.options.className&&At(n,this.options.className),n.onselectstart=_,n.onmousemove=_}});function Om(n,r,a){return new ac(n,r,a)}var fn=tn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,r){n&&(n instanceof B||E(n))?(this._latlng=K(n),v(this,r)):(v(this,n),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&He(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&He(this._container,1),this.bringToFront(),this.options.interactive&&(At(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(He(this._container,0),this._removeTimeout=setTimeout(u(se,void 0,this._container),200)):se(this._container),this.options.interactive&&(fe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=K(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ni(this._container),this},bringToBack:function(){return this._map&&Bi(this._container),this},_prepareOpen:function(n){var r=this._source;if(!r._map)return!1;if(r instanceof wn){r=null;var a=this._source._layers;for(var c in a)if(a[c]._map){r=a[c];break}if(!r)return!1;this._source=r}if(!n)if(r.getCenter)n=r.getCenter();else if(r.getLatLng)n=r.getLatLng();else if(r.getBounds)n=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")n.innerHTML=r;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),r=yt(this.options.offset),a=this._getAnchor();this._zoomAnimated?_e(this._container,n.add(a)):r=r.add(n).add(a);var c=this._containerBottom=-r.y,p=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=c+"px",this._container.style.left=p+"px"}},_getAnchor:function(){return[0,0]}});$t.include({_initOverlay:function(n,r,a,c){var p=r;return p instanceof n||(p=new n(c).setContent(r)),a&&p.setLatLng(a),p}}),tn.include({_initOverlay:function(n,r,a,c){var p=a;return p instanceof n?(v(p,c),p._source=this):(p=r&&!c?r:new n(c,this),p.setContent(a)),p}});var Lo=fn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,fn.prototype.openOn.call(this,n)},onAdd:function(n){fn.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Dn||this._source.on("preclick",ai))},onRemove:function(n){fn.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Dn||this._source.off("preclick",ai))},getEvents:function(){var n=fn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",r=this._container=Zt("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),a=this._wrapper=Zt("div",n+"-content-wrapper",r);if(this._contentNode=Zt("div",n+"-content",a),xr(r),ca(this._contentNode),Lt(r,"contextmenu",ai),this._tipContainer=Zt("div",n+"-tip-container",r),this._tip=Zt("div",n+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=Zt("a",n+"-close-button",r);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',Lt(c,"click",function(p){Ce(p),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,r=n.style;r.width="",r.whiteSpace="nowrap";var a=n.offsetWidth;a=Math.min(a,this.options.maxWidth),a=Math.max(a,this.options.minWidth),r.width=a+1+"px",r.whiteSpace="",r.height="";var c=n.offsetHeight,p=this.options.maxHeight,g="leaflet-popup-scrolled";p&&c>p?(r.height=p+"px",At(n,g)):fe(n,g),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),a=this._getAnchor();_e(this._container,r.add(a))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,r=parseInt(gr(this._container,"marginBottom"),10)||0,a=this._container.offsetHeight+r,c=this._containerWidth,p=new at(this._containerLeft,-a-this._containerBottom);p._add(si(this._container));var g=n.layerPointToContainerPoint(p),T=yt(this.options.autoPanPadding),A=yt(this.options.autoPanPaddingTopLeft||T),R=yt(this.options.autoPanPaddingBottomRight||T),j=n.getSize(),ut=0,Ct=0;g.x+c+R.x>j.x&&(ut=g.x+c-j.x+R.x),g.x-ut-A.x<0&&(ut=g.x-A.x),g.y+a+R.y>j.y&&(Ct=g.y+a-j.y+R.y),g.y-Ct-A.y<0&&(Ct=g.y-A.y),(ut||Ct)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([ut,Ct]))}},_getAnchor:function(){return yt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Mm=function(n,r){return new Lo(n,r)};$t.mergeOptions({closePopupOnClick:!0}),$t.include({openPopup:function(n,r,a){return this._initOverlay(Lo,n,r,a).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),tn.include({bindPopup:function(n,r){return this._popup=this._initOverlay(Lo,this._popup,n,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof wn||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){li(n);var r=n.layer||n.target;if(this._popup._source===r&&!(r instanceof Dn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=r,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var ko=fn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){fn.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){fn.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=fn.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",r=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Zt("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var r,a,c=this._map,p=this._container,g=c.latLngToContainerPoint(c.getCenter()),T=c.layerPointToContainerPoint(n),A=this.options.direction,R=p.offsetWidth,j=p.offsetHeight,ut=yt(this.options.offset),Ct=this._getAnchor();A==="top"?(r=R/2,a=j):A==="bottom"?(r=R/2,a=0):A==="center"?(r=R/2,a=j/2):A==="right"?(r=0,a=j/2):A==="left"?(r=R,a=j/2):T.x<g.x?(A="right",r=0,a=j/2):(A="left",r=R+(ut.x+Ct.x)*2,a=j/2),n=n.subtract(yt(r,a,!0)).add(ut).add(Ct),fe(p,"leaflet-tooltip-right"),fe(p,"leaflet-tooltip-left"),fe(p,"leaflet-tooltip-top"),fe(p,"leaflet-tooltip-bottom"),At(p,"leaflet-tooltip-"+A),_e(p,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&He(this._container,n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(r)},_getAnchor:function(){return yt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Am=function(n,r){return new ko(n,r)};$t.include({openTooltip:function(n,r,a){return this._initOverlay(ko,n,r,a).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),tn.include({bindTooltip:function(n,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ko,this._tooltip,n,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var r=n?"off":"on",a={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,a.click=this._openTooltip,this._map?this._addFocusListeners():a.add=this._addFocusListeners),this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),this[r](a),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof wn||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var r=n.getElement();r&&(Lt(r,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),Lt(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var r=n.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0))},_moveTooltip:function(n){var r=n.latlng,a,c;this._tooltip.options.sticky&&n.originalEvent&&(a=this._map.mouseEventToContainerPoint(n.originalEvent),c=this._map.containerPointToLayerPoint(a),r=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(r)}});var lc=$i.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var r=n&&n.tagName==="DIV"?n:document.createElement("div"),a=this.options;if(a.html instanceof Element?(mo(r),r.appendChild(a.html)):r.innerHTML=a.html!==!1?a.html:"",a.bgPos){var c=yt(a.bgPos);r.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function Im(n){return new lc(n)}$i.Default=Pr;var Tr=tn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:vt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){v(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),se(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ni(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Bi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof at?n:new at(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var r=this.getPane().children,a=-n(-1/0,1/0),c=0,p=r.length,g;c<p;c++)g=r[c].style.zIndex,r[c]!==this._container&&g&&(a=n(a,+g));isFinite(a)&&(this.options.zIndex=a+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!vt.ielt9){He(this._container,this.options.opacity);var n=+new Date,r=!1,a=!1;for(var c in this._tiles){var p=this._tiles[c];if(!(!p.current||!p.loaded)){var g=Math.min(1,(n-p.loaded)/200);He(p.el,g),g<1?r=!0:(p.active?a=!0:this._onOpaqueTile(p),p.active=!0)}}a&&!this._noPrune&&this._pruneTiles(),r&&(tt(this._fadeFrame),this._fadeFrame=ht(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=Zt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,r=this.options.maxZoom;if(n!==void 0){for(var a in this._levels)a=Number(a),this._levels[a].el.children.length||a===n?(this._levels[a].el.style.zIndex=r-Math.abs(n-a),this._onUpdateLevel(a)):(se(this._levels[a].el),this._removeTilesAtZoom(a),this._onRemoveLevel(a),delete this._levels[a]);var c=this._levels[n],p=this._map;return c||(c=this._levels[n]={},c.el=Zt("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=r,c.origin=p.project(p.unproject(p.getPixelOrigin()),n).round(),c.zoom=n,this._setZoomTransform(c,p.getCenter(),p.getZoom()),_(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var n,r,a=this._map.getZoom();if(a>this.options.maxZoom||a<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)r=this._tiles[n],r.retain=r.current;for(n in this._tiles)if(r=this._tiles[n],r.current&&!r.active){var c=r.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var r in this._tiles)this._tiles[r].coords.z===n&&this._removeTile(r)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)se(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,r,a,c){var p=Math.floor(n/2),g=Math.floor(r/2),T=a-1,A=new at(+p,+g);A.z=+T;var R=this._tileCoordsToKey(A),j=this._tiles[R];return j&&j.active?(j.retain=!0,!0):(j&&j.loaded&&(j.retain=!0),T>c?this._retainParent(p,g,T,c):!1)},_retainChildren:function(n,r,a,c){for(var p=2*n;p<2*n+2;p++)for(var g=2*r;g<2*r+2;g++){var T=new at(p,g);T.z=a+1;var A=this._tileCoordsToKey(T),R=this._tiles[A];if(R&&R.active){R.retain=!0;continue}else R&&R.loaded&&(R.retain=!0);a+1<c&&this._retainChildren(p,g,a+1,c)}},_resetView:function(n){var r=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var r=this.options;return r.minNativeZoom!==void 0&&n<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<n?r.maxNativeZoom:n},_setView:function(n,r,a,c){var p=Math.round(r);this.options.maxZoom!==void 0&&p>this.options.maxZoom||this.options.minZoom!==void 0&&p<this.options.minZoom?p=void 0:p=this._clampZoom(p);var g=this.options.updateWhenZooming&&p!==this._tileZoom;(!c||g)&&(this._tileZoom=p,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),p!==void 0&&this._update(n),a||this._pruneTiles(),this._noPrune=!!a),this._setZoomTransforms(n,r)},_setZoomTransforms:function(n,r){for(var a in this._levels)this._setZoomTransform(this._levels[a],n,r)},_setZoomTransform:function(n,r,a){var c=this._map.getZoomScale(a,n.zoom),p=n.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(r,a)).round();vt.any3d?oi(n.el,p,c):_e(n.el,p)},_resetGrid:function(){var n=this._map,r=n.options.crs,a=this._tileSize=this.getTileSize(),c=this._tileZoom,p=this._map.getPixelWorldBounds(this._tileZoom);p&&(this._globalTileRange=this._pxBoundsToTileRange(p)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,r.wrapLng[0]],c).x/a.x),Math.ceil(n.project([0,r.wrapLng[1]],c).x/a.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([r.wrapLat[0],0],c).y/a.x),Math.ceil(n.project([r.wrapLat[1],0],c).y/a.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var r=this._map,a=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),c=r.getZoomScale(a,this._tileZoom),p=r.project(n,this._tileZoom).floor(),g=r.getSize().divideBy(c*2);return new Nt(p.subtract(g),p.add(g))},_update:function(n){var r=this._map;if(r){var a=this._clampZoom(r.getZoom());if(n===void 0&&(n=r.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(n),p=this._pxBoundsToTileRange(c),g=p.getCenter(),T=[],A=this.options.keepBuffer,R=new Nt(p.getBottomLeft().subtract([A,-A]),p.getTopRight().add([A,-A]));if(!(isFinite(p.min.x)&&isFinite(p.min.y)&&isFinite(p.max.x)&&isFinite(p.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var j in this._tiles){var ut=this._tiles[j].coords;(ut.z!==this._tileZoom||!R.contains(new at(ut.x,ut.y)))&&(this._tiles[j].current=!1)}if(Math.abs(a-this._tileZoom)>1){this._setView(n,a);return}for(var Ct=p.min.y;Ct<=p.max.y;Ct++)for(var Dt=p.min.x;Dt<=p.max.x;Dt++){var je=new at(Dt,Ct);if(je.z=this._tileZoom,!!this._isValidTile(je)){var ci=this._tiles[this._tileCoordsToKey(je)];ci?ci.current=!0:T.push(je)}}if(T.sort(function($n,ba){return $n.distanceTo(g)-ba.distanceTo(g)}),T.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Mo=document.createDocumentFragment();for(Dt=0;Dt<T.length;Dt++)this._addTile(T[Dt],Mo);this._level.el.appendChild(Mo)}}}},_isValidTile:function(n){var r=this._map.options.crs;if(!r.infinite){var a=this._globalTileRange;if(!r.wrapLng&&(n.x<a.min.x||n.x>a.max.x)||!r.wrapLat&&(n.y<a.min.y||n.y>a.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(n);return te(this.options.bounds).overlaps(c)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var r=this._map,a=this.getTileSize(),c=n.scaleBy(a),p=c.add(a),g=r.unproject(c,n.z),T=r.unproject(p,n.z);return[g,T]},_tileCoordsToBounds:function(n){var r=this._tileCoordsToNwSe(n),a=new re(r[0],r[1]);return this.options.noWrap||(a=this._map.wrapLatLngBounds(a)),a},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var r=n.split(":"),a=new at(+r[0],+r[1]);return a.z=+r[2],a},_removeTile:function(n){var r=this._tiles[n];r&&(se(r.el),delete this._tiles[n],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){At(n,"leaflet-tile");var r=this.getTileSize();n.style.width=r.x+"px",n.style.height=r.y+"px",n.onselectstart=_,n.onmousemove=_,vt.ielt9&&this.options.opacity<1&&He(n,this.options.opacity)},_addTile:function(n,r){var a=this._getTilePos(n),c=this._tileCoordsToKey(n),p=this.createTile(this._wrapCoords(n),u(this._tileReady,this,n));this._initTile(p),this.createTile.length<2&&ht(u(this._tileReady,this,n,null,p)),_e(p,a),this._tiles[c]={el:p,coords:n,current:!0},r.appendChild(p),this.fire("tileloadstart",{tile:p,coords:n})},_tileReady:function(n,r,a){r&&this.fire("tileerror",{error:r,tile:a,coords:n});var c=this._tileCoordsToKey(n);a=this._tiles[c],a&&(a.loaded=+new Date,this._map._fadeAnimated?(He(a.el,0),tt(this._fadeFrame),this._fadeFrame=ht(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),r||(At(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),vt.ielt9||!this._map._fadeAnimated?ht(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var r=new at(this._wrapX?m(n.x,this._wrapX):n.x,this._wrapY?m(n.y,this._wrapY):n.y);return r.z=n.z,r},_pxBoundsToTileRange:function(n){var r=this.getTileSize();return new Nt(n.min.unscaleBy(r).floor(),n.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function Rm(n){return new Tr(n)}var Ui=Tr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,r){this._url=n,r=v(this,r),r.detectRetina&&vt.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,r){return this._url===n&&r===void 0&&(r=!0),this._url=n,r||this.redraw(),this},createTile:function(n,r){var a=document.createElement("img");return Lt(a,"load",u(this._tileOnLoad,this,r,a)),Lt(a,"error",u(this._tileOnError,this,r,a)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(a.referrerPolicy=this.options.referrerPolicy),a.alt="",a.src=this.getTileUrl(n),a},getTileUrl:function(n){var r={r:vt.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var a=this._globalTileRange.max.y-n.y;this.options.tms&&(r.y=a),r["-y"]=a}return S(this._url,s(r,this.options))},_tileOnLoad:function(n,r){vt.ielt9?setTimeout(u(n,this,null,r),0):n(null,r)},_tileOnError:function(n,r,a){var c=this.options.errorTileUrl;c&&r.getAttribute("src")!==c&&(r.src=c),n(a,r)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,r=this.options.maxZoom,a=this.options.zoomReverse,c=this.options.zoomOffset;return a&&(n=r-n),n+c},_getSubdomain:function(n){var r=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var n,r;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(r=this._tiles[n].el,r.onload=_,r.onerror=_,!r.complete)){r.src=V;var a=this._tiles[n].coords;se(r),delete this._tiles[n],this.fire("tileabort",{tile:r,coords:a})}},_removeTile:function(n){var r=this._tiles[n];if(r)return r.el.setAttribute("src",V),Tr.prototype._removeTile.call(this,n)},_tileReady:function(n,r,a){if(!(!this._map||a&&a.getAttribute("src")===V))return Tr.prototype._tileReady.call(this,n,r,a)}});function uc(n,r){return new Ui(n,r)}var cc=Ui.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,r){this._url=n;var a=s({},this.defaultWmsParams);for(var c in r)c in this.options||(a[c]=r[c]);r=v(this,r);var p=r.detectRetina&&vt.retina?2:1,g=this.getTileSize();a.width=g.x*p,a.height=g.y*p,this.wmsParams=a},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,Ui.prototype.onAdd.call(this,n)},getTileUrl:function(n){var r=this._tileCoordsToNwSe(n),a=this._crs,c=Ht(a.project(r[0]),a.project(r[1])),p=c.min,g=c.max,T=(this._wmsVersion>=1.3&&this._crs===nc?[p.y,p.x,g.y,g.x]:[p.x,p.y,g.x,g.y]).join(","),A=Ui.prototype.getTileUrl.call(this,n);return A+x(this.wmsParams,A,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+T},setParams:function(n,r){return s(this.wmsParams,n),r||this.redraw(),this}});function Nm(n,r){return new cc(n,r)}Ui.WMS=cc,uc.wms=Nm;var Cn=tn.extend({options:{padding:.1},initialize:function(n){v(this,n),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&At(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,r){var a=this._map.getZoomScale(r,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),p=this._map.project(this._center,r),g=c.multiplyBy(-a).add(p).subtract(this._map._getNewPixelOrigin(n,r));vt.any3d?oi(this._container,g,a):_e(this._container,g)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,r=this._map.getSize(),a=this._map.containerPointToLayerPoint(r.multiplyBy(-n)).round();this._bounds=new Nt(a,a.add(r.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),fc=Cn.extend({options:{tolerance:0},getEvents:function(){var n=Cn.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Cn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");Lt(n,"mousemove",this._onMouseMove,this),Lt(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Lt(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){tt(this._redrawRequest),delete this._ctx,se(this._container),Qt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var r in this._layers)n=this._layers[r],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Cn.prototype._update.call(this);var n=this._bounds,r=this._container,a=n.getSize(),c=vt.retina?2:1;_e(r,n.min),r.width=c*a.x,r.height=c*a.y,r.style.width=a.x+"px",r.style.height=a.y+"px",vt.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){Cn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[d(n)]=n;var r=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var r=n._order,a=r.next,c=r.prev;a?a.prev=c:this._drawLast=c,c?c.next=a:this._drawFirst=a,delete n._order,delete this._layers[d(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var r=n.options.dashArray.split(/[, ]+/),a=[],c,p;for(p=0;p<r.length;p++){if(c=Number(r[p]),isNaN(c))return;a.push(c)}n.options._dashArray=a}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||ht(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var r=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Nt,this._redrawBounds.extend(n._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(n._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var r=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,r=this._redrawBounds;if(this._ctx.save(),r){var a=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,a.x,a.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)n=c.layer,(!r||n._pxBounds&&n._pxBounds.intersects(r))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,r){if(this._drawing){var a,c,p,g,T=n._parts,A=T.length,R=this._ctx;if(A){for(R.beginPath(),a=0;a<A;a++){for(c=0,p=T[a].length;c<p;c++)g=T[a][c],R[c?"lineTo":"moveTo"](g.x,g.y);r&&R.closePath()}this._fillStroke(R,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var r=n._point,a=this._ctx,c=Math.max(Math.round(n._radius),1),p=(Math.max(Math.round(n._radiusY),1)||c)/c;p!==1&&(a.save(),a.scale(1,p)),a.beginPath(),a.arc(r.x,r.y/p,c,0,Math.PI*2,!1),p!==1&&a.restore(),this._fillStroke(a,n)}},_fillStroke:function(n,r){var a=r.options;a.fill&&(n.globalAlpha=a.fillOpacity,n.fillStyle=a.fillColor||a.color,n.fill(a.fillRule||"evenodd")),a.stroke&&a.weight!==0&&(n.setLineDash&&n.setLineDash(r.options&&r.options._dashArray||[]),n.globalAlpha=a.opacity,n.lineWidth=a.weight,n.strokeStyle=a.color,n.lineCap=a.lineCap,n.lineJoin=a.lineJoin,n.stroke())},_onClick:function(n){for(var r=this._map.mouseEventToLayerPoint(n),a,c,p=this._drawFirst;p;p=p.next)a=p.layer,a.options.interactive&&a._containsPoint(r)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(a))&&(c=a);this._fireEvent(c?[c]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,r)}},_handleMouseOut:function(n){var r=this._hoveredLayer;r&&(fe(this._container,"leaflet-interactive"),this._fireEvent([r],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,r){if(!this._mouseHoverThrottled){for(var a,c,p=this._drawFirst;p;p=p.next)a=p.layer,a.options.interactive&&a._containsPoint(r)&&(c=a);c!==this._hoveredLayer&&(this._handleMouseOut(n),c&&(At(this._container,"leaflet-interactive"),this._fireEvent([c],n,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,r,a){this._map._fireDOMEvent(r,a||r.type,n)},_bringToFront:function(n){var r=n._order;if(r){var a=r.next,c=r.prev;if(a)a.prev=c;else return;c?c.next=a:a&&(this._drawFirst=a),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(n)}},_bringToBack:function(n){var r=n._order;if(r){var a=r.next,c=r.prev;if(c)c.next=a;else return;a?a.prev=c:c&&(this._drawLast=c),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(n)}}});function dc(n){return vt.canvas?new fc(n):null}var Er=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Bm={_initContainer:function(){this._container=Zt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Cn.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var r=n._container=Er("shape");At(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",n._path=Er("path"),r.appendChild(n._path),this._updateStyle(n),this._layers[d(n)]=n},_addPath:function(n){var r=n._container;this._container.appendChild(r),n.options.interactive&&n.addInteractiveTarget(r)},_removePath:function(n){var r=n._container;se(r),n.removeInteractiveTarget(r),delete this._layers[d(n)]},_updateStyle:function(n){var r=n._stroke,a=n._fill,c=n.options,p=n._container;p.stroked=!!c.stroke,p.filled=!!c.fill,c.stroke?(r||(r=n._stroke=Er("stroke")),p.appendChild(r),r.weight=c.weight+"px",r.color=c.color,r.opacity=c.opacity,c.dashArray?r.dashStyle=E(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=c.lineCap.replace("butt","flat"),r.joinstyle=c.lineJoin):r&&(p.removeChild(r),n._stroke=null),c.fill?(a||(a=n._fill=Er("fill")),p.appendChild(a),a.color=c.fillColor||c.color,a.opacity=c.fillOpacity):a&&(p.removeChild(a),n._fill=null)},_updateCircle:function(n){var r=n._point.round(),a=Math.round(n._radius),c=Math.round(n._radiusY||a);this._setPath(n,n._empty()?"M0 0":"AL "+r.x+","+r.y+" "+a+","+c+" 0,"+65535*360)},_setPath:function(n,r){n._path.v=r},_bringToFront:function(n){Ni(n._container)},_bringToBack:function(n){Bi(n._container)}},Oo=vt.vml?Er:z,Lr=Cn.extend({_initContainer:function(){this._container=Oo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Oo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){se(this._container),Qt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Cn.prototype._update.call(this);var n=this._bounds,r=n.getSize(),a=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,a.setAttribute("width",r.x),a.setAttribute("height",r.y)),_e(a,n.min),a.setAttribute("viewBox",[n.min.x,n.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(n){var r=n._path=Oo("path");n.options.className&&At(r,n.options.className),n.options.interactive&&At(r,"leaflet-interactive"),this._updateStyle(n),this._layers[d(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){se(n._path),n.removeInteractiveTarget(n._path),delete this._layers[d(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var r=n._path,a=n.options;r&&(a.stroke?(r.setAttribute("stroke",a.color),r.setAttribute("stroke-opacity",a.opacity),r.setAttribute("stroke-width",a.weight),r.setAttribute("stroke-linecap",a.lineCap),r.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?r.setAttribute("stroke-dasharray",a.dashArray):r.removeAttribute("stroke-dasharray"),a.dashOffset?r.setAttribute("stroke-dashoffset",a.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),a.fill?(r.setAttribute("fill",a.fillColor||a.color),r.setAttribute("fill-opacity",a.fillOpacity),r.setAttribute("fill-rule",a.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(n,r){this._setPath(n,H(n._parts,r))},_updateCircle:function(n){var r=n._point,a=Math.max(Math.round(n._radius),1),c=Math.max(Math.round(n._radiusY),1)||a,p="a"+a+","+c+" 0 1,0 ",g=n._empty()?"M0 0":"M"+(r.x-a)+","+r.y+p+a*2+",0 "+p+-a*2+",0 ";this._setPath(n,g)},_setPath:function(n,r){n._path.setAttribute("d",r)},_bringToFront:function(n){Ni(n._path)},_bringToBack:function(n){Bi(n._path)}});vt.vml&&Lr.include(Bm);function hc(n){return vt.svg||vt.vml?new Lr(n):null}$t.include({getRenderer:function(n){var r=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var r=this._paneRenderers[n];return r===void 0&&(r=this._createRenderer({pane:n}),this._paneRenderers[n]=r),r},_createRenderer:function(n){return this.options.preferCanvas&&dc(n)||hc(n)}});var pc=zi.extend({initialize:function(n,r){zi.prototype.initialize.call(this,this._boundsToLatLngs(n),r)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=te(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function Dm(n,r){return new pc(n,r)}Lr.create=Oo,Lr.pointsToPath=H,xn.geometryToLayer=Co,xn.coordsToLatLng=ga,xn.coordsToLatLngs=So,xn.latLngToCoords=ya,xn.latLngsToCoords=Po,xn.getFeature=Fi,xn.asFeature=To,$t.mergeOptions({boxZoom:!0});var mc=cn.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){Lt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Qt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){se(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),yr(),na(),this._startPoint=this._map.mouseEventToContainerPoint(n),Lt(document,{contextmenu:li,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=Zt("div","leaflet-zoom-box",this._container),At(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var r=new Nt(this._point,this._startPoint),a=r.getSize();_e(this._box,r.min),this._box.style.width=a.x+"px",this._box.style.height=a.y+"px"},_finish:function(){this._moved&&(se(this._box),fe(this._container,"leaflet-crosshair")),wr(),ia(),Qt(document,{contextmenu:li,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var r=new re(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});$t.addInitHook("addHandler","boxZoom",mc),$t.mergeOptions({doubleClickZoom:!0});var _c=cn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var r=this._map,a=r.getZoom(),c=r.options.zoomDelta,p=n.originalEvent.shiftKey?a-c:a+c;r.options.doubleClickZoom==="center"?r.setZoom(p):r.setZoomAround(n.containerPoint,p)}});$t.addInitHook("addHandler","doubleClickZoom",_c),$t.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var vc=cn.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new Bn(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}At(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){fe(this._map._container,"leaflet-grab"),fe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=te(this._map.options.maxBounds);this._offsetLimit=Ht(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var r=this._lastTime=+new Date,a=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(a),this._times.push(r),this._prunePositions(r)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,r){return n-(n-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;n.x<r.min.x&&(n.x=this._viscousLimit(n.x,r.min.x)),n.y<r.min.y&&(n.y=this._viscousLimit(n.y,r.min.y)),n.x>r.max.x&&(n.x=this._viscousLimit(n.x,r.max.x)),n.y>r.max.y&&(n.y=this._viscousLimit(n.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,r=Math.round(n/2),a=this._initialWorldOffset,c=this._draggable._newPos.x,p=(c-r+a)%n+r-a,g=(c+r+a)%n-r-a,T=Math.abs(p+a)<Math.abs(g+a)?p:g;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=T},_onDragEnd:function(n){var r=this._map,a=r.options,c=!a.inertia||n.noInertia||this._times.length<2;if(r.fire("dragend",n),c)r.fire("moveend");else{this._prunePositions(+new Date);var p=this._lastPos.subtract(this._positions[0]),g=(this._lastTime-this._times[0])/1e3,T=a.easeLinearity,A=p.multiplyBy(T/g),R=A.distanceTo([0,0]),j=Math.min(a.inertiaMaxSpeed,R),ut=A.multiplyBy(j/R),Ct=j/(a.inertiaDeceleration*T),Dt=ut.multiplyBy(-Ct/2).round();!Dt.x&&!Dt.y?r.fire("moveend"):(Dt=r._limitOffset(Dt,r.options.maxBounds),ht(function(){r.panBy(Dt,{duration:Ct,easeLinearity:T,noMoveStart:!0,animate:!0})}))}}});$t.addInitHook("addHandler","dragging",vc),$t.mergeOptions({keyboard:!0,keyboardPanDelta:80});var gc=cn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),Lt(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Qt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,r=document.documentElement,a=n.scrollTop||r.scrollTop,c=n.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(c,a)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var r=this._panKeys={},a=this.keyCodes,c,p;for(c=0,p=a.left.length;c<p;c++)r[a.left[c]]=[-1*n,0];for(c=0,p=a.right.length;c<p;c++)r[a.right[c]]=[n,0];for(c=0,p=a.down.length;c<p;c++)r[a.down[c]]=[0,n];for(c=0,p=a.up.length;c<p;c++)r[a.up[c]]=[0,-1*n]},_setZoomDelta:function(n){var r=this._zoomKeys={},a=this.keyCodes,c,p;for(c=0,p=a.zoomIn.length;c<p;c++)r[a.zoomIn[c]]=n;for(c=0,p=a.zoomOut.length;c<p;c++)r[a.zoomOut[c]]=-n},_addHooks:function(){Lt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Qt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var r=n.keyCode,a=this._map,c;if(r in this._panKeys){if(!a._panAnim||!a._panAnim._inProgress)if(c=this._panKeys[r],n.shiftKey&&(c=yt(c).multiplyBy(3)),a.options.maxBounds&&(c=a._limitOffset(yt(c),a.options.maxBounds)),a.options.worldCopyJump){var p=a.wrapLatLng(a.unproject(a.project(a.getCenter()).add(c)));a.panTo(p)}else a.panBy(c)}else if(r in this._zoomKeys)a.setZoom(a.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&a._popup&&a._popup.options.closeOnEscapeKey)a.closePopup();else return;li(n)}}});$t.addInitHook("addHandler","keyboard",gc),$t.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var yc=cn.extend({addHooks:function(){Lt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Qt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var r=Hu(n),a=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var c=Math.max(a-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),c),li(n)},_performZoom:function(){var n=this._map,r=n.getZoom(),a=this._map.options.zoomSnap||0;n._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),p=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,g=a?Math.ceil(p/a)*a:p,T=n._limitZoom(r+(this._delta>0?g:-g))-r;this._delta=0,this._startTime=null,T&&(n.options.scrollWheelZoom==="center"?n.setZoom(r+T):n.setZoomAround(this._lastMousePos,r+T))}});$t.addInitHook("addHandler","scrollWheelZoom",yc);var $m=600;$t.mergeOptions({tapHold:vt.touchNative&&vt.safari&&vt.mobile,tapTolerance:15});var wc=cn.extend({addHooks:function(){Lt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Qt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var r=n.touches[0];this._startPos=this._newPos=new at(r.clientX,r.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(Lt(document,"touchend",Ce),Lt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),$m),Lt(document,"touchend touchcancel contextmenu",this._cancel,this),Lt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){Qt(document,"touchend",Ce),Qt(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),Qt(document,"touchend touchcancel contextmenu",this._cancel,this),Qt(document,"touchmove",this._onMove,this)},_onMove:function(n){var r=n.touches[0];this._newPos=new at(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,r){var a=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});a._simulated=!0,r.target.dispatchEvent(a)}});$t.addInitHook("addHandler","tapHold",wc),$t.mergeOptions({touchZoom:vt.touch,bounceAtZoomLimits:!0});var bc=cn.extend({addHooks:function(){At(this._map._container,"leaflet-touch-zoom"),Lt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){fe(this._map._container,"leaflet-touch-zoom"),Qt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var r=this._map;if(!(!n.touches||n.touches.length!==2||r._animatingZoom||this._zooming)){var a=r.mouseEventToContainerPoint(n.touches[0]),c=r.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(a.add(c)._divideBy(2))),this._startDist=a.distanceTo(c),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),Lt(document,"touchmove",this._onTouchMove,this),Lt(document,"touchend touchcancel",this._onTouchEnd,this),Ce(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var r=this._map,a=r.mouseEventToContainerPoint(n.touches[0]),c=r.mouseEventToContainerPoint(n.touches[1]),p=a.distanceTo(c)/this._startDist;if(this._zoom=r.getScaleZoom(p,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&p<1||this._zoom>r.getMaxZoom()&&p>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,p===1)return}else{var g=a._add(c)._divideBy(2)._subtract(this._centerPoint);if(p===1&&g.x===0&&g.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(g),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),tt(this._animRequest);var T=u(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ht(T,this,!0),Ce(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,tt(this._animRequest),Qt(document,"touchmove",this._onTouchMove,this),Qt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});$t.addInitHook("addHandler","touchZoom",bc),$t.BoxZoom=mc,$t.DoubleClickZoom=_c,$t.Drag=vc,$t.Keyboard=gc,$t.ScrollWheelZoom=yc,$t.TapHold=wc,$t.TouchZoom=bc,i.Bounds=Nt,i.Browser=vt,i.CRS=et,i.Canvas=fc,i.Circle=va,i.CircleMarker=xo,i.Class=Ot,i.Control=Qe,i.DivIcon=lc,i.DivOverlay=fn,i.DomEvent=nm,i.DomUtil=tm,i.Draggable=Bn,i.Evented=Tt,i.FeatureGroup=wn,i.GeoJSON=xn,i.GridLayer=Tr,i.Handler=cn,i.Icon=$i,i.ImageOverlay=Eo,i.LatLng=B,i.LatLngBounds=re,i.Layer=tn,i.LayerGroup=Di,i.LineUtil=pm,i.Map=$t,i.Marker=bo,i.Mixin=um,i.Path=Dn,i.Point=at,i.PolyUtil=mm,i.Polygon=zi,i.Polyline=bn,i.Popup=Lo,i.PosAnimation=Wu,i.Projection=_m,i.Rectangle=pc,i.Renderer=Cn,i.SVG=Lr,i.SVGOverlay=ac,i.TileLayer=Ui,i.Tooltip=ko,i.Transformation=Pt,i.Util=kt,i.VideoOverlay=sc,i.bind=u,i.bounds=Ht,i.canvas=dc,i.circle=Sm,i.circleMarker=Cm,i.control=Cr,i.divIcon=Im,i.extend=s,i.featureGroup=wm,i.geoJSON=oc,i.geoJson=Em,i.gridLayer=Rm,i.icon=bm,i.imageOverlay=Lm,i.latLng=K,i.latLngBounds=te,i.layerGroup=ym,i.map=im,i.marker=xm,i.point=yt,i.polygon=Tm,i.polyline=Pm,i.popup=Mm,i.rectangle=Dm,i.setOptions=v,i.stamp=d,i.svg=hc,i.svgOverlay=Om,i.tileLayer=uc,i.tooltip=Am,i.transformation=C,i.version=o,i.videoOverlay=km;var zm=window.L;i.noConflict=function(){return window.L=zm,this},window.L=i})})(Ol,Ol.exports);const ae=Ol.exports,ox=""+new URL("bus-ed32ce37.svg",import.meta.url).href,Li=[{CityID:"A",CityName:"臺北市",CityCode:"TPE",City:"Taipei",CountyID:"A",Version:"21.08.1",NearByCitys:["Keelung","NewTaipei"]},{CityID:"B",CityName:"臺中市",CityCode:"TXG",City:"Taichung",CountyID:"B",Version:"21.08.1",NearByCitys:["MiaoliCounty","NantouCounty","ChanghuaCounty","HualienCounty"]},{CityID:"C",CityName:"基隆市",CityCode:"KEE",City:"Keelung",CountyID:"C",Version:"21.08.1",NearByCitys:["Taipei","NewTaipei"]},{CityID:"D",CityName:"臺南市",CityCode:"TNN",City:"Tainan",CountyID:"D",Version:"21.08.1",NearByCitys:["Kaohsiung","Chiayi","ChiayiCounty"]},{CityID:"E",CityName:"高雄市",CityCode:"KHH",City:"Kaohsiung",CountyID:"E",Version:"21.08.1",NearByCitys:["Tainan","ChiayiCounty","PingtungCounty"]},{CityID:"F",CityName:"新北市",CityCode:"NWT",City:"NewTaipei",CountyID:"F",Version:"21.08.1",NearByCitys:["Taipei","Keelung","YilanCounty","Taoyuan"]},{CityID:"G",CityName:"宜蘭縣",CityCode:"ILA",City:"YilanCounty",CountyID:"G",Version:"21.08.1",NearByCitys:["Taipei","NewTaipei","HualienCounty"]},{CityID:"H",CityName:"桃園市",CityCode:"TAO",City:"Taoyuan",CountyID:"H",Version:"21.08.1",NearByCitys:["Taipei","NewTaipei","HsinchuCounty","Hsinchu"]},{CityID:"I",CityName:"嘉義市",CityCode:"CYI",City:"Chiayi",CountyID:"I",Version:"21.08.1",NearByCitys:["Tainan","YunlinCounty","ChiayiCounty"]},{CityID:"J",CityName:"新竹縣",CityCode:"HSQ",City:"HsinchuCounty",CountyID:"J",Version:"21.08.1",NearByCitys:["Taoyuan","MiaoliCounty","Hsinchu"]},{CityID:"K",CityName:"苗栗縣",CityCode:"MIA",City:"MiaoliCounty",CountyID:"K",Version:"21.08.1",NearByCitys:["Taichung","HsinchuCounty","Hsinchu"]},{CityID:"M",CityName:"南投縣",CityCode:"NAN",City:"NantouCounty",CountyID:"M",Version:"21.08.1",NearByCitys:["Taichung","ChanghuaCounty","YunlinCounty","ChiayiCounty","HualienCounty"]},{CityID:"N",CityName:"彰化縣",CityCode:"CHA",City:"ChanghuaCounty",CountyID:"N",Version:"21.08.1",NearByCitys:["Taichung","NantouCounty","YunlinCounty"]},{CityID:"O",CityName:"新竹市",CityCode:"HSZ",City:"Hsinchu",CountyID:"O",Version:"21.08.1",NearByCitys:["HsinchuCounty"]},{CityID:"P",CityName:"雲林縣",CityCode:"YUN",City:"YunlinCounty",CountyID:"P",Version:"21.08.1",NearByCitys:["NantouCounty","ChanghuaCounty","ChiayiCounty"]},{CityID:"Q",CityName:"嘉義縣",CityCode:"CYQ",City:"ChiayiCounty",CountyID:"Q",Version:"21.08.1",NearByCitys:["Tainan","Kaohsiung","Chiayi","NantouCounty","YunlinCounty"]},{CityID:"T",CityName:"屏東縣",CityCode:"PIF",City:"PingtungCounty",CountyID:"T",Version:"21.08.1",NearByCitys:["Kaohsiung","TaitungCounty"]},{CityID:"U",CityName:"花蓮縣",CityCode:"HUA",City:"HualienCounty",CountyID:"U",Version:"21.08.1",NearByCitys:["YilanCounty","NantouCounty","TaitungCounty"]},{CityID:"V",CityName:"臺東縣",CityCode:"TTT",City:"TaitungCounty",CountyID:"V",Version:"21.08.1",NearByCitys:["PingtungCounty","HualienCounty"]},{CityID:"W",CityName:"金門縣",CityCode:"KIN",City:"KinmenCounty",CountyID:"W",Version:"21.08.1",NearByCitys:[]},{CityID:"X",CityName:"澎湖縣",CityCode:"PEN",City:"PenghuCounty",CountyID:"X",Version:"21.08.1",NearByCitys:[]},{CityID:"Z",CityName:"連江縣",CityCode:"LIE",City:"LienchiangCounty",CountyID:"Z",Version:"21.08.1",NearByCitys:[]}],sx=ae.icon({iconUrl:ox,iconSize:[36,36],iconAnchor:[18,18],popupAnchor:[18,-18],shadowUrl:null,shadowSize:[0,0],shadowAnchor:[18,18]});function sp(t="city"){const e=st(!0);let i=[],o=0;function s(){$.routeName="",$.city="",$.routes=[],e.value=!0,o=0}async function l(...b){switch(t){case"city":case"intercity":await h(...b);break;case"intercity-from-to":await u(...b);break}}async function u(b,y){if($.city1===b&&$.city2===y&&$.routes.length>0)return;const v=Li.find(G=>G.City===b),x=Li.find(G=>G.City===y);if(!v||!x)return;const P="StopOfRoute/InterCity",S=await ke.get(P,{params:{$filter:`Stops/any(d:d/LocationCityCode eq '${v.CityCode}')`}}),E=[];i=[],S.data.forEach(G=>{const dt=G.Stops.findIndex(ct=>ct.LocationCityCode===(v==null?void 0:v.CityCode)),rt=G.Stops[dt],_t=G.Stops.findIndex(ct=>ct.LocationCityCode===(x==null?void 0:x.CityCode)&&ct.StopID!==rt.StopID);if(!(_t<0||dt>=_t)){if(E.length<50){E.push(d(G));return}i.push(()=>d(G))}});let M=await Promise.all(E);$.routes=[];const V=f(M);$.routes=V,$.city1=b,$.city2=y,i.length>0&&(e.value=!1)}function f(b){const y=[];return b=b.filter(Boolean),b.forEach(v=>{$.routes.some(P=>P.SubRouteName.Zh_tw===v.SubRouteName.Zh_tw)||y.push(v)}),y}async function d(b){const y=await Ya(b.RouteName.Zh_tw),v=b.RouteName.Zh_tw,x=b.SubRouteID,P=y.find(S=>S.RouteName.Zh_tw===v);return P.SubRoutes.find(S=>{if(S.SubRouteID===x)return S.IsSubRoute=!0,S.RouteName=P.RouteName,S})}async function h(b,y){if($.routeName===b&&$.city===y&&$.routes.length>0)return;const v=await Ya(b,y);o=v.length,e.value=!1,o<20&&(e.value=!0),y||m(v);const x=_(v);$.routes=x,$.routeName=b,$.city=y}function m(b){b.forEach(y=>{var v;if((v=y==null?void 0:y.SubRoutes)!=null&&v.length){const x=y.SubRoutes.find(P=>P.SubRouteName.Zh_tw===y.RouteName.Zh_tw&&P.Direction===0);y.Headsign=x==null?void 0:x.Headsign,y.HeadsignEn=x==null?void 0:x.HeadsignEn}})}function _(b){return b.reduce((v,x)=>(v.push(x),x.HasSubRoutes&&x.SubRoutes.forEach(P=>{P.SubRouteName.Zh_tw!==x.RouteName.Zh_tw&&P.Direction===0&&(P.IsSubRoute=!0,P.RouteName=x.RouteName,P.City=x.City,P.DepartureStopNameZh||(P.DepartureStopNameZh=x.DepartureStopNameZh,P.DepartureStopNameEn=x.DepartureStopNameEn,P.DestinationStopNameZh=x.DestinationStopNameZh,P.DestinationStopNameEn=x.DestinationStopNameEn),v.push(P))}),v),[])}async function w(){if(i.length>0){const v=[];for(let S=0;S<50;S++){const E=i.shift();E&&v.push(E())}const x=await Promise.all(v),P=f(x);$.routes=$.routes.concat(P),i.length===0&&(e.value=!0);return}const b=await Ya($.routeName,$.city,o);if(b.length<20&&(e.value=!0),b.length===0)return;o+=b.length,$.city||m(b),_(b).forEach(v=>{$.routes.push(v)})}return{fetchNewRoutes:l,fetchRemainingRoutes:w,fetchRoutesByCitys:u,clearRoutes:s,isEnd:e}}function ax(t){let e={TimeLabel:"--",Color:"text-primary",BgColor:"bg-dark",Border:!0,LinkColor:"link-light"};if(typeof t.EstimateTime!="number"){switch(t.StopStatus){case 1:e.TimeLabel="未發車";break;case 2:e.TimeLabel="交管中";break;case 3:e.TimeLabel="末班過";break;case 4:e.TimeLabel="未營運";break}e.BgColor="bg-dark",e.Color="text-warning",e.Border=!1}else if(t.EstimateTime<60)e.TimeLabel="進站中",e.BgColor="bg-primary",e.Color="text-dark",e.LinkColor="link-primary";else{const i=Math.floor(t.EstimateTime/60);e.TimeLabel=`${i} 分`}t=Object.assign(t,e)}function jf(t){t.forEach(e=>{ax(e)})}function so(t){const e=Li.find(i=>i.City===t);return e==null?void 0:e.CityName}function lx(t){const e=Li.find(i=>i.City===t);return(e==null?void 0:e.CityCode)||"THB"}const Ml=t=>{const e=Li.find(i=>i.CityCode===t);return e==null?void 0:e.City},qs=t=>{let e="";switch(t){case"N":e="北行";break;case"S":e="南行";break;case"E":e="東行";break;case"W":e="西行";break;case"SE":e="東南行";break;case"NE":e="東北行";break;case"SW":e="西南行";break;case"NW":e="西北行";break}return e},Ga=t=>t.slice(10).trim().slice(1,-1).split(/,\s|,/).map((i,o)=>{const[s,l]=i.split(" ");return[parseFloat(l),parseFloat(s)]});function es(t,e){if(!Array.isArray(e)){console.error("list 不是陣列");return}return e.filter(i=>(typeof i.RouteName=="object"?i.RouteName.Zh_tw:i.RouteName)===t)}const Ja=(t,e)=>e.filter(i=>(i==null?void 0:i.SubRouteName.Zh_tw)===t),ux=t=>{var o,s;const e=(o=t.find(l=>l.Direction===0))==null?void 0:o.Stops,i=(s=t.find(l=>l.Direction===1))==null?void 0:s.Stops;return{stopsForward:e,stopsBackward:i}},jr=t=>{const e=t.filter(o=>o.Direction===0),i=t.filter(o=>o.Direction===1);return[e,i]};function ap(t,e,i){const o=async()=>{await s(),await m(),$.arrivalsInfo.forward=b($.arrivalsInfo.forward),$.arrivalsInfo.backward=b($.arrivalsInfo.backward)};async function s(){var E,M;const y=await Q0(t,e);if(y.length===0)throw new Error(`沒有 ${i||t} 這個路線名稱`);let[v,x]=l(y);const P=await op(t,e),S=u(P);v=f(v,(E=S==null?void 0:S.forward)==null?void 0:E.Stops),x=f(x,(M=S==null?void 0:S.backward)==null?void 0:M.Stops),v.sort(d),x.sort(d),$.arrivalsInfo.forward=v,$.arrivalsInfo.backward=x}function l(y){y[0].SubRouteID&&(y=Ja(i||t,y));const[v,x]=jr(y);if(v.length===0&&x.length===0)throw new Error("找不到此公車路線");return $.routeName=t,$.arrivalsInfo.forward=v,$.arrivalsInfo.backward=x,i&&($.subRouteName=i),[v,x]}function u(y){let x=Ja(i||t,y);x.length===0&&(x=h(y));const[P,S]=jr(x);return x={forward:P[0],backward:S[0]},$.routeName=t,$.stopsOfRoute=x,x}function f(y,v){const x=new Array(y.length);return x.fill(!0),y.forEach((P,S)=>{const E=v==null?void 0:v.find(M=>M.StopID===P.StopID);E?(P.StopSequence=P.StopSequence||(E==null?void 0:E.StopSequence),P.LocationCityCode=E==null?void 0:E.LocationCityCode,P.StationID=E==null?void 0:E.StationID):x[S]=!1}),y.filter((P,S)=>x[S])}function d(y,v){return y.StopSequence&&v.StopSequence?y.StopSequence-v.StopSequence:0}function h(y){let v=0,x,P=null;return y.forEach(S=>{S.Stops.length>v&&(v=S.Stops.length,x=S)}),P=y.find(S=>{if(x.SubRouteName.Zh_tw===S.SubRouteName.Zh_tw&&x.Direction!==S.Direction)return!0}),[x,P]}async function m(){var M,V;_();let y=await tx(t,e);if(!y||!y[0])return;const v=i||t;let x=Ja(v,y);if(x.length>0)y=x;else{const G=(V=(M=$.arrivalsInfo.forward.at(0))==null?void 0:M.SubRouteName)==null?void 0:V.Zh_tw;y=(G?G!==v:!0)?y:[]}const[P,S]=jr(y),E=[];P.forEach(G=>{E.push(w(G,"forward"))}),await Promise.all(E),E.length=0,S.forEach(G=>{E.push(w(G,"backward"))}),await Promise.all(E)}function _(){function y(v){v.HasBus=!1,v.PlateNumb="-1",v.Accessible=!1}$.arrivalsInfo.forward.forEach(y),$.arrivalsInfo.backward.forEach(y)}async function w(y,v){var P;const x=$.arrivalsInfo[v].find(S=>S.StopUID===y.StopUID);if(x){const S=await ex(y.PlateNumb,e);x.HasBus=!0,x.PlateNumb=y.PlateNumb,x.Accessible=((P=S[0])==null?void 0:P.VehicleType)===1}}function b(y){const v=new Array(y.length).fill(!0);let x=null;return y.forEach((P,S)=>{P.StopID===(x==null?void 0:x.StopID)&&(x.PlateNumb=P.PlateNumb==="-1"?x.PlateNumb:P.PlateNumb,x.EstimateTime?P.EstimateTime&&x.EstimateTime>P.EstimateTime&&(x.EstimateTime=P.EstimateTime):x.EstimateTime=P.EstimateTime,v[S]=!1),x=P}),y.filter((P,S)=>v[S])}return{fetchNewArrivalsInfo:o}}function lp(t,e){const i=ti({forward:{stops:[],busList:[],shape:[]},backward:{stops:[],busList:[],shape:[]}}),o=async(f,d)=>{let h=`StopOfRoute/City/${d}`;d||(h="StopOfRoute/InterCity");const m=await ke.get(`${h}/${f}`),_=es(f,m.data);if(!_&&!_[0])return;const{stopsForward:w,stopsBackward:b}=ux(_);i.forward.stops=w,i.backward.stops=b},s=async(f,d)=>{let h=`RealTimeByFrequency/City/${d}/${f}`;d||(h=`RealTimeByFrequency/InterCity/${f}`);const m=await ke.get(h),_=es(f,m.data);if(!_&&!_[0])return;const[w,b]=jr(_);i.forward.busList=w,i.backward.busList=b},l=async(f,d)=>{let h=`Shape/City/${d}/${f}`;d||(h=`Shape/InterCity/${f}`);const m=await ke.get(h),_=es(f,m.data);if(!(!_&&!_[0]))if(_[0].Direction<=2){const w=_.find(y=>y.Direction===0),b=_.find(y=>y.Direction===1);w&&(i.forward.shape=Ga(w.Geometry)),b&&(i.backward.shape=Ga(b.Geometry))}else{const w=Ga(_[0].Geometry);i.forward.shape=w,i.backward.shape=w}};return{mapInfo:i,fetchNewMapInfo:async()=>{await o(t,e),await s(t,e),await l(t,e)}}}const up=t=>{const e=st(null),i=st(!1);let o=null;const s=()=>new Promise(h=>{e.value=ae.map(t,{center:[23.7,121],zoom:7}),ae.tileLayer(xu,{maxZoom:20,attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'}).addTo(e.value).on("load",()=>{h()})}),l=h=>{let m;const{stops:_,busList:w,shape:b}=h;b?m=b:m=_.map(y=>{const v=y.StopPosition.PositionLon;return[y.StopPosition.PositionLat,v]}),u(),_.forEach((y,v)=>d(y,v)),w.forEach(y=>f(y)),o=ae.polyline(m,{color:"#fcd42c"}).addTo(e.value),i.value||(i.value=!0,e.value.flyToBounds(o.getBounds()))},u=()=>{o=null,e.value.eachLayer(h=>{(h instanceof ae.Marker||h instanceof ae.Polyline)&&e.value.removeLayer(h)})},f=h=>{const m=h.BusPosition.PositionLon,_=h.BusPosition.PositionLat,w=ae.marker([_,m],{icon:sx}).addTo(e.value).bindPopup(`<h6 class="popup-name">${h.PlateNumb}</h6>`);w.markerId=h.PlateNumb,w.lng=m,w.lat=_},d=(h,m)=>{const _=h.StopPosition.PositionLon,w=h.StopPosition.PositionLat,b=ae.marker([w,_],{icon:ae.divIcon({className:"map-marker",html:`<span class="marker-label">${m+1}</span>`})}).addTo(e.value).bindPopup(`<h6 class="popup-name">${h.StopName.Zh_tw}</h6>`);b.markerId=h.StopUID,b.lng=_,b.lat=w};return{map:e,isMapReady:i,initMap:s,isMapReady:i,renderRouteMap:l}};function ki(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Ne(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function ns(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ns=function(i){return typeof i}:ns=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},ns(t)}function sn(t){Ne(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||ns(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function cx(t,e){Ne(2,arguments);var i=sn(t).getTime(),o=ki(e);return new Date(i+o)}var fx={};function Vs(){return fx}function dx(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function is(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?is=function(i){return typeof i}:is=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},is(t)}function hx(t){return Ne(1,arguments),t instanceof Date||is(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function px(t){if(Ne(1,arguments),!hx(t)&&typeof t!="number")return!1;var e=sn(t);return!isNaN(Number(e))}function mx(t,e){Ne(2,arguments);var i=ki(e);return cx(t,-i)}var _x=864e5;function vx(t){Ne(1,arguments);var e=sn(t),i=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var o=e.getTime(),s=i-o;return Math.floor(s/_x)+1}function ys(t){Ne(1,arguments);var e=1,i=sn(t),o=i.getUTCDay(),s=(o<e?7:0)+o-e;return i.setUTCDate(i.getUTCDate()-s),i.setUTCHours(0,0,0,0),i}function cp(t){Ne(1,arguments);var e=sn(t),i=e.getUTCFullYear(),o=new Date(0);o.setUTCFullYear(i+1,0,4),o.setUTCHours(0,0,0,0);var s=ys(o),l=new Date(0);l.setUTCFullYear(i,0,4),l.setUTCHours(0,0,0,0);var u=ys(l);return e.getTime()>=s.getTime()?i+1:e.getTime()>=u.getTime()?i:i-1}function gx(t){Ne(1,arguments);var e=cp(t),i=new Date(0);i.setUTCFullYear(e,0,4),i.setUTCHours(0,0,0,0);var o=ys(i);return o}var yx=6048e5;function wx(t){Ne(1,arguments);var e=sn(t),i=ys(e).getTime()-gx(e).getTime();return Math.round(i/yx)+1}function ws(t,e){var i,o,s,l,u,f,d,h;Ne(1,arguments);var m=Vs(),_=ki((i=(o=(s=(l=e==null?void 0:e.weekStartsOn)!==null&&l!==void 0?l:e==null||(u=e.locale)===null||u===void 0||(f=u.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&s!==void 0?s:m.weekStartsOn)!==null&&o!==void 0?o:(d=m.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&i!==void 0?i:0);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var w=sn(t),b=w.getUTCDay(),y=(b<_?7:0)+b-_;return w.setUTCDate(w.getUTCDate()-y),w.setUTCHours(0,0,0,0),w}function fp(t,e){var i,o,s,l,u,f,d,h;Ne(1,arguments);var m=sn(t),_=m.getUTCFullYear(),w=Vs(),b=ki((i=(o=(s=(l=e==null?void 0:e.firstWeekContainsDate)!==null&&l!==void 0?l:e==null||(u=e.locale)===null||u===void 0||(f=u.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&s!==void 0?s:w.firstWeekContainsDate)!==null&&o!==void 0?o:(d=w.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(b>=1&&b<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setUTCFullYear(_+1,0,b),y.setUTCHours(0,0,0,0);var v=ws(y,e),x=new Date(0);x.setUTCFullYear(_,0,b),x.setUTCHours(0,0,0,0);var P=ws(x,e);return m.getTime()>=v.getTime()?_+1:m.getTime()>=P.getTime()?_:_-1}function bx(t,e){var i,o,s,l,u,f,d,h;Ne(1,arguments);var m=Vs(),_=ki((i=(o=(s=(l=e==null?void 0:e.firstWeekContainsDate)!==null&&l!==void 0?l:e==null||(u=e.locale)===null||u===void 0||(f=u.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&s!==void 0?s:m.firstWeekContainsDate)!==null&&o!==void 0?o:(d=m.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&i!==void 0?i:1),w=fp(t,e),b=new Date(0);b.setUTCFullYear(w,0,_),b.setUTCHours(0,0,0,0);var y=ws(b,e);return y}var xx=6048e5;function Cx(t,e){Ne(1,arguments);var i=sn(t),o=ws(i,e).getTime()-bx(i,e).getTime();return Math.round(o/xx)+1}function Vt(t,e){for(var i=t<0?"-":"",o=Math.abs(t).toString();o.length<e;)o="0"+o;return i+o}var Sx={y:function(e,i){var o=e.getUTCFullYear(),s=o>0?o:1-o;return Vt(i==="yy"?s%100:s,i.length)},M:function(e,i){var o=e.getUTCMonth();return i==="M"?String(o+1):Vt(o+1,2)},d:function(e,i){return Vt(e.getUTCDate(),i.length)},a:function(e,i){var o=e.getUTCHours()/12>=1?"pm":"am";switch(i){case"a":case"aa":return o.toUpperCase();case"aaa":return o;case"aaaaa":return o[0];case"aaaa":default:return o==="am"?"a.m.":"p.m."}},h:function(e,i){return Vt(e.getUTCHours()%12||12,i.length)},H:function(e,i){return Vt(e.getUTCHours(),i.length)},m:function(e,i){return Vt(e.getUTCMinutes(),i.length)},s:function(e,i){return Vt(e.getUTCSeconds(),i.length)},S:function(e,i){var o=i.length,s=e.getUTCMilliseconds(),l=Math.floor(s*Math.pow(10,o-3));return Vt(l,i.length)}};const Wn=Sx;var Wi={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Px={G:function(e,i,o){var s=e.getUTCFullYear()>0?1:0;switch(i){case"G":case"GG":case"GGG":return o.era(s,{width:"abbreviated"});case"GGGGG":return o.era(s,{width:"narrow"});case"GGGG":default:return o.era(s,{width:"wide"})}},y:function(e,i,o){if(i==="yo"){var s=e.getUTCFullYear(),l=s>0?s:1-s;return o.ordinalNumber(l,{unit:"year"})}return Wn.y(e,i)},Y:function(e,i,o,s){var l=fp(e,s),u=l>0?l:1-l;if(i==="YY"){var f=u%100;return Vt(f,2)}return i==="Yo"?o.ordinalNumber(u,{unit:"year"}):Vt(u,i.length)},R:function(e,i){var o=cp(e);return Vt(o,i.length)},u:function(e,i){var o=e.getUTCFullYear();return Vt(o,i.length)},Q:function(e,i,o){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(i){case"Q":return String(s);case"QQ":return Vt(s,2);case"Qo":return o.ordinalNumber(s,{unit:"quarter"});case"QQQ":return o.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return o.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,i,o){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(i){case"q":return String(s);case"qq":return Vt(s,2);case"qo":return o.ordinalNumber(s,{unit:"quarter"});case"qqq":return o.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return o.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,i,o){var s=e.getUTCMonth();switch(i){case"M":case"MM":return Wn.M(e,i);case"Mo":return o.ordinalNumber(s+1,{unit:"month"});case"MMM":return o.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return o.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(s,{width:"wide",context:"formatting"})}},L:function(e,i,o){var s=e.getUTCMonth();switch(i){case"L":return String(s+1);case"LL":return Vt(s+1,2);case"Lo":return o.ordinalNumber(s+1,{unit:"month"});case"LLL":return o.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return o.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(s,{width:"wide",context:"standalone"})}},w:function(e,i,o,s){var l=Cx(e,s);return i==="wo"?o.ordinalNumber(l,{unit:"week"}):Vt(l,i.length)},I:function(e,i,o){var s=wx(e);return i==="Io"?o.ordinalNumber(s,{unit:"week"}):Vt(s,i.length)},d:function(e,i,o){return i==="do"?o.ordinalNumber(e.getUTCDate(),{unit:"date"}):Wn.d(e,i)},D:function(e,i,o){var s=vx(e);return i==="Do"?o.ordinalNumber(s,{unit:"dayOfYear"}):Vt(s,i.length)},E:function(e,i,o){var s=e.getUTCDay();switch(i){case"E":case"EE":case"EEE":return o.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return o.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(s,{width:"short",context:"formatting"});case"EEEE":default:return o.day(s,{width:"wide",context:"formatting"})}},e:function(e,i,o,s){var l=e.getUTCDay(),u=(l-s.weekStartsOn+8)%7||7;switch(i){case"e":return String(u);case"ee":return Vt(u,2);case"eo":return o.ordinalNumber(u,{unit:"day"});case"eee":return o.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return o.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(l,{width:"short",context:"formatting"});case"eeee":default:return o.day(l,{width:"wide",context:"formatting"})}},c:function(e,i,o,s){var l=e.getUTCDay(),u=(l-s.weekStartsOn+8)%7||7;switch(i){case"c":return String(u);case"cc":return Vt(u,i.length);case"co":return o.ordinalNumber(u,{unit:"day"});case"ccc":return o.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return o.day(l,{width:"narrow",context:"standalone"});case"cccccc":return o.day(l,{width:"short",context:"standalone"});case"cccc":default:return o.day(l,{width:"wide",context:"standalone"})}},i:function(e,i,o){var s=e.getUTCDay(),l=s===0?7:s;switch(i){case"i":return String(l);case"ii":return Vt(l,i.length);case"io":return o.ordinalNumber(l,{unit:"day"});case"iii":return o.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return o.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return o.day(s,{width:"short",context:"formatting"});case"iiii":default:return o.day(s,{width:"wide",context:"formatting"})}},a:function(e,i,o){var s=e.getUTCHours(),l=s/12>=1?"pm":"am";switch(i){case"a":case"aa":return o.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return o.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return o.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(e,i,o){var s=e.getUTCHours(),l;switch(s===12?l=Wi.noon:s===0?l=Wi.midnight:l=s/12>=1?"pm":"am",i){case"b":case"bb":return o.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return o.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return o.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(e,i,o){var s=e.getUTCHours(),l;switch(s>=17?l=Wi.evening:s>=12?l=Wi.afternoon:s>=4?l=Wi.morning:l=Wi.night,i){case"B":case"BB":case"BBB":return o.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return o.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(e,i,o){if(i==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),o.ordinalNumber(s,{unit:"hour"})}return Wn.h(e,i)},H:function(e,i,o){return i==="Ho"?o.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Wn.H(e,i)},K:function(e,i,o){var s=e.getUTCHours()%12;return i==="Ko"?o.ordinalNumber(s,{unit:"hour"}):Vt(s,i.length)},k:function(e,i,o){var s=e.getUTCHours();return s===0&&(s=24),i==="ko"?o.ordinalNumber(s,{unit:"hour"}):Vt(s,i.length)},m:function(e,i,o){return i==="mo"?o.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Wn.m(e,i)},s:function(e,i,o){return i==="so"?o.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Wn.s(e,i)},S:function(e,i){return Wn.S(e,i)},X:function(e,i,o,s){var l=s._originalDate||e,u=l.getTimezoneOffset();if(u===0)return"Z";switch(i){case"X":return Vf(u);case"XXXX":case"XX":return vi(u);case"XXXXX":case"XXX":default:return vi(u,":")}},x:function(e,i,o,s){var l=s._originalDate||e,u=l.getTimezoneOffset();switch(i){case"x":return Vf(u);case"xxxx":case"xx":return vi(u);case"xxxxx":case"xxx":default:return vi(u,":")}},O:function(e,i,o,s){var l=s._originalDate||e,u=l.getTimezoneOffset();switch(i){case"O":case"OO":case"OOO":return"GMT"+qf(u,":");case"OOOO":default:return"GMT"+vi(u,":")}},z:function(e,i,o,s){var l=s._originalDate||e,u=l.getTimezoneOffset();switch(i){case"z":case"zz":case"zzz":return"GMT"+qf(u,":");case"zzzz":default:return"GMT"+vi(u,":")}},t:function(e,i,o,s){var l=s._originalDate||e,u=Math.floor(l.getTime()/1e3);return Vt(u,i.length)},T:function(e,i,o,s){var l=s._originalDate||e,u=l.getTime();return Vt(u,i.length)}};function qf(t,e){var i=t>0?"-":"+",o=Math.abs(t),s=Math.floor(o/60),l=o%60;if(l===0)return i+String(s);var u=e||"";return i+String(s)+u+Vt(l,2)}function Vf(t,e){if(t%60===0){var i=t>0?"-":"+";return i+Vt(Math.abs(t)/60,2)}return vi(t,e)}function vi(t,e){var i=e||"",o=t>0?"-":"+",s=Math.abs(t),l=Vt(Math.floor(s/60),2),u=Vt(s%60,2);return o+l+i+u}const Tx=Px;var Kf=function(e,i){switch(e){case"P":return i.date({width:"short"});case"PP":return i.date({width:"medium"});case"PPP":return i.date({width:"long"});case"PPPP":default:return i.date({width:"full"})}},dp=function(e,i){switch(e){case"p":return i.time({width:"short"});case"pp":return i.time({width:"medium"});case"ppp":return i.time({width:"long"});case"pppp":default:return i.time({width:"full"})}},Ex=function(e,i){var o=e.match(/(P+)(p+)?/)||[],s=o[1],l=o[2];if(!l)return Kf(e,i);var u;switch(s){case"P":u=i.dateTime({width:"short"});break;case"PP":u=i.dateTime({width:"medium"});break;case"PPP":u=i.dateTime({width:"long"});break;case"PPPP":default:u=i.dateTime({width:"full"});break}return u.replace("{{date}}",Kf(s,i)).replace("{{time}}",dp(l,i))},Lx={p:dp,P:Ex};const kx=Lx;var Ox=["D","DD"],Mx=["YY","YYYY"];function Ax(t){return Ox.indexOf(t)!==-1}function Ix(t){return Mx.indexOf(t)!==-1}function Yf(t,e,i){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(i,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(i,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(i,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(i,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Rx={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Nx=function(e,i,o){var s,l=Rx[e];return typeof l=="string"?s=l:i===1?s=l.one:s=l.other.replace("{{count}}",i.toString()),o!=null&&o.addSuffix?o.comparison&&o.comparison>0?"in "+s:s+" ago":s};const Bx=Nx;function Xa(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=e.width?String(e.width):t.defaultWidth,o=t.formats[i]||t.formats[t.defaultWidth];return o}}var Dx={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$x={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zx={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Fx={date:Xa({formats:Dx,defaultWidth:"full"}),time:Xa({formats:$x,defaultWidth:"full"}),dateTime:Xa({formats:zx,defaultWidth:"full"})};const Ux=Fx;var Zx={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Hx=function(e,i,o,s){return Zx[e]};const Wx=Hx;function Rr(t){return function(e,i){var o=i!=null&&i.context?String(i.context):"standalone",s;if(o==="formatting"&&t.formattingValues){var l=t.defaultFormattingWidth||t.defaultWidth,u=i!=null&&i.width?String(i.width):l;s=t.formattingValues[u]||t.formattingValues[l]}else{var f=t.defaultWidth,d=i!=null&&i.width?String(i.width):t.defaultWidth;s=t.values[d]||t.values[f]}var h=t.argumentCallback?t.argumentCallback(e):e;return s[h]}}var jx={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qx={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Vx={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Kx={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Yx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Gx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Jx=function(e,i){var o=Number(e),s=o%100;if(s>20||s<10)switch(s%10){case 1:return o+"st";case 2:return o+"nd";case 3:return o+"rd"}return o+"th"},Xx={ordinalNumber:Jx,era:Rr({values:jx,defaultWidth:"wide"}),quarter:Rr({values:qx,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Rr({values:Vx,defaultWidth:"wide"}),day:Rr({values:Kx,defaultWidth:"wide"}),dayPeriod:Rr({values:Yx,defaultWidth:"wide",formattingValues:Gx,defaultFormattingWidth:"wide"})};const Qx=Xx;function Nr(t){return function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.width,s=o&&t.matchPatterns[o]||t.matchPatterns[t.defaultMatchWidth],l=e.match(s);if(!l)return null;var u=l[0],f=o&&t.parsePatterns[o]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(f)?e1(f,function(_){return _.test(u)}):t1(f,function(_){return _.test(u)}),h;h=t.valueCallback?t.valueCallback(d):d,h=i.valueCallback?i.valueCallback(h):h;var m=e.slice(u.length);return{value:h,rest:m}}}function t1(t,e){for(var i in t)if(t.hasOwnProperty(i)&&e(t[i]))return i}function e1(t,e){for(var i=0;i<t.length;i++)if(e(t[i]))return i}function n1(t){return function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=e.match(t.matchPattern);if(!o)return null;var s=o[0],l=e.match(t.parsePattern);if(!l)return null;var u=t.valueCallback?t.valueCallback(l[0]):l[0];u=i.valueCallback?i.valueCallback(u):u;var f=e.slice(s.length);return{value:u,rest:f}}}var i1=/^(\d+)(th|st|nd|rd)?/i,r1=/\d+/i,o1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},s1={any:[/^b/i,/^(a|c)/i]},a1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},l1={any:[/1/i,/2/i,/3/i,/4/i]},u1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},c1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},f1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},d1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},h1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},p1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},m1={ordinalNumber:n1({matchPattern:i1,parsePattern:r1,valueCallback:function(e){return parseInt(e,10)}}),era:Nr({matchPatterns:o1,defaultMatchWidth:"wide",parsePatterns:s1,defaultParseWidth:"any"}),quarter:Nr({matchPatterns:a1,defaultMatchWidth:"wide",parsePatterns:l1,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Nr({matchPatterns:u1,defaultMatchWidth:"wide",parsePatterns:c1,defaultParseWidth:"any"}),day:Nr({matchPatterns:f1,defaultMatchWidth:"wide",parsePatterns:d1,defaultParseWidth:"any"}),dayPeriod:Nr({matchPatterns:h1,defaultMatchWidth:"any",parsePatterns:p1,defaultParseWidth:"any"})};const _1=m1;var v1={code:"en-US",formatDistance:Bx,formatLong:Ux,formatRelative:Wx,localize:Qx,match:_1,options:{weekStartsOn:0,firstWeekContainsDate:1}};const g1=v1;var y1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,w1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,b1=/^'([^]*?)'?$/,x1=/''/g,C1=/[a-zA-Z]/;function Al(t,e,i){var o,s,l,u,f,d,h,m,_,w,b,y,v,x,P,S,E,M;Ne(2,arguments);var V=String(e),G=Vs(),dt=(o=(s=i==null?void 0:i.locale)!==null&&s!==void 0?s:G.locale)!==null&&o!==void 0?o:g1,rt=ki((l=(u=(f=(d=i==null?void 0:i.firstWeekContainsDate)!==null&&d!==void 0?d:i==null||(h=i.locale)===null||h===void 0||(m=h.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&f!==void 0?f:G.firstWeekContainsDate)!==null&&u!==void 0?u:(_=G.locale)===null||_===void 0||(w=_.options)===null||w===void 0?void 0:w.firstWeekContainsDate)!==null&&l!==void 0?l:1);if(!(rt>=1&&rt<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _t=ki((b=(y=(v=(x=i==null?void 0:i.weekStartsOn)!==null&&x!==void 0?x:i==null||(P=i.locale)===null||P===void 0||(S=P.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&v!==void 0?v:G.weekStartsOn)!==null&&y!==void 0?y:(E=G.locale)===null||E===void 0||(M=E.options)===null||M===void 0?void 0:M.weekStartsOn)!==null&&b!==void 0?b:0);if(!(_t>=0&&_t<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!dt.localize)throw new RangeError("locale must contain localize property");if(!dt.formatLong)throw new RangeError("locale must contain formatLong property");var ct=sn(t);if(!px(ct))throw new RangeError("Invalid time value");var ht=dx(ct),tt=mx(ct,ht),kt={firstWeekContainsDate:rt,weekStartsOn:_t,locale:dt,_originalDate:ct},Ot=V.match(w1).map(function(Rt){var xt=Rt[0];if(xt==="p"||xt==="P"){var Tt=kx[xt];return Tt(Rt,dt.formatLong)}return Rt}).join("").match(y1).map(function(Rt){if(Rt==="''")return"'";var xt=Rt[0];if(xt==="'")return S1(Rt);var Tt=Tx[xt];if(Tt)return!(i!=null&&i.useAdditionalWeekYearTokens)&&Ix(Rt)&&Yf(Rt,e,String(t)),!(i!=null&&i.useAdditionalDayOfYearTokens)&&Ax(Rt)&&Yf(Rt,e,String(t)),Tt(tt,Rt,dt.localize,kt);if(xt.match(C1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+xt+"`");return Rt}).join("");return Ot}function S1(t){var e=t.match(b1);return e?e[1].replace(x1,"'"):t}function P1(t,e,i){if(arguments.length<3)throw new TypeError("3 argument required, but only "+arguments.length+" present");var o=new Date(t,e,i);return o.getFullYear()===t&&o.getMonth()===e&&o.getDate()===i}function T1(t){return Ne(1,arguments),sn(t).getTime()<Date.now()}function hp(t,e){const i=st({}),o=st([]),s=st([]);return{schedule:i,forwardTime:o,backwardTime:s,fetchBusSchedule:async()=>{let f=`Schedule/City/${e}`;e||(f="Schedule/InterCity");const d=await ke.get(`${f}/${t}`);i.value=es(t,d.data)},getDepartureTimeByDate:f=>{const d=Al(f,"EEEE"),[h,m]=jr(i.value),_=[h,m].map(w=>w.reduce((y,v)=>(v.Timetables.forEach(x=>{var S;((S=x==null?void 0:x.ServiceDay)==null?void 0:S[d])===1&&x.StopTimes.forEach(E=>{E.StopSequence===1&&y.push(E.DepartureTime)})}),y),[]).sort((y,v)=>{const x=y.split(":").join(""),P=v.split(":").join("");return x>P?1:x<P?-1:0}));o.value=_[0],s.value=_[1]}}}function pp(t,e){let i=null;const o=st([]),s=st([]);async function l(){try{$.hasError=!1,i=await rx(t,e),await u(),f(),h(),m(),_()}catch(y){$.hasError=!0,$.errorMsg=y.message||"對不起，發生錯誤"}}async function u(){$.stopsOfRoute||await op(t,e)}function f(){i.forEach(y=>{y.StageFares&&y.StageFares.forEach(v=>{const x=v.OriginStage,P=v.DestinationStage;v.Fares.every(S=>S.Price===-1)||(d(x)<0&&o.value.push(x),d(P)<0&&o.value.push(P))})})}function d(y){return o.value.findIndex(v=>v.StopID===y.StopID)}function h(){o.value.sort((y,v)=>{const x=$.stopsOfRoute.forward.Stops.findIndex(S=>S.StopName.Zh_tw===y.StopName),P=$.stopsOfRoute.forward.Stops.findIndex(S=>S.StopName.Zh_tw===v.StopName);return x-P})}function m(){const y=o.value.length;s.value=Array.from(Array(y),()=>Array(y)),i.forEach(v=>{v.StageFares&&v.StageFares.forEach(x=>{x.Fares.forEach(P=>{P.Price!==-1&&w(x.OriginStage,x.DestinationStage,P)})})})}function _(){s.value.forEach(y=>{y.forEach(v=>{v&&v.forEach(x=>{x.tickets.sort((P,S)=>P.name.localeCompare(S.name))})})})}function w(y,v,x){const[P,S,E]=x.FareName.split("_");let M=d(y),V=d(v);M>V&&([M,V]=[V,M]),s.value[M][V]||(s.value[M][V]=[]);const G=s.value[M][V],dt={name:P,price:x.Price},rt=G.find(ct=>ct.seat===E),_t=rt==null?void 0:rt.tickets.some(ct=>ct.name===P&&ct.price===x.Price);rt&&!_t?rt.tickets.push(dt):rt||G.push({seat:E,tickets:[dt]})}function b(y,v){try{let x=d(y),P=d(v);if(x>P&&([x,P]=[P,x]),s.value.length===0)throw new Error("對不起，沒有此路線的票價資訊");return s.value[x][P]?JSON.parse(JSON.stringify(s.value[x][P])):void 0}catch(x){$.hasError=!0,$.errorMsg=x.message||"對不起，發生錯誤"}}return{fareMap:s,stages:o,init:l,getStageFare:b}}const E1=Math.asin,Gf=Math.cos,L1=Math.sin,k1=Math.sqrt,O1=Math.PI,M1=6378137;function A1(t){return t*t}function Zo(t){return t*O1/180}function Jf(t){return A1(L1(t/2))}function I1(t,e){const i=Zo(Array.isArray(t)?t[1]:t.latitude||t.lat),o=Zo(Array.isArray(e)?e[1]:e.latitude||e.lat),s=Zo(Array.isArray(t)?t[0]:t.longitude||t.lng||t.lon),l=Zo(Array.isArray(e)?e[0]:e.longitude||e.lng||e.lon),u=Jf(o-i)+Gf(i)*Gf(o)*Jf(l-s);return 2*M1*E1(k1(u))}var R1=I1;let Xf;function mp(){function t(l=500){return $.isLoading=!0,e(),i(l),s}function e(){if(!navigator.geolocation)throw new Error("瀏覽器不支援地理位置資訊，無法取得附近公車站位")}function i(l){Xf=navigator.geolocation.watchPosition(async u=>{try{$.hasError=!1;const f=u.coords.latitude,d=u.coords.longitude;$.userPosition={lat:f,lng:d};const m=(await o(f,d,l)).data.map(_=>{const w=R1({lat:f,lng:d},{lat:_.StationPosition.PositionLat,lng:_.StationPosition.PositionLon});return _.Distance=Math.round(w),_});m.sort((_,w)=>_.Distance-w.Distance),$.nearByStations=m}catch(f){$.hasError=!0,$.errorMsg=f.message}finally{$.isLoading=!1}})}async function o(l,u,f){return await ke.get("Station/NearBy",{baseURL:ip,params:{$top:20,$spatialFilter:`nearby(${l}, ${u}, ${f})`}})}function s(){navigator.geolocation.clearWatch(Xf)}return t}const _p=()=>{const t=st(null),e=st(!1),i=f=>(e.value=!1,t.value=null,new Promise(d=>{t.value=ae.map(f,{center:[23.7,121],zoom:7}),ae.tileLayer(xu,{maxZoom:20,attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'}).addTo(t.value).on("load",()=>{e.value=!0,d()})})),o=()=>{e.value&&$.userPosition.lat&&(t.value.flyTo($.userPosition,15),s(),u($.nearByStations),l($.userPosition))},s=()=>{t.value.eachLayer(f=>{(f instanceof ae.Marker||f instanceof ae.Polyline)&&t.value.removeLayer(f)})},l=f=>{const d=f.lng,h=f.lat;ae.marker([h,d],{icon:ae.divIcon({className:"user-marker"})}).addTo(t.value)},u=f=>{for(let d=0;d<f.length;d++){const h=f[d],m=h.StationPosition.PositionLon,_=h.StationPosition.PositionLat;ae.marker([_,m],{icon:ae.divIcon({className:"map-marker",html:'<span class="marker-label">S</span>'})}).addTo(t.value).bindPopup(`<h6 class="popup-name">
            ${h.StationName.Zh_tw}(${qs(h.Bearing)})
          </h6>`)}};return{map:t,isMapReady:e,initMap:i,renderNearByMap:o}};function N1(){async function t(e,i){var o,s;if(!(((o=$==null?void 0:$.station)==null?void 0:o.StationID)===e&&lx(i)===((s=$==null?void 0:$.station)==null?void 0:s.StationUID.slice(0,3))))try{$.isLoading=!0,$.hasError=!1;const[l,u]=await Promise.all([nx(e,i),ix(e,i)]);if(!l)throw new Error("對不起，沒有這個站位");$.station=l,$.station.routes=u,$.city=i}catch(l){$.hasError=!0,$.errorMsg=l.message}finally{$.isLoading=!1}}return t}const B1=()=>{const t=st(null),e=st(!1),i=u=>(e.value=!1,t.value=null,new Promise(f=>{t.value=ae.map(u,{center:[23.7,121],zoom:7}),ae.tileLayer(xu,{maxZoom:20,attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'}).addTo(t.value).on("load",()=>{e.value=!0,f()})})),o=()=>{var u,f;if(e.value&&((f=(u=$.station)==null?void 0:u.StationPosition)!=null&&f.PositionLat)){const d={lat:$.station.StationPosition.PositionLat,lng:$.station.StationPosition.PositionLon};t.value.flyTo(d,15),s(),l($.station)}},s=()=>{t.value.eachLayer(u=>{(u instanceof ae.Marker||u instanceof ae.Polyline)&&t.value.removeLayer(u)})},l=u=>{const f=u.StationPosition.PositionLon,d=u.StationPosition.PositionLat;ae.marker([d,f],{icon:ae.divIcon({className:"map-marker",html:'<span class="marker-label">S</span>'})}).addTo(t.value).bindPopup(`<h6 class="popup-name">
          ${u.StationName.Zh_tw}
          (${qs(u.Bearing)})
        </h6>`)};return{map:t,isMapReady:e,initMap:i,renderStationMap:o}},Qa={state:$,useRoutes:sp,useArrivalsInfo:ap,useRouteMapInfo:lp,useRouteMap:up,useSchedule:hp,useRouteFare:pp,useNearBy:mp,useNearByMap:_p,useStation:N1,useStationMap:B1},D1=""+new URL("loading-5cb03800.svg",import.meta.url).href,$1={class:"text-center","data-testid":"loader"},z1=["src","width"],gn={__name:"Loading",props:{width:{type:Number,required:!1,default:70}},setup(t){const e=t;return(i,o)=>(N(),Z("div",$1,[O("img",{src:W(D1),width:e.width,alt:"讀取中..."},null,8,z1)]))}},F1={key:0,class:"fs-7 text-light px-3 pt-5"},U1={key:1,class:"h-100"},Z1={key:0,class:"fs-6 text-light px-3 pt-5"},H1={key:1},W1={key:2,class:"text-center text-light"},j1={key:3,class:"list-group"},q1={key:0,class:"mb-0"},V1={key:1,class:"mb-0"},K1={key:2,class:"text-light fs-7"},Y1=O("span",{class:"text-primary mx-1"},"往",-1),G1={key:3,class:"text-light fs-7"},J1={key:4,class:"text-light fs-7"},X1={class:"h-7rem flex-center"},Cu={__name:"RoutesList",props:{type:{type:String,required:!0,default:"city"}},emits:["onScroll"],setup(t,{emit:e}){const i=t,o=st(null),s=st(!1);let l=!1;const{fetchNewRoutes:u,fetchRemainingRoutes:f,clearRoutes:d,isEnd:h}=sp(i.type),m=ie(()=>i.type.includes("from-to")?$.from:i.type.includes("intercity")?$.inputRouteName2:$.inputRouteName),_=ie(()=>{if(i.type.includes("from-to"))return $.to;if(!i.type.includes("intercity"))return $.inputCity});Zd(async()=>{if(i.type==="city"&&!_.value){d();return}if(i.type.includes("from-to")&&!m.value&&!_.value){d();return}if(!m.value){d();return}try{$.isLoading=!0,$.hasError=!1,await u(m.value,_.value)}catch(v){$.hasError=!0,$.errorMsg=v.message}finally{$.isLoading=!1}});async function w(){var x;const v=(x=o.value)==null?void 0:x.parentElement;v&&(e("onScroll"),v.offsetHeight+v.scrollTop>=v.scrollHeight-150&&!h.value&&(s.value=!0,await f(),s.value=!1))}function b(v){l||(window.requestAnimationFrame(async()=>{await w(),l=!1}),l=!0)}const y=v=>({routeName:v.RouteName.Zh_tw,...v.IsSubRoute&&{subRouteName:v.SubRouteName.Zh_tw},...i.type==="city"&&{city:v.City}});return In(()=>{var x;const v=(x=o.value)==null?void 0:x.parentElement;v==null||v.addEventListener("scroll",b)}),ei(()=>{var x;const v=(x=o.value)==null?void 0:x.parentElement;v==null||v.removeEventListener("scroll",b)}),(v,x)=>{const P=Rn("router-link");return N(),Z("div",{ref_key:"container",ref:o,class:"h-100"},[i.type==="city"&&!W($).inputCity?(N(),Z("h4",F1," 請先選擇縣市 ")):(N(),Z("div",U1,[W($).inputCity&&t.type==="city"?(N(),Z("h4",Z1,wt(W(so)(W($).inputCity)),1)):Yt("",!0),W($).isLoading?(N(),Z("div",H1,[I(gn,{width:70})])):W($).hasError?(N(),Z("h4",W1,wt(W($).errorMsg),1)):(N(),Z("ul",j1,[(N(!0),Z(jt,null,ge(W($).routes,(S,E)=>(N(),Z("li",{key:S.SubRouteID||S.RouteID,class:Te(["list-group-item list-group-item-action",{"bg-secondary":E%2===0}])},[I(P,{to:{name:t.type==="city"?"RoutePage":"InterCityRoutePage",params:y(S)},class:"d-block link-primary text-decoration-none"},{default:Y(()=>[S.IsSubRoute?(N(),Z("h6",q1,wt(S.SubRouteName.Zh_tw),1)):(N(),Z("h6",V1,wt(S.RouteName.Zh_tw),1)),t.type==="city"?(N(),Z("p",K1,[lt(wt(S.DepartureStopNameZh)+" ",1),Y1,lt(" "+wt(S.DestinationStopNameZh),1)])):S.Headsign?(N(),Z("p",G1,wt(S.Headsign),1)):(N(),Z("p",J1,wt(S.DepartureStopNameZh)+"→"+wt(S.DestinationStopNameZh),1))]),_:2},1032,["to"])],2))),128))])),Ie(O("div",X1,[Ie(I(gn,{width:70},null,512),[[Ye,s.value]])],512),[[Ye,!W(h)]])]))],512)}}},Q1=""+new URL("logo-950c1aa0.png",import.meta.url).href;const Ai=(t,e)=>{const i=t.__vccOpts||t;for(const[o,s]of e)i[o]=s;return i},tC={class:"m-0 lh-1 hide-text"},eC=["src"],nC={__name:"Logo",setup(t){return(e,i)=>{const o=Rn("router-link");return N(),Z("h1",tC,[I(o,{to:{name:"Home"},title:"回首頁"},{default:Y(()=>[O("img",{src:W(Q1),title:"回首頁",alt:"回首頁",class:"logo-header-size"},null,8,eC),lt(" Taiwan Bus ")]),_:1})])}}},Ii=Ai(nC,[["__scopeId","data-v-103e5fb9"]]),iC={class:"header-shadow bg-dark row p-3 px-lg-0"},rC={class:"col-auto"},oC={class:"col"},sC=["readonly"],vp={__name:"SearchHeader",setup(t){const{showKeyboard:e,getRouteName:i,updateRouteName:o}=ue("input"),{isManual:s}=ue("isManual"),l=st(null),u=ie({get(){return i()},set(d){o(d)}});Me(s,d=>{d&&l.value.focus()});const f=d=>{s.value||(e.value=!0)};return(d,h)=>(N(),Z("header",iC,[O("div",rC,[I(Ii)]),O("div",oC,[Ie(O("input",{ref_key:"textInput",ref:l,"onUpdate:modelValue":h[0]||(h[0]=m=>Ee(u)?u.value=m:null),readonly:!W(s),onClick:f,type:"text",class:"form-control bg-secondary py-md-3 ls-1",placeholder:"選擇路線或手動輸入關鍵字"},null,8,sC),[[gg,W(u),void 0,{trim:!0}]])])]))}},mt={__name:"KeyItem",props:{white:Boolean},setup(t){const e=t,i=ie(()=>({"text-light":e.white}));return(o,s)=>(N(),Z("button",{type:"button",class:Te(["btn btn-outline-primary btn-sm w-100",W(i)])},[eo(o.$slots,"default")],2))}},gp=""+new URL("delete-icon-6fc566bb.svg",import.meta.url).href,aC={key:0,class:"bg-secondary p-4 px-md-7 py-md-5 p-lg-4"},lC={class:"row g-1 mb-3"},uC={class:"col-6"},cC=["src"],fC={key:0},dC={key:1},hC={class:"col-4"},pC={class:"row row-cols-5 g-1"},mC={class:"col"},_C={class:"col"},vC={class:"col"},gC={class:"col"},yC={class:"col"},wC={class:"col"},bC={class:"col"},xC={class:"col"},CC={class:"col"},SC={class:"col"},PC={class:"col"},TC={class:"col"},EC={class:"col"},LC={class:"col"},kC={class:"col"},OC={class:"col"},MC={class:"col"},AC={class:"col"},IC={class:"col"},RC={class:"col"},NC=["src"],BC={key:1,class:"bg-secondary p-4 px-md-7 py-md-5 p-lg-4"},DC={class:"row row-cols-5 g-1"},$C={class:"col flex-grow-1"},zC={key:2,class:"bg-secondary p-4 px-md-7 py-md-5 p-lg-4"},FC={class:"row row-cols-5 g-1"},UC={class:"col"},ZC={class:"col"},HC={class:"col"},WC={class:"col"},jC={class:"col"},qC={class:"col"},VC={class:"col"},KC={class:"col"},YC={class:"col"},GC={class:"col"},JC={class:"col"},XC={class:"col"},QC={class:"col flex-grow-1"},tS={__name:"KeyBoard",setup(t){const{getCity:e,updateCity:i,getRouteName:o,updateRouteName:s}=ue("input"),{isManual:l,updateIsManual:u}=ue("isManual"),f=st(1),d=st(null),h=ie(()=>d.value?d.value:e()),m=()=>{u(!0)},_=y=>{d.value=y},w=()=>{i(d.value),f.value=1},b=y=>{l.value||(typeof y=="string"?s(o()+y):y===-1?s(o().slice(0,-1)):y||s(""))};return(y,v)=>(N(),Z("div",null,[f.value===1?(N(),Z("div",aC,[O("div",lC,[O("div",uC,[I(mt,{onClick:v[0]||(v[0]=x=>f.value=2),white:""},{default:Y(()=>[O("img",{src:W(su),width:"13",height:"15.89",class:"me-2"},null,8,cC),W($).inputCity?(N(),Z("span",fC,wt(W(so)(W($).inputCity)),1)):(N(),Z("span",dC,"選擇縣市"))]),_:1})]),O("div",hC,[I(mt,{onClick:v[1]||(v[1]=x=>m())},{default:Y(()=>[lt("手動輸入")]),_:1})])]),O("div",pC,[O("div",mC,[I(mt,{onClick:v[2]||(v[2]=x=>b("A"))},{default:Y(()=>[lt("A")]),_:1})]),O("div",_C,[I(mt,{onClick:v[3]||(v[3]=x=>b("藍"))},{default:Y(()=>[lt("藍")]),_:1})]),O("div",vC,[I(mt,{onClick:v[4]||(v[4]=x=>b("1")),white:""},{default:Y(()=>[lt("1")]),_:1})]),O("div",gC,[I(mt,{onClick:v[5]||(v[5]=x=>b("2")),white:""},{default:Y(()=>[lt("2")]),_:1})]),O("div",yC,[I(mt,{onClick:v[6]||(v[6]=x=>b("3")),white:""},{default:Y(()=>[lt("3")]),_:1})]),O("div",wC,[I(mt,{onClick:v[7]||(v[7]=x=>b("綠"))},{default:Y(()=>[lt("綠")]),_:1})]),O("div",bC,[I(mt,{onClick:v[8]||(v[8]=x=>b("棕"))},{default:Y(()=>[lt("棕")]),_:1})]),O("div",xC,[I(mt,{onClick:v[9]||(v[9]=x=>b("4")),white:""},{default:Y(()=>[lt("4")]),_:1})]),O("div",CC,[I(mt,{onClick:v[10]||(v[10]=x=>b("5")),white:""},{default:Y(()=>[lt("5")]),_:1})]),O("div",SC,[I(mt,{onClick:v[11]||(v[11]=x=>b("6")),white:""},{default:Y(()=>[lt("6")]),_:1})]),O("div",PC,[I(mt,{onClick:v[12]||(v[12]=x=>b("橘"))},{default:Y(()=>[lt("橘")]),_:1})]),O("div",TC,[I(mt,{onClick:v[13]||(v[13]=x=>b("小"))},{default:Y(()=>[lt("小")]),_:1})]),O("div",EC,[I(mt,{onClick:v[14]||(v[14]=x=>b("7")),white:""},{default:Y(()=>[lt("7")]),_:1})]),O("div",LC,[I(mt,{onClick:v[15]||(v[15]=x=>b("8")),white:""},{default:Y(()=>[lt("8")]),_:1})]),O("div",kC,[I(mt,{onClick:v[16]||(v[16]=x=>b("9")),white:""},{default:Y(()=>[lt("9")]),_:1})]),O("div",OC,[I(mt,{onClick:v[17]||(v[17]=x=>b("幹線"))},{default:Y(()=>[lt("幹線")]),_:1})]),O("div",MC,[I(mt,{onClick:v[18]||(v[18]=x=>f.value=3)},{default:Y(()=>[lt("更多")]),_:1})]),O("div",AC,[I(mt,{onClick:v[19]||(v[19]=x=>b())},{default:Y(()=>[lt("C")]),_:1})]),O("div",IC,[I(mt,{onClick:v[20]||(v[20]=x=>b("0")),white:""},{default:Y(()=>[lt("0")]),_:1})]),O("div",RC,[I(mt,{onClick:v[21]||(v[21]=x=>b(-1))},{default:Y(()=>[O("img",{src:W(gp),alt:"delete"},null,8,NC)]),_:1})])])])):f.value===2?(N(),Z("div",BC,[O("div",DC,[(N(!0),Z(jt,null,ge(W(Li),x=>(N(),Z("div",{key:x.City,class:"col"},[I(mt,{class:Te({active:x.City===W(h)}),onClick:P=>_(x.City)},{default:Y(()=>[lt(wt(x.CityName),1)]),_:2},1032,["class","onClick"])]))),128)),O("div",$C,[I(mt,{onClick:v[22]||(v[22]=x=>w())},{default:Y(()=>[lt("設定")]),_:1})])])])):f.value===3?(N(),Z("div",zC,[O("div",FC,[O("div",UC,[I(mt,{onClick:v[23]||(v[23]=x=>b("F"))},{default:Y(()=>[lt("F")]),_:1})]),O("div",ZC,[I(mt,{onClick:v[24]||(v[24]=x=>b("R"))},{default:Y(()=>[lt("R")]),_:1})]),O("div",HC,[I(mt,{onClick:v[25]||(v[25]=x=>b("T"))},{default:Y(()=>[lt("T")]),_:1})]),O("div",WC,[I(mt,{onClick:v[26]||(v[26]=x=>b("快"))},{default:Y(()=>[lt("快")]),_:1})]),O("div",jC,[I(mt,{onClick:v[27]||(v[27]=x=>b("內科"))},{default:Y(()=>[lt("內科")]),_:1})]),O("div",qC,[I(mt,{onClick:v[28]||(v[28]=x=>b("跳蛙"))},{default:Y(()=>[lt("跳蛙")]),_:1})]),O("div",VC,[I(mt,{onClick:v[29]||(v[29]=x=>b("通勤"))},{default:Y(()=>[lt("通勤")]),_:1})]),O("div",KC,[I(mt,{onClick:v[30]||(v[30]=x=>b("南軟"))},{default:Y(()=>[lt("南軟")]),_:1})]),O("div",YC,[I(mt,{onClick:v[31]||(v[31]=x=>b("先導"))},{default:Y(()=>[lt("先導")]),_:1})]),O("div",GC,[I(mt,{onClick:v[32]||(v[32]=x=>b("夜間"))},{default:Y(()=>[lt("夜間")]),_:1})]),O("div",JC,[I(mt,{onClick:v[33]||(v[33]=x=>b("市民"))},{default:Y(()=>[lt("市民")]),_:1})]),O("div",XC,[I(mt,{onClick:v[34]||(v[34]=x=>b("其他"))},{default:Y(()=>[lt("其他")]),_:1})]),O("div",QC,[I(mt,{onClick:v[35]||(v[35]=x=>f.value=1)},{default:Y(()=>[lt("回上一頁")]),_:1})])])])):Yt("",!0)]))}},yp=""+new URL("keyboard-594855cf.svg",import.meta.url).href;const eS={class:"wrapper vh-100 container-lg bg-dark position-relative"},nS={class:"main-content overflow-auto"},iS={key:0,class:"keyboard"},rS=["src"],oS={__name:"CitySearch",setup(t){const e=st(!0),i=st(!1),o=()=>{if(!e.value)return;window.matchMedia("(min-width: 992px)").matches||(e.value=!1)},s=()=>$.inputRouteName,l=h=>{$.inputRouteName=h},u=()=>$.inputCity,f=h=>{$.inputCity=h},d=h=>{i.value=+h,e.value=!h};return Je("input",{showKeyboard:e,getCity:u,updateCity:f,getRouteName:s,updateRouteName:l}),Je("isManual",{isManual:i,updateIsManual:d}),(h,m)=>(N(),Z("div",eS,[I(vp,{class:"header"}),O("div",nS,[I(Cu,{type:"city",onOnScroll:o})]),I(De,{name:"keyboard-slide"},{default:Y(()=>[!i.value&&e.value?(N(),Z("div",iS,[I(tS)])):Yt("",!0)]),_:1}),I(De,{name:"badge-fade"},{default:Y(()=>[i.value?(N(),Z("button",{key:0,onClick:m[0]||(m[0]=_=>d(!1)),class:"keyboard-badge bg-primary shadow-sm",role:"button"},[O("img",{src:W(yp),alt:"開啟鍵盤"},null,8,rS)])):Yt("",!0)]),_:1})]))}},sS=Ai(oS,[["__scopeId","data-v-64976508"]]),aS={class:"bg-secondary p-4 px-md-7 py-md-5 p-lg-4"},lS={class:"row g-1 mb-3"},uS={class:"col-6"},cS=["src"],fS={class:"col-4"},dS={class:"row row-cols-5 g-1"},hS={class:"col"},pS={class:"col"},mS={class:"col"},_S={class:"col"},vS={class:"col"},gS={class:"col"},yS={class:"col"},wS={class:"col"},bS={class:"col"},xS={class:"col"},CS={class:"col"},SS={class:"col"},PS={class:"col"},TS={class:"col"},ES={class:"col"},LS={class:"col"},kS={class:"col"},OS={class:"col"},MS={class:"col"},AS={class:"col"},IS=["src"],RS={__name:"KeyBoard2",setup(t){const{getRouteName:e,updateRouteName:i}=ue("input"),{isManual:o,updateIsManual:s}=ue("isManual"),l=pr(),u=()=>{s(!0)},f=d=>{o.value||(typeof d=="string"?i(e()+d):d===-1?i(e().slice(0,-1)):d||i(""))};return(d,h)=>(N(),Z("div",aS,[O("div",lS,[O("div",uS,[I(mt,{onClick:h[0]||(h[0]=m=>W(l).push({name:"InterCitySearch2"})),white:""},{default:Y(()=>[O("img",{src:W(su),width:"13",height:"15.89",class:"me-2"},null,8,cS),lt(" 以起訖地區搜尋 ")]),_:1})]),O("div",fS,[I(mt,{onClick:h[1]||(h[1]=m=>u())},{default:Y(()=>[lt("手動輸入")]),_:1})])]),O("div",dS,[O("div",hS,[I(mt,{onClick:h[2]||(h[2]=m=>f("A"))},{default:Y(()=>[lt("A")]),_:1})]),O("div",pS,[I(mt,{onClick:h[3]||(h[3]=m=>f("B"))},{default:Y(()=>[lt("B")]),_:1})]),O("div",mS,[I(mt,{onClick:h[4]||(h[4]=m=>f("1")),white:""},{default:Y(()=>[lt("1")]),_:1})]),O("div",_S,[I(mt,{onClick:h[5]||(h[5]=m=>f("2")),white:""},{default:Y(()=>[lt("2")]),_:1})]),O("div",vS,[I(mt,{onClick:h[6]||(h[6]=m=>f("3")),white:""},{default:Y(()=>[lt("3")]),_:1})]),O("div",gS,[I(mt,{onClick:h[7]||(h[7]=m=>f("C"))},{default:Y(()=>[lt("C")]),_:1})]),O("div",yS,[I(mt,{onClick:h[8]||(h[8]=m=>f("D"))},{default:Y(()=>[lt("D")]),_:1})]),O("div",wS,[I(mt,{onClick:h[9]||(h[9]=m=>f("4")),white:""},{default:Y(()=>[lt("4")]),_:1})]),O("div",bS,[I(mt,{onClick:h[10]||(h[10]=m=>f("5")),white:""},{default:Y(()=>[lt("5")]),_:1})]),O("div",xS,[I(mt,{onClick:h[11]||(h[11]=m=>f("6")),white:""},{default:Y(()=>[lt("6")]),_:1})]),O("div",CS,[I(mt,{onClick:h[12]||(h[12]=m=>f("E"))},{default:Y(()=>[lt("E")]),_:1})]),O("div",SS,[I(mt,{onClick:h[13]||(h[13]=m=>f("路"))},{default:Y(()=>[lt("路")]),_:1})]),O("div",PS,[I(mt,{onClick:h[14]||(h[14]=m=>f("7")),white:""},{default:Y(()=>[lt("7")]),_:1})]),O("div",TS,[I(mt,{onClick:h[15]||(h[15]=m=>f("8")),white:""},{default:Y(()=>[lt("8")]),_:1})]),O("div",ES,[I(mt,{onClick:h[16]||(h[16]=m=>f("9")),white:""},{default:Y(()=>[lt("9")]),_:1})]),O("div",LS,[I(mt,{onClick:h[17]||(h[17]=m=>f("甲"))},{default:Y(()=>[lt("甲")]),_:1})]),O("div",kS,[I(mt,{onClick:h[18]||(h[18]=m=>f("支"))},{default:Y(()=>[lt("支")]),_:1})]),O("div",OS,[I(mt,{onClick:h[19]||(h[19]=m=>f())},{default:Y(()=>[lt("C")]),_:1})]),O("div",MS,[I(mt,{onClick:h[20]||(h[20]=m=>f("0")),white:""},{default:Y(()=>[lt("0")]),_:1})]),O("div",AS,[I(mt,{onClick:h[21]||(h[21]=m=>f(-1))},{default:Y(()=>[O("img",{src:W(gp),alt:"delete"},null,8,IS)]),_:1})])])]))}};const NS={class:"wrapper vh-100 container-lg position-relative"},BS={class:"main-content overflow-auto px-3 px-lg-0 minh-100"},DS={key:0,class:"keyboard"},$S=["src"],zS={__name:"InterCitySearch",setup(t){const e=st(!0),i=st(!1),o=()=>{if(!e.value)return;window.matchMedia("(min-width: 992px)").matches||(e.value=!1)},s=()=>$.inputRouteName2,l=f=>{$.inputRouteName2=f},u=f=>{i.value=+f,e.value=!f};return Je("input",{showKeyboard:e,getRouteName:s,updateRouteName:l}),Je("isManual",{isManual:i,updateIsManual:u}),(f,d)=>(N(),Z("div",NS,[I(vp,{class:"header"}),O("main",BS,[I(Cu,{type:"intercity",onOnScroll:o})]),I(De,{name:"keyboard-slide"},{default:Y(()=>[!i.value&&e.value?(N(),Z("div",DS,[I(RS)])):Yt("",!0)]),_:1}),I(De,{name:"badge-fade"},{default:Y(()=>[i.value?(N(),Z("button",{key:0,onClick:d[0]||(d[0]=h=>u(!1)),class:"keyboard-badge bg-primary shadow-sm",role:"button"},[O("img",{src:W(yp),alt:"開啟鍵盤",role:"button"},null,8,$S)])):Yt("",!0)]),_:1})]))}},FS=Ai(zS,[["__scopeId","data-v-f9daad25"]]),US={class:"bg-secondary p-4 px-md-7 py-md-5 p-lg-4"},ZS={class:"row row-cols-5 g-1"},HS={class:"col flex-grow-1"},Qf={__name:"KeyBoard3",props:["modelValue"],emits:["update:modelValue"],setup(t,{emit:e}){const o=st(t.modelValue),s=u=>{o.value=u},l=()=>{e("update:modelValue",o.value)};return(u,f)=>(N(),Z("div",US,[O("div",ZS,[(N(!0),Z(jt,null,ge(W(Li).map(d=>d.City),d=>(N(),Z("div",{key:d,class:"col"},[I(mt,{class:Te({active:d===o.value}),onClick:h=>s(d)},{default:Y(()=>[lt(wt(W(so)(d)),1)]),_:2},1032,["class","onClick"])]))),128)),O("div",HS,[I(mt,{onClick:f[0]||(f[0]=d=>l())},{default:Y(()=>[lt("設定")]),_:1})])])]))}},ho=""+new URL("back-c993cd3e.svg",import.meta.url).href,wp=""+new URL("swap-e8a3afde.svg",import.meta.url).href;const WS=["title"],jS=["src","alt"],qS={__name:"IconButton",props:{imgUrl:{type:String,required:!0,default:""},title:{type:String,required:!0,default:"按鈕"}},setup(t){return(e,i)=>(N(),Z("button",{type:"button",role:"button",title:t.title,class:"btn btn-outline-primary border-0"},[O("img",{src:t.imgUrl,alt:t.title,height:"23"},null,8,jS)],8,WS))}},Xe=Ai(qS,[["__scopeId","data-v-4d704f0a"]]);const VS={class:"wrapper vh-100 container-lg bg-dark"},KS={class:"header header-shadow bg-dark p-3 px-lg-0"},YS={class:"row"},GS={class:"col-auto d-flex justify-content-center align-items-center"},JS={class:"col"},XS={class:"row gx-0"},QS={class:"col"},tP=["value"],eP={class:"col-auto d-flex justify-content-center align-items-center"},nP={class:"col"},iP=["value"],rP={class:"main-content overflow-auto px-3 px-lg-0 minh-100"},oP={__name:"InterCitySearch2",setup(t){const e=pr(),i=st(null),o=st(null),s=st("from");Zd(()=>{$.from&&!$.to?u():!$.from&&$.to?l():$.from&&$.to&&f()});function l(){i.value.classList.add("form-control-active"),o.value.classList.remove("form-control-active"),s.value="from"}function u(){o.value.classList.add("form-control-active"),i.value.classList.remove("form-control-active"),s.value="to"}function f(){i.value.classList.remove("form-control-active"),o.value.classList.remove("form-control-active"),s.value=""}const d=()=>{if(!s.value)return;window.matchMedia("(min-width: 992px)").matches||(s.value="")},h=()=>{const m=$.from;$.from=$.to,$.to=m};return In(()=>{l()}),(m,_)=>(N(),Z("div",VS,[O("header",KS,[O("div",YS,[O("div",GS,[I(Xe,{onClick:_[0]||(_[0]=w=>W(e).go(-1)),imgUrl:W(ho),title:"回上一頁"},null,8,["imgUrl"])]),O("div",JS,[I(Ii)])]),O("div",XS,[O("div",QS,[O("input",{ref_key:"input1",ref:i,value:W(so)(W($).from),onClick:l,type:"text",class:"form-control bg-secondary text-center ls-1",role:"button",placeholder:"選擇出發縣市",readonly:""},null,8,tP)]),O("div",eP,[I(Xe,{onClick:h,imgUrl:W(wp),title:"交換縣市"},null,8,["imgUrl"])]),O("div",nP,[O("input",{ref_key:"input2",ref:o,value:W(so)(W($).to),onClick:u,type:"text",class:"form-control bg-secondary text-center ls-1",role:"button",placeholder:"選擇到達縣市",readonly:""},null,8,iP)])])]),O("main",rP,[I(Cu,{type:"intercity-from-to",onOnScroll:d})]),I(De,{name:"keyboard-slide"},{default:Y(()=>[s.value==="from"?(N(),Jt(Qf,{key:0,modelValue:W($).from,"onUpdate:modelValue":_[1]||(_[1]=w=>W($).from=w)},null,8,["modelValue"])):Yt("",!0)]),_:1}),I(De,{name:"keyboard-slide"},{default:Y(()=>[s.value==="to"?(N(),Jt(Qf,{key:0,modelValue:W($).to,"onUpdate:modelValue":_[2]||(_[2]=w=>W($).to=w)},null,8,["modelValue"])):Yt("",!0)]),_:1})]))}},sP=Ai(oP,[["__scopeId","data-v-aac2504d"]]),Su=""+new URL("map-15e68740.svg",import.meta.url).href,aP={class:"bg-dark vh-100 d-flex flex-column","data-testid":"nearby"},lP={class:"header-shadow bg-dark"},uP={class:"container d-flex justify-content-between align-items-center px-3 py-4"},cP={"data-testid":"nearby-map",id:"nearby-map",class:"flex-grow-1"},fP={key:0,class:"mt-5 text-center text-light position-relative z-900"},dP={class:"flex-grow-1 container overflow-auto"},hP={key:0,class:"mt-5"},pP={key:1,class:"mt-5 text-center position-relative z-900"},mP={key:2,class:"list-group","data-testid":"nearby-list"},_P={class:"d-flex justify-content-between align-items-center"},vP={class:"fs-6"},gP={class:"text-light fs-7"},yP={key:0},wP={__name:"NearByStations",setup(t){const e=pr(),i=mp(),{map:o,isMapReady:s,initMap:l,renderNearByMap:u}=_p(),f=st(!1),d=st(!1),h=st(!1),m=st(""),_=i(500),w=async()=>{try{f.value=!f.value,f.value&&!d.value&&(await Ln(),await l("nearby-map"),d.value=!0,u())}catch(b){h.value=!0,m.value=b.message}};return Me(()=>$.userPosition,()=>{u()}),ei(()=>{_()}),(b,y)=>{const v=Rn("router-link");return N(),Z("div",aP,[O("div",lP,[O("div",uP,[I(Xe,{onClick:y[0]||(y[0]=x=>f.value?w():W(e).go(-1)),imgUrl:W(ho),title:"回上一頁"},null,8,["imgUrl"]),I(Ii),O("div",null,[f.value?Yt("",!0):(N(),Jt(Xe,{key:0,onClick:y[1]||(y[1]=x=>w()),imgUrl:W(Su),title:"地圖"},null,8,["imgUrl"]))])])]),Ie(O("div",cP,[W($).hasError||h.value?(N(),Z("h3",fP,"對不起，發生錯誤...")):Yt("",!0)],512),[[Ye,f.value]]),Ie(O("div",dP,[W($).isLoading?(N(),Z("h3",hP,[I(gn,{"data-testid":"loader"})])):W($).hasError?(N(),Z("h3",pP,"對不起，發生錯誤...")):(N(),Z("ul",mP,[(N(!0),Z(jt,null,ge(W($).nearByStations,(x,P)=>(N(),Z("li",{key:x.StationID,class:Te(["list-group-item list-group-item-action",{"bg-secondary":P%2===0}])},[I(v,{to:{name:"StationPage",params:{city:W(Ml)(x.StationUID.slice(0,3))||"intercity",stationId:x.StationID}},class:"d-block link-primary text-decoration-none","data-testid":`station-link${P+1}`},{default:Y(()=>[O("div",_P,[O("div",null,[O("h4",vP,wt(x.StationName.Zh_tw)+"("+wt(W(qs)(x.Bearing))+") ",1),O("p",gP,[(N(!0),Z(jt,null,ge(x.Stops,(S,E)=>(N(),Z("span",{key:S.StopID},[lt(wt(S.RouteName.Zh_tw),1),E<x.Stops.length-1?(N(),Z("span",yP,", ")):Yt("",!0)]))),128))])]),O("p",null,wt(x.Distance)+" 公尺",1)])]),_:2},1032,["to","data-testid"])],2))),128))]))],512),[[Ye,!f.value]])])}}},mi=new Map,td=st(null),tl=st(!1),Pu=t=>{function e(u){const f=mi.get(t)||[];f.push(u),mi.set(t,f)}function i(u){const f=mi.get(t);if(!f)return;const d=f.indexOf(u);d>-1&&f.splice(d,1),f.length||mi.delete(t)}function o(){mi.delete(t)}function s(u,f){var d;(d=mi.get(t))==null||d.forEach(h=>h(u,f))}async function l(u,f){try{tl.value=!0;const h=(mi.get(t)||[]).map(m=>m(u,f));await Promise.all(h)}catch(d){td.value=d.message}finally{tl.value=!1}}return{on:e,off:i,emit:s,reset:o,emitAndWait:l,error:td,pending:tl}};const bP={class:"header-shadow bg-dark"},xP={class:"d-flex px-3 py-4 container"},CP={class:"flex-grow-1 w-100 d-flex align-items-center"},SP={class:"flex-grow-1 w-100 d-flex flex-wrap justify-content-end align-items-center"},PP={class:"container"},TP={class:"h4 text-center mb-1"},EP={class:"row"},LP=O("span",{class:"text-primary"},"往",-1),kP=O("span",{class:"text-primary"},"往",-1),Tu={__name:"TabsHeader",emits:["back","setDirection"],setup(t,{emit:e}){const{routeName:i,subRouteName:o,forwardLabel:s,backwardLabel:l}=ue("busLabel"),u=st("forward"),f=d=>{u.value=d,e("setDirection",d)};return(d,h)=>(N(),Z("div",bP,[O("div",xP,[O("div",CP,[I(Xe,{onClick:h[0]||(h[0]=m=>e("back")),imgUrl:W(ho),title:"回上一頁"},null,8,["imgUrl"])]),eo(d.$slots,"default",{},()=>[I(Ii,{class:"d-flex align-items-center"})]),O("div",SP,[eo(d.$slots,"extra")])]),O("div",PP,[O("h2",TP,wt(W(o)||W(i)),1),O("div",EP,[O("div",{onClick:h[1]||(h[1]=m=>f("forward")),class:Te(["col tab pb-3 text-center position-relative",{active:u.value==="forward"}]),role:"button"},[LP,lt(" "+wt(W(s)),1)],2),O("div",{onClick:h[2]||(h[2]=m=>f("backward")),class:Te(["col tab pb-3 text-center position-relative",{active:u.value==="backward"}]),role:"button"},[kP,lt(" "+wt(W(l)),1)],2)])])]))}},OP={class:"text-end text-primary ls-1"},MP={key:0},AP=O("br",null,null,-1),IP={key:1},RP={key:2},Il={__name:"UpdateTimer",setup(t){const e=st(0),i=30,o=Pu("timer"),{error:s,pending:l}=o;let u=null;return In(()=>{u=setInterval(async()=>{e.value>=i?(await o.emitAndWait(),s.value&&clearInterval(u),e.value=0):e.value++},1e3)}),ei(()=>{clearInterval(u)}),(f,d)=>(N(),Z("div",OP,[W(s)?(N(),Z("p",MP,[lt("更新失敗"),AP,lt(wt(W(s)),1)])):W(l)?(N(),Z("p",IP,[lt(" *更新中... "),I(gn,{width:25,class:"d-inline-block"})])):(N(),Z("p",RP," *於 "+wt(e.value)+" 秒前更新 ",1))]))}},NP={class:"h-100 d-flex flex-column"},BP={class:"position-relative flex-grow-1"},bp={__name:"RouteMap",emits:["back"],async setup(t,{emit:e}){let i,o;const s=Pu("timer"),{routeName:l,city:u}=ue("busLabel"),f=st("forward"),d=st(null),{mapInfo:h,fetchNewMapInfo:m}=lp(l,u),{initMap:_,renderRouteMap:w,isMapReady:b}=up("route-map"),y=ie(()=>f.value==="forward"?h.forward:h.backward),v=P=>{f.value=P};Me(y,P=>{w(P)});async function x(){await m(),w(y.value)}return s.on(x),[i,o]=zs(()=>m()),await i,o(),In(()=>{Ln(async()=>{d.value&&!b.value&&(await _(),w(y.value))})}),ei(()=>{s.off(x)}),(P,S)=>(N(),Z("div",NP,[I(Tu,{onSetDirection:v,onBack:S[0]||(S[0]=E=>e("back"))}),O("div",BP,[O("div",{id:"route-map",ref_key:"map",ref:d,class:"h-100"},null,512),I(Il,{class:"position-absolute top-0 end-0 z-400"})])]))}},ed=""+new URL("wheelchair-236c2eb7.svg",import.meta.url).href,DP=""+new URL("timetable-d9cd1a5f.svg",import.meta.url).href,$P=""+new URL("fare-6f8f7dba.svg",import.meta.url).href;const zP={class:"h-100 d-flex flex-column"},FP={key:0,class:"flex-grow-1 d-flex flex-column container overflow-auto"},UP={class:"w-100 flex-grow-1 flex-shrink-0 list-unstyled"},ZP={class:"d-flex justify-content-start align-items-center"},HP={class:"flex-center time-label bg-dark"},WP={class:"me-4 d-flex justify-content-end align-items-center"},jP=["src"],qP={key:1,class:"plate"},VP={key:2,class:"station-badge active"},KP={key:3,class:"station-badge active noafter"},YP={key:4,class:"station-badge"},GP={key:5,class:"station-badge noafter"},JP={key:0,class:"flex-grow-1 d-flex flex-column container overflow-auto"},XP={class:"w-100 flex-grow-1 flex-shrink-0 list-unstyled"},QP={class:"d-flex justify-content-start align-items-center"},tT={class:"flex-center time-label bg-dark"},eT={class:"me-4 d-flex justify-content-end align-items-center"},nT=["src"],iT={key:1,class:"plate"},rT={key:2,class:"station-badge active"},oT={key:3,class:"station-badge active noafter"},sT={key:4,class:"station-badge"},aT={key:5,class:"station-badge noafter"},xp={__name:"RealTimeArrivalInfo",emits:["back"],async setup(t,{emit:e}){let i,o;const{routeName:s,city:l,subRouteName:u,forwardLabel:f,backwardLabel:d}=ue("busLabel"),h=ue("switchComponent"),m=st("forward"),_=Pu("timer"),{pending:w}=_,{fetchNewArrivalsInfo:b}=ap(s,l,u),y=P=>{m.value=P};function v(P,S){const E=P==null?void 0:P.length;typeof E=="number"&E>0&&(S.value=P[E-1].StopName.Zh_tw)}async function x(){await b(),jf($.arrivalsInfo.forward),jf($.arrivalsInfo.backward)}return _.on(x),[i,o]=zs(()=>x()),await i,o(),v($.arrivalsInfo.forward,f),v($.arrivalsInfo.backward,d),ei(()=>{_.off(x)}),(P,S)=>{const E=Rn("router-link");return N(),Z("div",zP,[I(Tu,{onSetDirection:y,onBack:S[3]||(S[3]=M=>e("back"))},{extra:Y(()=>[W(l)?Yt("",!0):(N(),Jt(Xe,{key:0,onClick:S[0]||(S[0]=M=>W(h)("FareMap")),imgUrl:W($P),title:"票價查詢"},null,8,["imgUrl"])),W(l)?Yt("",!0):(N(),Jt(Xe,{key:1,onClick:S[1]||(S[1]=M=>W(h)("TimeTable")),imgUrl:W(DP),title:"時刻表"},null,8,["imgUrl"])),I(Xe,{onClick:S[2]||(S[2]=M=>W(h)("RouteMap")),imgUrl:W(Su),title:"地圖"},null,8,["imgUrl"])]),_:1}),I(De,{name:"slide-to-left"},{default:Y(()=>[m.value==="forward"?(N(),Z("div",FP,[I(Il,{class:"mt-2 me-4"}),O("ul",UP,[(N(!0),Z(jt,null,ge(W($).arrivalsInfo.forward,(M,V)=>(N(),Z("li",{key:V,class:"py-2 flex-between"},[O("div",ZP,[Ie(O("span",HP,[I(gn,{width:23,class:"d-inline-block"})],512),[[Ye,W(w)]]),Ie(O("span",{class:Te(["flex-center time-label",[M.Border?"label-border":"",M.BgColor]])},[O("span",{class:Te([M.Color,M.TimeLabel&&M.TimeLabel.length>4?"fs-8":""])},wt(M.TimeLabel),3)],2),[[Ye,!W(w)]]),I(E,{to:{name:"StationPage",params:{city:W(Ml)(M.LocationCityCode)||"Taipei",stationId:M.StationID||M.StopID}},class:Te([M.LinkColor||"link-light","text-decoration-none fs-7 ls-1 ms-2"])},{default:Y(()=>[lt(wt(V+1)+". "+wt(M.StopName.Zh_tw),1)]),_:2},1032,["to","class"])]),O("div",WP,[M.Accessible?(N(),Z("img",{key:0,src:W(ed),alt:"無障礙公車"},null,8,jP)):Yt("",!0),M.HasBus?(N(),Z("span",qP,wt(M.PlateNumb),1)):Yt("",!0),M.HasBus&&V>0?(N(),Z("div",VP)):M.HasBus&&V===0?(N(),Z("div",KP)):V>0?(N(),Z("div",YP)):(N(),Z("div",GP))])]))),128))])])):Yt("",!0)]),_:1}),I(De,{name:"slide-to-right"},{default:Y(()=>[m.value==="backward"?(N(),Z("div",JP,[I(Il,{class:"mt-2 me-4"}),O("ul",XP,[(N(!0),Z(jt,null,ge(W($).arrivalsInfo.backward,(M,V)=>(N(),Z("li",{key:V,class:"py-2 flex-between"},[O("div",QP,[Ie(O("span",tT,[I(gn,{width:23,class:"d-inline-block"})],512),[[Ye,W(w)]]),Ie(O("span",{class:Te(["flex-center time-label",[M.Border?"label-border":"",M.BgColor]])},[W(w)?(N(),Jt(gn,{key:0,width:30,class:"d-inline-block"})):(N(),Z("span",{key:1,class:Te([M.Color,M.TimeLabel&&M.TimeLabel.length>4?"fs-8":""])},wt(M.TimeLabel),3))],2),[[Ye,!W(w)]]),I(E,{to:{name:"StationPage",params:{city:W(Ml)(M.LocationCityCode)||"Taipei",stationId:M.StationID||M.StopID}},class:Te([M.LinkColor||"link-light","text-decoration-none fs-7 ls-1 ms-2"])},{default:Y(()=>[lt(wt(V+1)+". "+wt(M.StopName.Zh_tw),1)]),_:2},1032,["to","class"])]),O("div",eT,[M.Accessible?(N(),Z("img",{key:0,src:W(ed),alt:"無障礙公車"},null,8,nT)):Yt("",!0),M.HasBus?(N(),Z("span",iT,wt(M.PlateNumb),1)):Yt("",!0),M.HasBus&&V>0?(N(),Z("div",rT)):M.HasBus&&V===0?(N(),Z("div",oT)):V>0?(N(),Z("div",sT)):(N(),Z("div",aT))])]))),128))])])):Yt("",!0)]),_:1})])}}},lT={class:"bg-secondary vh-100"},uT={key:0,class:"container flex-center h-100"},cT={class:"text-center"},fT={key:1,class:"h-100"},dT={class:"h-100 flex-center z-100"},hT={__name:"RoutePage",props:{city:{type:String,required:!0,default:""},routeName:{type:String,required:!0,default:""},subRouteName:{type:String,required:!1,default:""}},setup(t){const e=t,i=pr(),o=st(null),s=st("去程"),l=st("回程"),u={Home:xp,RouteMap:bp},f=st("Home"),d=m=>{f.value=m},h=()=>{f.value==="Home"?i.go(-1):f.value="Home"};return Je("busLabel",{routeName:e.routeName,subRouteName:e.subRouteName,city:e.city,forwardLabel:s,backwardLabel:l}),Je("switchComponent",d),Xl(m=>{o.value=m.message}),(m,_)=>(N(),Z("div",lT,[o.value?(N(),Z("div",uT,[O("h3",cT,wt(o.value),1)])):(N(),Z("div",fT,[(N(),Jt(Kd,null,[(N(),Jt(Ud,null,{fallback:Y(()=>[O("div",dT,[I(gn)])]),default:Y(()=>[(N(),Jt(us(u[f.value]),{onBack:h},null,32))]),_:1}))],1024))]))]))}},pT=O("h6",{class:"mb-4"},[lt(" 輸入日期 "),O("span",{class:"text-primary"},"(格式例：2021 01 01)")],-1),mT={class:"row g-2 mb-4"},_T={class:"col"},vT=["value"],gT={class:"col"},yT=["value"],wT={class:"col"},bT={class:"grid",style:{"--bs-columns":"2","--bs-gap":"13px"}},xT={class:"mb-4"},CT={__name:"DateModal",emits:["confirm","cancel"],setup(t,{emit:e}){const i=new Date,o=st(i.getFullYear()),s=st(i.getMonth()),l=st(i.getDate()),u=st([o.value,o.value+1]),f=st(""),d=st(!1),h=()=>{const m=new Date(o.value,s.value,l.value);if(!P1(o.value,s.value,l.value)||T1(m)){f.value="請輸入正確且非過去的日期",d.value=!0;return}e("confirm",m)};return(m,_)=>{const w=Rn("VueFinalModal");return N(),Jt(w,{"overlay-class":"modal-overlay","content-class":"modal-content",classes:"modal-container"},{default:Y(()=>[pT,O("div",mT,[O("div",_T,[Ie(O("select",{"onUpdate:modelValue":_[0]||(_[0]=b=>o.value=b),class:"form-select px-6 text-center"},[(N(!0),Z(jt,null,ge(u.value,b=>(N(),Z("option",{key:b,value:b},wt(b),9,vT))),128))],512),[[Ma,o.value,void 0,{number:!0}]])]),O("div",gT,[Ie(O("select",{"onUpdate:modelValue":_[1]||(_[1]=b=>s.value=b),class:"form-select px-6 text-center"},[(N(),Z(jt,null,ge(12,(b,y)=>O("option",{key:y,value:y},wt(b),9,yT)),64))],512),[[Ma,s.value,void 0,{number:!0}]])]),O("div",wT,[Ie(O("select",{"onUpdate:modelValue":_[2]||(_[2]=b=>l.value=b),class:"form-select px-6 text-center"},[(N(),Z(jt,null,ge(31,b=>O("option",{key:b},wt(b),1)),64))],512),[[Ma,l.value,void 0,{number:!0}]])])]),O("div",bT,[O("button",{onClick:_[3]||(_[3]=b=>e("cancel")),class:"btn btn-outline-primary text-warning indent-16 ls-16"},"取消"),O("button",{onClick:h,class:"btn btn-outline-primary indent-16 ls-16"},"設定")]),I(w,{modelValue:d.value,"onUpdate:modelValue":_[5]||(_[5]=b=>d.value=b),"overlay-class":"modal-overlay","content-class":"modal-content",classes:"modal-container"},{default:Y(()=>[O("h6",xT,wt(f.value),1),O("button",{onClick:_[4]||(_[4]=b=>d.value=!1),class:"btn btn-outline-primary w-100 indent-16 ls-16"},"確認")]),_:1},8,["modelValue"])]),_:1})}}};const ST={class:"flex-center"},PT=["value"],TT={class:"row mt-5"},ET={class:"col flex-center"},LT={key:0,class:"list-unstyled"},kT={class:"index"},OT={class:"col flex-center"},MT={key:0,class:"list-unstyled text-end"},AT={class:"index"},IT={__name:"TimeTable",emits:["back"],async setup(t,{emit:e}){let i,o;const{routeName:s}=ue("busLabel"),l=st("forward"),u=st(!1),f=st(Al(new Date,"yyyy/MM/dd")),{forwardTime:d,backwardTime:h,fetchBusSchedule:m,getDepartureTimeByDate:_}=hp(s),w=y=>{l.value=y};[i,o]=zs(()=>m()),await i,o(),_(new Date);const b=y=>{f.value=Al(y,"yyyy/MM/dd"),u.value=!1,_(y)};return(y,v)=>(N(),Z("div",null,[I(Tu,{onSetDirection:w,onBack:v[1]||(v[1]=x=>e("back"))},{default:Y(()=>[O("div",ST,[O("input",{value:f.value,onClick:v[0]||(v[0]=x=>u.value=!0),class:"btn btn-dark px-7 btn-lg",type:"button"},null,8,PT)])]),_:1}),I(CT,{modelValue:u.value,"onUpdate:modelValue":v[2]||(v[2]=x=>u.value=x),onConfirm:b,onCancel:v[3]||(v[3]=x=>u.value=!1)},null,8,["modelValue"]),O("div",TT,[O("div",ET,[I(De,{name:"slide-right"},{default:Y(()=>[l.value==="forward"?(N(),Z("ol",LT,[(N(!0),Z(jt,null,ge(W(d),(x,P)=>(N(),Z("li",{key:P},[O("span",kT,wt(P+1),1),lt(" "+wt(x),1)]))),128))])):Yt("",!0)]),_:1})]),O("div",OT,[I(De,{name:"slide-left"},{default:Y(()=>[l.value==="backward"?(N(),Z("ol",MT,[(N(!0),Z(jt,null,ge(W(h),(x,P)=>(N(),Z("li",{key:P},[O("span",AT,wt(P+1),1),lt(" "+wt(x),1)]))),128))])):Yt("",!0)]),_:1})])])]))}},RT=Ai(IT,[["__scopeId","data-v-157030be"]]),NT=["title"],nd={__name:"WideButton",props:{title:{type:String,required:!0,default:"按鈕"}},setup(t){return(e,i)=>(N(),Z("button",{type:"button",role:"button",title:t.title,class:"btn btn-secondary btn-lg rounded-0 px-7 fs-6"},[eo(e.$slots,"default")],8,NT))}},BT={class:"d-flex justify-content-between align-items-center mb-3"},DT={class:"fs-6 mb-0"},$T={class:"row row-cols-1 g-3"},zT=["onClick"],id={__name:"StageModal",props:{title:{type:String,required:!0,default:"選擇出發站"},stages:{type:Array,required:!0,default:[]}},emits:["confirm","cancel"],setup(t,{emit:e}){const i=t;return(o,s)=>{const l=Rn("VueFinalModal");return N(),Jt(l,{"overlay-class":"modal-overlay","content-class":"modal-content",classes:"modal-container"},{default:Y(()=>[O("div",BT,[O("h6",DT,wt(i.title),1),O("button",{onClick:s[0]||(s[0]=u=>e("cancel")),class:"btn btn-outline-primary btn-sm fs-6 border-0"},"取消")]),O("div",$T,[(N(!0),Z(jt,null,ge(i.stages,u=>(N(),Z("div",{key:u.StopID,class:"col"},[O("button",{onClick:f=>e("confirm",u),class:"w-100 btn btn-outline-primary py-1 shadow-primary rounded-3"},wt(u.StopName),9,zT)]))),128))])]),_:1})}}},FT={class:"header header-shadow bg-dark p-3 px-lg-0"},UT={class:"d-flex px-3 py-4 container"},ZT={class:"flex-grow-1 w-100 d-flex align-items-center"},HT=O("div",{class:"flex-grow-1 w-100"},null,-1),WT={class:"container"},jT={class:"h4 text-center mb-1"},qT={key:0,class:"row"},VT={class:"col d-flex justify-content-end align-items-center"},KT={class:"col-auto flex-center"},YT={class:"col align-items-center"},GT={key:0,class:"h4 text-center mt-5"},JT={key:1,class:"container pt-7"},XT={key:0,class:"text-center h5"},QT={key:1,class:"row row-cols-1 row-cols-md-2 g-3"},tE={class:"col"},eE={class:"w-100 border border-primary rounded-3 shadow-primary py-0 d-flex align-items-center"},nE={class:"p-6 fs-6 fw-normal h-100 mb-0 border-end-dashed"},iE={class:"d-flex flex-wrap h-100 mb-0 align-items-center px-2"},rE={class:"px-4"},oE={class:"fs-7 text-primary lh-lg"},sE={class:"fs-5 lh-sm mb-0 translate-25-y"},aE={__name:"FareMap",emits:["back"],async setup(t,{emit:e}){let i,o;const{routeName:s,subRouteName:l}=ue("busLabel"),u=st(!1),f=st(!1),{stages:d,init:h,getStageFare:m}=pp(l||s);[i,o]=zs(()=>h()),await i,o();const _=st(d.value[0]),w=st(d.value[2]),b=st({}),y=P=>{_.value=P,u.value=!1},v=P=>{w.value=P,f.value=!1},x=()=>{const P=_.value;_.value=w.value,w.value=P};return ov(()=>{b.value=m(_.value,w.value)}),ei(()=>{$.hasError=!1}),(P,S)=>(N(),Z("div",null,[I(id,{modelValue:u.value,"onUpdate:modelValue":S[0]||(S[0]=E=>u.value=E),onCancel:S[1]||(S[1]=E=>u.value=!1),onConfirm:y,title:"選擇出發站",stages:W(d)},null,8,["modelValue","stages"]),I(id,{modelValue:f.value,"onUpdate:modelValue":S[2]||(S[2]=E=>f.value=E),onCancel:S[3]||(S[3]=E=>f.value=!1),onConfirm:v,title:"選擇抵達站",stages:W(d)},null,8,["modelValue","stages"]),O("header",FT,[O("div",UT,[O("div",ZT,[I(Xe,{onClick:S[4]||(S[4]=E=>e("back")),imgUrl:W(ho),title:"回上一頁"},null,8,["imgUrl"])]),I(Ii),HT]),O("div",WT,[O("h2",jT,wt(W(l)||W(s)),1),W($).hasError?Yt("",!0):(N(),Z("div",qT,[O("div",VT,[I(nd,{onClick:S[5]||(S[5]=E=>u.value=!0),title:"選擇出發站點"},{default:Y(()=>[lt(wt(_.value.StopName),1)]),_:1})]),O("div",KT,[I(Xe,{onClick:x,imgUrl:W(wp),title:"交換站點"},null,8,["imgUrl"])]),O("div",YT,[I(nd,{onClick:S[6]||(S[6]=E=>f.value=!0),title:"選擇抵達站點"},{default:Y(()=>[lt(wt(w.value.StopName),1)]),_:1})])]))])]),W($).hasError?(N(),Z("h3",GT,wt(W($).errorMsg),1)):(N(),Z("main",JT,[b.value?(N(),Z("div",QT,[(N(!0),Z(jt,null,ge(b.value,E=>(N(),Z("div",tE,[O("div",eE,[O("h5",nE,wt(E.seat),1),O("dl",iE,[(N(!0),Z(jt,null,ge(E.tickets,M=>(N(),Z("div",rE,[O("dt",oE,wt(M.name),1),O("dd",sE,"$"+wt(M.price),1)]))),256))])])]))),256))])):(N(),Z("h3",XT,"暫無售票"))]))]))}},lE={class:"bg-secondary vh-100"},uE={key:0,class:"container h-100"},cE={class:"h-100 flex-center text-light"},fE={key:1,class:"h-100"},dE={class:"h-100 flex-center z-100"},hE={__name:"InterCityRoutePage",props:{routeName:{type:String,required:!0,default:""},subRouteName:{type:String,required:!1,default:""}},setup(t){const e=t,i=pr(),o=st(null),s={Home:xp,TimeTable:RT,FareMap:aE,RouteMap:bp},l=st("Home"),u=st("去程"),f=st("回程"),d=m=>{l.value=m},h=()=>{l.value==="Home"?i.go(-1):l.value="Home"};return Je("busLabel",{routeName:e.routeName,subRouteName:e.subRouteName,city:null,forwardLabel:u,backwardLabel:f}),Je("switchComponent",d),Xl(m=>{o.value=m.message}),(m,_)=>(N(),Z("div",lE,[o.value?(N(),Z("div",uE,[O("h3",cE,wt(o.value),1)])):(N(),Z("div",fE,[I(De,{name:"fade-in"},{default:Y(()=>[(N(),Jt(Kd,null,[(N(),Jt(Ud,null,{fallback:Y(()=>[O("div",dE,[I(gn)])]),default:Y(()=>[(N(),Jt(us(s[l.value]),{onBack:h},null,32))]),_:1}))],1024))]),_:1})]))]))}},pE={class:"bg-dark vh-100 d-flex flex-column","data-testid":"station-page"},mE={class:"header-shadow bg-dark"},_E={class:"container d-flex justify-content-between align-items-center px-3 py-4"},vE={"data-testid":"station-map",id:"station-map",class:"flex-grow-1"},gE={key:0,class:"mt-5 text-center position-relative z-900"},yE={class:"flex-grow-1 container"},wE={key:0,class:"mt-5"},bE={key:1,class:"mt-5 text-center text-light position-relative z-900"},xE={key:2,class:"overflow-auto"},CE={class:"h5 text-center text-light mt-5"},SE={class:"list-group"},PE={class:"text-light fs-7"},TE=O("span",{class:"text-primary mx-1"},"往",-1),EE={__name:"StationPage",props:{city:String,stationId:String},setup(t){const e=t,{city:i,stationId:o}=e,s=pr(),{state:l}=Qa,u=Qa.useStation(),{map:f,isMapReady:d,initMap:h,renderStationMap:m}=Qa.useStationMap(),_=st(!1),w=st(!1),b=st(!1),y=st(""),v=async()=>{try{_.value=!_.value,_.value&&!w.value&&(await Ln(),await h("station-map"),w.value=!0,m())}catch(P){b.value=!0,y.value=P.message}};function x(P){const S=P.City?"RoutePage":"InterCityRoutePage",E=P.City,M=P.RouteName.Zh_tw;return{name:S,params:{routeName:M,...E&&{city:E}}}}return u(o,i),(P,S)=>{var M,V;const E=Rn("router-link");return N(),Z("div",pE,[O("div",mE,[O("div",_E,[I(Xe,{onClick:S[0]||(S[0]=G=>_.value?v():W(s).go(-1)),imgUrl:W(ho),title:"回上一頁"},null,8,["imgUrl"]),I(Ii),O("div",null,[_.value?Yt("",!0):(N(),Jt(Xe,{key:0,onClick:S[1]||(S[1]=G=>v()),imgUrl:W(Su),title:"地圖"},null,8,["imgUrl"]))])])]),Ie(O("div",vE,[W(l).hasError||b.value?(N(),Z("h3",gE,wt(W(l).errorMsg||"對不起，發生錯誤..."),1)):Yt("",!0)],512),[[Ye,_.value]]),Ie(O("div",yE,[W(l).isLoading?(N(),Z("h3",wE,[I(gn,{"data-testid":"loader"})])):W(l).hasError?(N(),Z("h3",bE,wt(W(l).errorMsg||"對不起，發生錯誤..."),1)):(N(),Z("div",xE,[O("h4",CE,wt((V=(M=W(l).station)==null?void 0:M.StationName)==null?void 0:V.Zh_tw)+"("+wt(W(qs)(W(l).station.Bearing))+") ",1),O("ul",SE,[(N(!0),Z(jt,null,ge(W(l).station.routes,(G,dt)=>(N(),Z("li",{key:G.RouteUID,class:Te(["list-group-item list-group-item-action",{"bg-secondary":dt%2===0}])},[I(E,{to:x(G),class:"d-block link-primary text-decoration-none"},{default:Y(()=>[lt(wt(G.RouteName.Zh_tw)+" ",1),O("p",PE,[TE,lt(" "+wt(G.DestinationStopNameZh),1)])]),_:2},1032,["to"])],2))),128))])]))],512),[[Ye,!_.value]])])}}},LE={class:"bg-secondary vh-100"},kE={class:"header-shadow bg-dark"},OE={class:"container d-flex justify-content-between align-items-center px-3 py-4"},ME=O("h1",{class:"h3 text-center mt-5"}," 沒有這個頁面... ",-1),AE={__name:"NotFoundPage",setup(t){return(e,i)=>(N(),Z("div",LE,[O("div",kE,[O("div",OE,[I(Ii)])]),ME]))}},IE=[{path:"/",component:Wy,name:"Home"},{path:"/city",component:sS,name:"CitySearch"},{path:"/nearby",component:wP,name:"NearBy"},{path:"/intercity",component:FS,name:"InterCitySearch"},{path:"/intercity/from-to",component:sP,name:"InterCitySearch2"},{path:"/routes/intercity/:routeName/:subRouteName?",component:hE,name:"InterCityRoutePage",props:!0},{path:"/routes/:city/:routeName/:subRouteName?",component:hT,name:"RoutePage",props:!0},{path:"/stations/:city/:stationId",component:EE,name:"StationPage",props:!0},{path:"/:pathMatch(.*)*",component:AE,name:"404Page"}],RE=Ly({history:Wg(),routes:IE});const NE={};function BE(t,e){const i=Rn("router-view");return N(),Z("div",null,[I(i)])}const DE=Ai(NE,[["render",BE]]);function qr(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qr=function(e){return typeof e}:qr=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qr(t)}function rd(t,e,i,o,s,l,u){try{var f=t[l](u),d=f.value}catch(h){i(h);return}f.done?e(d):Promise.resolve(d).then(o,s)}function $E(t){return function(){var e=this,i=arguments;return new Promise(function(o,s){var l=t.apply(e,i);function u(d){rd(l,o,s,u,f,"next",d)}function f(d){rd(l,o,s,u,f,"throw",d)}u(void 0)})}}function zE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function od(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function FE(t,e,i){return e&&od(t.prototype,e),i&&od(t,i),t}function nr(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function sd(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),i.push.apply(i,o)}return i}function ze(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?sd(Object(i),!0).forEach(function(o){nr(t,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):sd(Object(i)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(i,o))})}return t}function Oi(t){return UE(t)||ZE(t)||HE(t)||WE()}function UE(t){if(Array.isArray(t))return Rl(t)}function ZE(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function HE(t,e){if(t){if(typeof t=="string")return Rl(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Rl(t,e)}}function Rl(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function WE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var jE='button:not([disabled]), select:not([disabled]), a[href]:not([disabled]), area[href]:not([disabled]), [contentEditable=""]:not([disabled]), [contentEditable="true"]:not([disabled]), [contentEditable="TRUE"]:not([disabled]), textarea:not([disabled]), iframe:not([disabled]), input:not([disabled]), summary:not([disabled]), [tabindex]:not([tabindex="-1"])',qE=function(e){return e.key==="Tab"||e.keyCode===9},VE=function(e,i){return Oi(e.querySelectorAll(i)||[])},KE=function(e){return VE(e,jE)},ad=function(e){return e==document.activeElement},YE=function(){return!document.activeElement},GE=function(){function t(){zE(this,t),this.root=null,this.elements=[],this.onKeyDown=this.onKeyDown.bind(this),this.enable=this.enable.bind(this),this.disable=this.disable.bind(this),this.firstElement=this.firstElement.bind(this),this.lastElement=this.lastElement.bind(this)}return FE(t,[{key:"lastElement",value:function(){return this.elements[this.elements.length-1]||null}},{key:"firstElement",value:function(){return this.elements[0]||null}},{key:"onKeyDown",value:function(i){if(qE(i)){if(i.shiftKey){ad(this.firstElement())&&(this.lastElement().focus(),i.preventDefault());return}if(YE()||ad(this.lastElement())){this.firstElement().focus(),i.preventDefault();return}}}},{key:"enabled",value:function(){return!!this.root}},{key:"enable",value:function(i){i&&(this.root=i,this.elements=KE(this.root),this.root.addEventListener("keydown",this.onKeyDown))}},{key:"disable",value:function(){this.root.removeEventListener("keydown",this.onKeyDown),this.root=null}}]),t}(),JE=function(e,i,o){var s=e.style[i];return e.style[i]=o,function(){e.style[i]=s}},ld=function(e){var i=e.targetTouches?e.targetTouches[0]:e,o=i.clientX,s=i.clientY;return{x:o,y:s}},XE=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Ho=function(e,i,o){return typeof e!="number"&&(e=Math.min(i,o)||i),typeof o!="number"&&(o=Math.max(i,e)),Math.min(Math.max(i,e),o)},ud=function(e){return e&&Number(e.replace(/px$/,""))||0},QE=function(e,i,o){if(o==="")return!0;var s=Oi(i.querySelectorAll(o));return s.includes(e.target)},bs={down:{pc:"mousedown",m:"touchstart"},move:{pc:"mousemove",m:"touchmove"},up:{pc:"mouseup",m:"touchend"}},Wo=function(e,i,o){i&&i.addEventListener(bs[e].pc,o),i&&i.addEventListener(bs[e].m,o,{passive:!1})},jo=function(e,i,o){i&&i.removeEventListener(bs[e].pc,o),i&&i.removeEventListener(bs[e].m,o)},Eu=!1;if(typeof window<"u"){var cd={get passive(){Eu=!0}};window.addEventListener("testPassive",null,cd),window.removeEventListener("testPassive",null,cd)}var Cp=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),Kn=[],xs=!1,rs=0,Sp=-1,Vr,Kr,tL=function(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;var i=window.getComputedStyle(e);return["auto","scroll"].includes(i.overflowY)&&e.scrollHeight>e.clientHeight},eL=function(e,i){return!(e.scrollTop===0&&i<0||e.scrollTop+e.clientHeight+i>=e.scrollHeight&&i>0)},nL=function(e){for(var i=[];e;){if(i.push(e),e.classList.contains("vfm"))return i;e=e.parentElement}return i},iL=function(e,i){var o=!1,s=nL(e);return s.forEach(function(l){tL(l)&&eL(l,i)&&(o=!0)}),o},Pp=function(e){return Kn.some(function(){return iL(e,-rs)})},Cs=function(e){var i=e||window.event;return Pp(i.target)||i.touches.length>1?!0:(i.preventDefault&&i.preventDefault(),!1)},rL=function(e){if(Kr===void 0){var i=!!e&&e.reserveScrollBarGap===!0,o=window.innerWidth-document.documentElement.clientWidth;if(i&&o>0){var s=parseInt(getComputedStyle(document.body).getPropertyValue("padding-right"),10);Kr=document.body.style.paddingRight,document.body.style.paddingRight="".concat(s+o,"px")}}Vr===void 0&&(Vr=document.body.style.overflow,document.body.style.overflow="hidden")},oL=function(){Kr!==void 0&&(document.body.style.paddingRight=Kr,Kr=void 0),Vr!==void 0&&(document.body.style.overflow=Vr,Vr=void 0)},sL=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},aL=function(e,i){return rs=e.targetTouches[0].clientY-Sp,Pp(e.target)?!1:i&&i.scrollTop===0&&rs>0||sL(i)&&rs<0?Cs(e):(e.stopPropagation(),!0)},lL=function(e,i){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!Kn.some(function(s){return s.targetElement===e})){var o={targetElement:e,options:i||{}};Kn=[].concat(Oi(Kn),[o]),Cp?(e.ontouchstart=function(s){s.targetTouches.length===1&&(Sp=s.targetTouches[0].clientY)},e.ontouchmove=function(s){s.targetTouches.length===1&&aL(s,e)},xs||(document.addEventListener("touchmove",Cs,Eu?{passive:!1}:void 0),xs=!0)):rL(i)}},el=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}Kn=Kn.filter(function(i){return i.targetElement!==e}),Cp?(e.ontouchstart=null,e.ontouchmove=null,xs&&Kn.length===0&&(document.removeEventListener("touchmove",Cs,Eu?{passive:!1}:void 0),xs=!1)):Kn.length||oL()},qo=function(){},hn={Enter:"enter",Entering:"entering",Leave:"leave",Leaving:"leavng"},uL={t:"ns-resize",tr:"nesw-resize",r:"ew-resize",br:"nwse-resize",b:"ns-resize",bl:"nesw-resize",l:"ew-resize",tl:"nwse-resize"},Ks={props:{name:{type:String,default:null},modelValue:{type:Boolean,default:!1},ssr:{type:Boolean,default:!0},classes:{type:[String,Object,Array],default:""},overlayClass:{type:[String,Object,Array],default:""},contentClass:{type:[String,Object,Array],default:""},styles:{type:[Object,Array],default:function(){return{}}},overlayStyle:{type:[Object,Array],default:function(){return{}}},contentStyle:{type:[Object,Array],default:function(){return{}}},lockScroll:{type:Boolean,default:!0},hideOverlay:{type:Boolean,default:!1},clickToClose:{type:Boolean,default:!0},escToClose:{type:Boolean,default:!1},preventClick:{type:Boolean,default:!1},attach:{type:null,default:!1,validator:function(e){var i=qr(e);return i==="boolean"||i==="string"?!0:e.nodeType===Node.ELEMENT_NODE}},transition:{type:[String,Object],default:"vfm"},overlayTransition:{type:[String,Object],default:"vfm"},keepOverlay:{type:Boolean,default:!1},zIndexAuto:{type:Boolean,default:!0},zIndexBase:{type:[String,Number],default:1e3},zIndex:{type:[Boolean,String,Number],default:!1},focusRetain:{type:Boolean,default:!0},focusTrap:{type:Boolean,default:!1},fitParent:{type:Boolean,default:!0},drag:{type:Boolean,default:!1},dragSelector:{type:String,default:""},keepChangedStyle:{type:Boolean,default:!1},resize:{type:Boolean,default:!1},resizeDirections:{type:Array,default:function(){return["t","tr","r","br","b","bl","l","tl"]},validator:function(e){return["t","tr","r","br","b","bl","l","tl"].filter(function(i){return e.indexOf(i)!==-1}).length===e.length}},minWidth:{type:Number,default:0},minHeight:{type:Number,default:0},maxWidth:{type:Number,default:1/0},maxHeight:{type:Number,default:1/0}},emits:["update:modelValue","click-outside","before-open","opened","before-close","closed","_before-open","_opened","_closed","drag:start","drag:move","drag:end","resize:start","resize:move","resize:end"],setup:function(e,i){var o=i.emit,s=Symbol("vfm"),l=st(null),u=st(null),f=st(null),d=st(null),h=st(null),m=st(null),_=st(null),w=new GE,b=st(!1),y=ti({modal:!1,overlay:!1,resize:!1}),v=st(null),x=st(null),P=st(!1),S=st({}),E=st({}),M=st(null),V=st(null),G=qo,dt=qo,rt=ie(function(){return typeof e.overlayTransition=="string"?{name:e.overlayTransition}:ze({},e.overlayTransition)}),_t=ie(function(){return typeof e.transition=="string"?{name:e.transition}:ze({},e.transition)}),ct=ie(function(){return(e.hideOverlay||v.value===hn.Leave)&&x.value===hn.Leave}),ht=ie(function(){return e.zIndex===!1?e.zIndexAuto?+e.zIndexBase+2*(_.value||0):!1:e.zIndex}),tt=ie(function(){return ze({},ht.value!==!1&&{zIndex:ht.value})}),kt=ie(function(){var F=[E.value];return Array.isArray(e.contentStyle)?F.push.apply(F,Oi(e.contentStyle)):F.push(e.contentStyle),F});Me(function(){return e.modelValue},function(F){if(P.value){P.value=!1;return}if(Rt(),!F){if(k("before-close",!0)){dt("hide");return}xt()}}),Me(function(){return e.lockScroll},Tt),Me(function(){return e.hideOverlay},function(F){e.modelValue&&!F&&(y.overlay=!0)}),Me(function(){return e.attach},Rt),Me(ct,function(F){F&&(b.value=!1,u.value.style.display="none")},{flush:"post"}),Me(function(){return e.drag},function(F){b.value&&(F?X():ot())}),Me(function(){return e.resize},function(F){b.value&&(F?Q():nt())}),Me(function(){return e.keepChangedStyle},function(F){F||(E.value={})}),In(function(){e.api.modals.push(Ot()),Rt()}),Ns(function(){var F;xt(),e.lockScroll&&u.value&&el(u.value),l==null||(F=l.value)===null||F===void 0||F.remove();var J=e.api.modals.findIndex(function(it){return it.uid===s});e.api.modals.splice(J,1)});function Ot(){return{uid:s,props:e,emit:o,vfmContainer:u,vfmContent:f,vfmResize:d,vfmOverlayTransition:h,vfmTransition:m,getAttachElement:at,modalStackIndex:_,visibility:y,handleLockScroll:Tt,$focusTrap:w,toggle:z,params:S}}function Rt(){if(e.modelValue){if(o("_before-open",C({type:"_before-open"})),k("before-open",!1)){dt("show");return}var F=at();if(F||e.attach===!1){if(e.attach!==!1)if(l.value)F.appendChild(l.value);else{b.value=!0,Ln(function(){Rt()});return}var J=e.api.openedModals.findIndex(function(it){return it.uid===s});J!==-1&&e.api.openedModals.splice(J,1),e.api.openedModals.push(Ot()),_.value=e.api.openedModals.length-1,Tt(),e.api.openedModals.filter(function(it){return it.uid!==s}).forEach(function(it,pt){it.getAttachElement()===F&&(it.modalStackIndex.value=pt,!it.props.keepOverlay&&(it.visibility.overlay=!1))}),b.value=!0,he()}else F!==!1&&console.warn("Unable to locate target ".concat(e.attach))}}function xt(){var F=e.api.openedModals.findIndex(function(it){return it.uid===s});if(F!==-1&&e.api.openedModals.splice(F,1),e.api.openedModals.length>0){var J=e.api.openedModals[e.api.openedModals.length-1];J.props.focusTrap&&J.$focusTrap.firstElement().focus(),(J.props.focusRetain||J.props.focusTrap)&&J.vfmContainer.value.focus(),!J.props.hideOverlay&&(J.visibility.overlay=!0)}e.drag&&ot(),e.resize&&nt(),M.value=null,yt()}function Tt(){e.modelValue&&Ln(function(){e.lockScroll?lL(u.value,{reserveScrollBarGap:!0}):el(u.value)})}function at(){var F;return e.attach===!1?F=!1:typeof e.attach=="string"?window?F=window.document.querySelector(e.attach):F=!1:F=e.attach,F}function he(){y.overlay=!0,y.modal=!0}function yt(){y.overlay=!1,y.modal=!1}function Nt(){v.value=hn.Entering}function Ht(){v.value=hn.Enter}function re(){v.value=hn.Leaving}function te(){v.value=hn.Leave}function B(){x.value=hn.Entering}function K(){x.value=hn.Enter,(e.focusRetain||e.focusTrap)&&u.value.focus(),e.focusTrap&&w.enable(u.value),e.drag&&X(),e.resize&&Q(),o("_opened"),o("opened",C({type:"opened"})),G("show")}function et(){x.value=hn.Leaving,w.enabled()&&w.disable()}function ft(){x.value=hn.Leave,_.value=null,e.lockScroll&&el(u.value),e.keepChangedStyle||(E.value={});var F=!1,J=C({type:"closed",stop:function(){F=!0}});o("_closed"),o("closed",J),G("hide"),!F&&(S.value={})}function It(F){V.value=F==null?void 0:F.target}function qt(){V.value===u.value&&M.value!=="resize:move"&&(o("click-outside",C({type:"click-outside"})),e.clickToClose&&o("update:modelValue",!1))}function Pt(){b.value&&e.escToClose&&o("update:modelValue",!1)}function C(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ze({ref:Ot()},F)}function k(F,J){var it=!1,pt=C({type:F,stop:function(){it=!0}});return o(F,pt),it?(P.value=!0,Ln(function(){o("update:modelValue",J)}),!0):!1}function D(F,J,it){M.value="".concat(J,":").concat(it),o(M.value,F)}function z(F,J){var it=arguments;return new Promise(function(pt,gt){G=function(Mt){pt(Mt),G=qo},dt=function(Mt){gt(Mt),dt=qo};var Bt=typeof F=="boolean"?F:!e.modelValue;Bt&&it.length===2&&(S.value=J),o("update:modelValue",Bt)})}function H(F){F.stopPropagation();var J="resize",it="drag",pt=F.target.getAttribute("direction"),gt;if(pt)gt=J;else if(QE(F,f.value,e.dragSelector))gt=it;else return;D(F,gt,"start");var Bt=ld(F),St=u.value.getBoundingClientRect(),Mt=f.value.getBoundingClientRect(),oe=window.getComputedStyle(f.value).position==="absolute",pe={top:ud(E.value.top),left:ud(E.value.left)},ne=function(){if(e.fitParent){var ce={absolute:function(){return{minTop:0,minLeft:0,maxTop:St.height-Mt.height,maxLeft:St.width-Mt.width}},relative:function(){return{minTop:pe.top+St.top-Mt.top,minLeft:pe.left+St.left-Mt.left,maxTop:pe.top+St.bottom-Mt.bottom,maxLeft:pe.left+St.right-Mt.right}}};return oe?ce.absolute():ce.relative()}else return{}}(),le=gt===J&&JE(document.body,"cursor",uL[pt]),ye=function(me){me.stopPropagation(),D(me,gt,"move");var ii=ld(me),$e={x:ii.x-Bt.x,y:ii.y-Bt.y};gt===J&&($e=q(pt,$e,St,Mt,oe));var Ze,an;oe?(Ze=Mt.top-St.top+$e.y,an=Mt.left-St.left+$e.x):(Ze=pe.top+$e.y,an=pe.left+$e.x),gt===it&&e.fitParent&&(Ze=Ho(ne.minTop,Ze,ne.maxTop),an=Ho(ne.minLeft,an,ne.maxLeft));var ri=ze(ze(ze({position:"relative",top:Ze+"px",left:an+"px",margin:"unset",touchAction:"none"},oe&&{position:"absolute",transform:"unset",width:Mt.width+"px",height:Mt.height+"px"}),$e.width&&{width:$e.width+"px"}),$e.height&&{height:$e.height+"px"});E.value=ze(ze({},E.value),ri)},Gt=function ce(me){me.stopPropagation(),gt===J&&le&&le(),setTimeout(function(){D(me,gt,"end")}),jo("move",document,ye),jo("up",document,ce)};Wo("move",document,ye),Wo("up",document,Gt)}function X(){Wo("down",f.value,H),E.value.touchAction="none"}function ot(){jo("down",f.value,H)}function Q(){y.resize=!0,Ln(function(){Wo("down",d.value,H)})}function nt(){jo("down",d.value,H),y.resize=!1}function q(F,J,it,pt,gt){var Bt=function(ne){var le,ye=J[ne.axis];ye=e.fitParent?Ho(ne.min,ye,ne.max):ye;var Gt=Ho(ne.minEdge,ne.getEdge(ye),ne.maxEdge);return ye=ne.getOffsetAxis(Gt,gt),le={},nr(le,ne.edgeName,Gt),nr(le,ne.axis,ye),le},St=function(ne,le,ye,Gt){var ce=pt[le],me=it[ne]-pt[ne],ii=XE(le);return{axis:ye,edgeName:le,min:Gt?me:-ce,max:Gt?ce:me,minEdge:e["min".concat(ii)],maxEdge:e["max".concat(ii)],getEdge:function(Ze){return pt[le]-Ze*(Gt?1:-1)},getOffsetAxis:function(Ze,an){var ri=pt[le]-Ze;return an?Gt?ri:0:(Gt?1:-1)*ri/2}}},Mt={t:["top","height","y",!0],b:["bottom","height","y",!1],l:["left","width","x",!0],r:["right","width","x",!1]},oe={x:0,y:0};return F.split("").forEach(function(pe){var ne=St.apply(void 0,Oi(Mt[pe]));oe=ze(ze({},oe),Bt(ne))}),oe}return{root:l,vfmContainer:u,vfmContent:f,vfmResize:d,vfmOverlayTransition:h,vfmTransition:m,computedOverlayTransition:rt,computedTransition:_t,visible:b,visibility:y,params:S,calculateZIndex:ht,bindStyle:tt,bindContentStyle:kt,beforeOverlayEnter:Nt,afterOverlayEnter:Ht,beforeOverlayLeave:re,afterOverlayLeave:te,beforeModalEnter:B,afterModalEnter:K,beforeModalLeave:et,afterModalLeave:ft,onMousedown:It,onMouseupContainer:qt,onEsc:Pt}}},nl=K_();q_("data-v-2836fdb5");var cL={key:0,ref:"vfmResize",class:"vfm__resize vfm--absolute vfm--inset vfm--prevent-none vfm--select-none vfm--touch-none"};V_();var fL=nl(function(t,e,i,o,s,l){return i.ssr||o.visible?Ie((N(),Jt("div",{key:0,ref:"root",style:o.bindStyle,class:["vfm vfm--inset",[i.attach===!1?"vfm--fixed":"vfm--absolute",{"vfm--prevent-none":i.preventClick}]],onKeydown:e[4]||(e[4]=xg(function(){return o.onEsc&&o.onEsc.apply(o,arguments)},["esc"]))},[I(De,no(o.computedOverlayTransition,{onBeforeEnter:o.beforeOverlayEnter,onAfterEnter:o.afterOverlayEnter,onBeforeLeave:o.beforeOverlayLeave,onAfterLeave:o.afterOverlayLeave}),{default:nl(function(){return[!i.hideOverlay&&o.visibility.overlay?(N(),Jt("div",{key:0,class:["vfm__overlay vfm--overlay vfm--absolute vfm--inset",i.overlayClass],style:i.overlayStyle},null,6)):Yt("v-if",!0)]}),_:1},16,["onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"]),I(De,no(o.computedTransition,{onBeforeEnter:o.beforeModalEnter,onAfterEnter:o.afterModalEnter,onBeforeLeave:o.beforeModalLeave,onAfterLeave:o.afterModalLeave}),{default:nl(function(){return[Ie(I("div",{ref:"vfmContainer",class:["vfm__container vfm--absolute vfm--inset vfm--outline-none",i.classes],style:i.styles,"aria-expanded":o.visibility.modal.toString(),role:"dialog","aria-modal":"true",tabindex:"-1",onMouseup:e[2]||(e[2]=lf(function(){return o.onMouseupContainer&&o.onMouseupContainer.apply(o,arguments)},["self"])),onMousedown:e[3]||(e[3]=lf(function(){return o.onMousedown&&o.onMousedown.apply(o,arguments)},["self"]))},[I("div",{ref:"vfmContent",class:["vfm__content",[i.contentClass,{"vfm--prevent-auto":i.preventClick}]],style:o.bindContentStyle,onMousedown:e[1]||(e[1]=function(u){return o.onMousedown(null)})},[eo(t.$slots,"default",{params:o.params,close:function(){return t.$emit("update:modelValue",!1)}}),o.visibility.resize&&o.visibility.modal?(N(),Jt("div",cL,[(N(!0),Jt(jt,null,ge(i.resizeDirections,function(u){return N(),Jt("div",{key:u,direction:u,class:["vfm--resize-".concat(u),"vfm--absolute vfm--prevent-auto"]},null,10,["direction"])}),128))],512)):Yt("v-if",!0)],38)],46,["aria-expanded"]),[[Ye,o.visibility.modal]])]}),_:3},16,["onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])],38)),[[Ye,!i.ssr||o.visible]]):Yt("v-if",!0)});function dL(t,e){e===void 0&&(e={});var i=e.insertAt;if(!(!t||typeof document>"u")){var o=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",i==="top"&&o.firstChild?o.insertBefore(s,o.firstChild):o.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}}var hL=`
.vfm--fixed[data-v-2836fdb5] {
  position: fixed;
}
.vfm--absolute[data-v-2836fdb5] {
  position: absolute;
}
.vfm--inset[data-v-2836fdb5] {
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.vfm--overlay[data-v-2836fdb5] {
  background-color: rgba(0, 0, 0, 0.5);
}
.vfm--prevent-none[data-v-2836fdb5] {
  pointer-events: none;
}
.vfm--prevent-auto[data-v-2836fdb5] {
  pointer-events: auto;
}
.vfm--outline-none[data-v-2836fdb5]:focus {
  outline: none;
}
.vfm-enter-active[data-v-2836fdb5],
.vfm-leave-active[data-v-2836fdb5] {
  transition: opacity 0.2s;
}
.vfm-enter-from[data-v-2836fdb5],
.vfm-leave-to[data-v-2836fdb5] {
  opacity: 0;
}
.vfm--touch-none[data-v-2836fdb5] {
  touch-action: none;
}
.vfm--select-none[data-v-2836fdb5] {
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}
.vfm--resize-tr[data-v-2836fdb5],
.vfm--resize-br[data-v-2836fdb5],
.vfm--resize-bl[data-v-2836fdb5],
.vfm--resize-tl[data-v-2836fdb5] {
  width: 12px;
  height: 12px;
  z-index: 10;
}
.vfm--resize-t[data-v-2836fdb5] {
  top: -6px;
  left: 0;
  width: 100%;
  height: 12px;
  cursor: ns-resize;
}
.vfm--resize-tr[data-v-2836fdb5] {
  top: -6px;
  right: -6px;
  cursor: nesw-resize;
}
.vfm--resize-r[data-v-2836fdb5] {
  top: 0;
  right: -6px;
  width: 12px;
  height: 100%;
  cursor: ew-resize;
}
.vfm--resize-br[data-v-2836fdb5] {
  bottom: -6px;
  right: -6px;
  cursor: nwse-resize;
}
.vfm--resize-b[data-v-2836fdb5] {
  bottom: -6px;
  left: 0;
  width: 100%;
  height: 12px;
  cursor: ns-resize;
}
.vfm--resize-bl[data-v-2836fdb5] {
  bottom: -6px;
  left: -6px;
  cursor: nesw-resize;
}
.vfm--resize-l[data-v-2836fdb5] {
  top: 0;
  left: -6px;
  width: 12px;
  height: 100%;
  cursor: ew-resize;
}
.vfm--resize-tl[data-v-2836fdb5] {
  top: -6px;
  left: -6px;
  cursor: nwse-resize;
}
`;dL(hL);Ks.render=fL;Ks.__scopeId="data-v-2836fdb5";Ks.__file="lib/VueFinalModal.vue";var Lu={props:{},methods:{slice:function(e){this.api.dynamicModals.splice(e,1)},beforeOpen:function(e,i,o){var s=this;return $E(function*(){e.ref.params.value=i.params,yield s.$nextTick(),yield s.$nextTick(),i.value||(s.slice(o),i.reject("show"))})()},isString:function(e){return typeof e=="string"}}},pL={class:"modals-container"};function mL(t,e,i,o,s,l){return N(),Jt("div",pL,[(N(!0),Jt(jt,null,ge(t.api.dynamicModals,function(u,f){return N(),Jt(us(u.component),no({key:u.id},u.bind,{modelValue:u.value,"onUpdate:modelValue":function(h){return u.value=h}},zc(u.on),{on_closed:function(h){return l.slice(f)},on_beforeOpen:function(h){return l.beforeOpen(h,u)},on_opened:u.opened}),gv({_:2},[ge(u.slots,function(d,h){return{name:h,fn:Y(function(){return[Yt(" eslint-disable vue/no-v-html "),l.isString(d)?(N(),Jt("div",{key:0,innerHTML:d},null,8,["innerHTML"])):(N(),Jt(us(d.component),no({key:1},d.bind,zc(d.on||{})),null,16))]})}})]),1040,["modelValue","onUpdate:modelValue","on_closed","on_beforeOpen","on_opened"])}),128))])}Lu.render=mL;Lu.__file="lib/ModalsContainer.vue";function _L(){var t=null;return{show:function(i){for(var o=this,s=arguments.length,l=new Array(s>1?s-1:0),u=1;u<s;u++)l[u-1]=arguments[u];switch(qr(i)){case"string":return this.toggle.apply(this,[i,!0].concat(l));case"object":return Promise.allSettled([new Promise(function(f,d){var h={value:!0,id:Symbol("dynamicModal"),component:t,bind:{},slots:{},on:{},params:l[0],reject:d,opened:function(){f("show")}};o.dynamicModals.push(al(Object.assign(h,i)))})])}},hide:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return this.toggle(o,!1)},hideAll:function(){return this.hide.apply(this,Oi(this.openedModals.map(function(i){return i.props.name})))},toggle:function(i){for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];var u=Array.isArray(i)?this.get.apply(this,Oi(i)):this.get(i);return Promise.allSettled(u.map(function(f){return f.toggle.apply(f,s)}))},get:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return this.modals.filter(function(l){return o.includes(l.props.name)})},dynamicModals:al([]),openedModals:[],modals:[],_setDefaultModal:function(i){t=i}}}function Tp(t,e){var i=ze(ze({},t),{},{props:ze({},t.props)});return Object.assign(i.props,{api:{type:Object,default:function(){return e}}}),i}function vL(t){var e=Tp(Ks,t);return t._setDefaultModal(e),e}function gL(t){return Tp(Lu,t)}var fd=0,Ep="$vfm",Lp="VueFinalModal",kp="ModalsContainer",Op=function(){var e,i=_L();return e={},nr(e,Ep,i),nr(e,Lp,vL(i)),nr(e,kp,gL(i)),e},Ys=Op();Ys.$vfm;Ys.VueFinalModal;Ys.ModalsContainer;var Mp=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=fd===0?Ys:Op(),s=o.$vfm,l=o.VueFinalModal,u=o.ModalsContainer;fd+=1;var f=i.key||Ep,d=i.componentName||Lp,h=i.dynamicContainerName||kp;Object.defineProperty(e.config.globalProperties,f,{get:function(){return s}}),e.provide(f,s),e.component(d,l),e.component(h,u)},Ap=function(e){return{install:function(o,s){var l=Object.assign({},e,s);Mp(o,l)}}};Ap.install=Mp;const ku=Pg(DE);ku.use(RE);ku.use(Ap);ku.mount("#app");
